{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Gowize-qa-pipline/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useDispatch,useSelector}from\"react-redux\";import{Table,Col,Row,Spinner}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import moment from\"moment\";import CardWrapper from\"components/Common/CardWrapper\";import CustomPagination from\"components/Common/CustomPagination\";import{useState,useEffect}from\"react\";import{getTransfersStart}from\"store/actions\";import{Th,Thead,Tr}from\"react-super-responsive-table\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Transfers=props=>{var _transfers$docs,_transfers$docs2;const{transfers}=useSelector(state=>state.forex.accounts);const dispatch=useDispatch();const[sizePerPage,setSizePerPage]=useState(10);useEffect(()=>{loadTransfers(1,sizePerPage);},[sizePerPage]);const loadTransfers=function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;if(props.accountId)dispatch(getTransfersStart({limit,page,tradingAccountId:props.accountId}));};const getStatusColor=type=>{switch(String(type).toLowerCase()){case\"approved\":return\"color-green\";case\"rejected\":return\"color-red\";default:return\"\";}};const columns=[{dataField:\"tradingAccountId.login\",text:props.t(\"Account No.\"),formatter:val=>{var _val$tradingAccountId;return val===null||val===void 0?void 0:(_val$tradingAccountId=val.tradingAccountId)===null||_val$tradingAccountId===void 0?void 0:_val$tradingAccountId.login;}},{dataField:\"createdAt\",text:props.t(\"Date\"),formatter:val=>moment(val===null||val===void 0?void 0:val.createdAt).format(\"DD MMM YYYY HH:mm:ss\")},{dataField:\"recordId\",text:props.t(\"Transaction ID\")},{dataField:\"amount\",text:props.t(\"Amount\"),formatter:val=>/*#__PURE__*/_jsx(\"span\",{className:\"text-capitalize\",children:val===null||val===void 0?void 0:val.amount})},{dataField:\"type\",text:props.t(\"Transaction Type\"),formatter:val=>/*#__PURE__*/_jsx(\"span\",{className:\"text-capitalize\",children:val===null||val===void 0?void 0:val.type})},{dataField:\"status\",text:props.t(\"Status\"),formatter:val=>/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(getStatusColor(val===null||val===void 0?void 0:val.status),\" text-capitalize\"),children:val===null||val===void 0?void 0:val.status})}];return/*#__PURE__*/_jsxs(CardWrapper,{className:\"mt-3 px-5 py-4 shadow glass-card\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-between\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"color-primary\",children:props.t(\"Recent Transfers\")})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 border rounded-3\",children:/*#__PURE__*/_jsxs(Table,{borderless:true,responsive:true,className:\"text-center mb-0\",children:[/*#__PURE__*/_jsx(Thead,{className:\"text-center table-light\",children:/*#__PURE__*/_jsx(Tr,{children:columns.map((column,index)=>/*#__PURE__*/_jsx(Th,{\"data-priority\":index,className:\"color-primary\",children:column.text},index))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"border-top\",children:transfers.loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"py-4\",colSpan:\"100%\",children:/*#__PURE__*/_jsx(Spinner,{})})}):!props.accountId?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"100%\",className:\"my-2\",children:props.t(\"Please select an account.\")})}):(transfers===null||transfers===void 0?void 0:(_transfers$docs=transfers.docs)===null||_transfers$docs===void 0?void 0:_transfers$docs.length)===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"100%\",className:\"my-2\",children:props.t(\"No recent transfers for this account.\")})}):transfers===null||transfers===void 0?void 0:(_transfers$docs2=transfers.docs)===null||_transfers$docs2===void 0?void 0:_transfers$docs2.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{children:columns.map((column,index)=>/*#__PURE__*/_jsx(\"td\",{className:\"font-weight-bold\",children:column.formatter?column.formatter(row,rowIndex):row[column.dataField]},\"\".concat(rowIndex,\"-\").concat(index)))},rowIndex))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(CustomPagination,_objectSpread(_objectSpread({},transfers),{},{setSizePerPage:setSizePerPage,sizePerPage:sizePerPage,onChange:loadTransfers}))})]});};export default withTranslation()(Transfers);","map":{"version":3,"names":["useDispatch","useSelector","Table","Col","Row","Spinner","withTranslation","moment","CardWrapper","CustomPagination","useState","useEffect","getTransfersStart","Th","Thead","Tr","jsx","_jsx","jsxs","_jsxs","Transfers","props","_transfers$docs","_transfers$docs2","transfers","state","forex","accounts","dispatch","sizePerPage","setSizePerPage","loadTransfers","page","arguments","length","undefined","limit","accountId","tradingAccountId","getStatusColor","type","String","toLowerCase","columns","dataField","text","t","formatter","val","_val$tradingAccountId","login","createdAt","format","className","children","amount","concat","status","borderless","responsive","map","column","index","loading","colSpan","docs","row","rowIndex","_objectSpread","onChange"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Forex/Accounts/Transfers.js"],"sourcesContent":["\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Table, Col, Row, Spinner\n} from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\n\nimport moment from \"moment\";\n\nimport CardWrapper from \"components/Common/CardWrapper\";\n\nimport CustomPagination from \"components/Common/CustomPagination\";\nimport { useState, useEffect } from \"react\";\nimport { getTransfersStart } from \"store/actions\";\nimport {\n  Th,\n  Thead,\n  Tr\n} from \"react-super-responsive-table\";\n\n\nconst Transfers = (props) => {\n  const { transfers } = useSelector((state) => state.forex.accounts);\n  const dispatch = useDispatch();\n  const [sizePerPage, setSizePerPage] = useState(10);\n\n  useEffect(() => {\n    loadTransfers(1, sizePerPage);\n  }, [sizePerPage]);\n\n  const loadTransfers = (page = 1, limit = 10) => {\n    if (props.accountId) dispatch(getTransfersStart({\n      limit,\n      page,\n      tradingAccountId: props.accountId\n    }));\n  };\n\n  const getStatusColor = (type) => {\n    switch (String(type).toLowerCase()) {\n      case \"approved\":\n        return \"color-green\";\n      case \"rejected\":\n        return \"color-red\";\n      default:\n        return \"\";\n    }\n  };\n\n  const columns = [\n    {\n      dataField: \"tradingAccountId.login\",\n      text: props.t(\"Account No.\"),\n      formatter: (val) => val?.tradingAccountId?.login,\n    },\n    {\n      dataField: \"createdAt\",\n      text: props.t(\"Date\"),\n      formatter: (val) => moment(val?.createdAt).format(\"DD MMM YYYY HH:mm:ss\"),\n    },\n    {\n      dataField: \"recordId\",\n      text: props.t(\"Transaction ID\"),\n    },\n    {\n      dataField: \"amount\",\n      text: props.t(\"Amount\"),\n      formatter: (val) => <span className=\"text-capitalize\">{val?.amount}</span>,\n    },\n    {\n      dataField: \"type\",\n      text: props.t(\"Transaction Type\"),\n      formatter: (val) => <span className=\"text-capitalize\">{val?.type}</span>,\n    },\n    {\n      dataField: \"status\",\n      text: props.t(\"Status\"),\n      formatter: (val) => <span className={`${getStatusColor(val?.status)} text-capitalize`}>{val?.status}</span>,\n    },\n  ];\n\n  return (\n    <CardWrapper className=\"mt-3 px-5 py-4 shadow glass-card\">\n      <Row>\n        <Col className=\"d-flex justify-content-between\">\n          <h3 className=\"color-primary\">{props.t(\"Recent Transfers\")}</h3>\n\n        </Col>\n      </Row>\n      <div className=\"mt-4 border rounded-3\">\n        <Table borderless responsive className=\"text-center mb-0\" >\n          <Thead className=\"text-center table-light\">\n            <Tr>\n              {columns.map((column, index) => (\n                <Th data-priority={index} key={index} className=\"color-primary\"> \n                  {column.text}\n                </Th>\n              ))}\n            </Tr>\n          </Thead>\n          <tbody className=\"border-top\">\n            {transfers.loading\n              ? <tr><td className=\"py-4\" colSpan=\"100%\"><Spinner /></td></tr>\n              : !props.accountId\n                ? <tr><td colSpan=\"100%\" className=\"my-2\">{props.t(\"Please select an account.\")}</td></tr>\n                : transfers?.docs?.length === 0\n                  ? <tr><td colSpan=\"100%\" className=\"my-2\">{props.t(\"No recent transfers for this account.\")}</td></tr>\n                  : transfers?.docs?.map((row, rowIndex) => (\n                    <tr key={rowIndex}>\n                      {columns.map((column, index) => (\n                        <td key={`${rowIndex}-${index}`} className=\"font-weight-bold\">\n                          {column.formatter\n                            ? column.formatter(row, rowIndex)\n                            : row[column.dataField]}\n                        </td>\n                      ))}\n                    </tr>))\n            }\n          </tbody>\n        </Table>\n      </div>\n      <div className=\"mt-4\">\n        <CustomPagination\n          {...transfers}\n          setSizePerPage={setSizePerPage}\n          sizePerPage={sizePerPage}\n          onChange={loadTransfers}\n        />\n      </div>\n    </CardWrapper>\n  );\n};\n\nexport default withTranslation()(Transfers);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}