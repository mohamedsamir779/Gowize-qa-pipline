{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useContext}from\"react\";import{connect,useDispatch}from\"react-redux\";import{fetchMarkets,fetchOrderBooks,fetchProfile,fetchHighKlines,fetchAssets,fetchDictStart,fetchLogs,fetchBankAccounts}from\"../../store/actions\";import SocketContext from\"../../context/context\";import{useHistory}from\"react-router-dom\";import{enableCrypto}from\"config\";import{Fragment as _Fragment,jsx as _jsx}from\"react/jsx-runtime\";const PortalEntryPoint=props=>{const history=useHistory();const dispatch=useDispatch();const{setState}=useContext(SocketContext);useEffect(()=>{dispatch(fetchProfile({history}));dispatch(fetchDictStart());if(enableCrypto){dispatch(fetchMarkets());dispatch(fetchOrderBooks());dispatch(fetchHighKlines());}dispatch(fetchAssets());dispatch(fetchLogs({limit:10,page:1}));dispatch(fetchBankAccounts());},[]);useEffect(()=>{setState(state=>{var _props$profile,_props$profile$markup;return _objectSpread(_objectSpread({},state),{},{markupId:(_props$profile=props.profile)===null||_props$profile===void 0?void 0:(_props$profile$markup=_props$profile.markupId)===null||_props$profile$markup===void 0?void 0:_props$profile$markup._id});});},[props.profile]);return/*#__PURE__*/_jsx(_Fragment,{});};const mapStateToProps=state=>({profile:state.Profile.clientData});export default connect(mapStateToProps,null)(PortalEntryPoint);","map":{"version":3,"names":["React","useEffect","useContext","connect","useDispatch","fetchMarkets","fetchOrderBooks","fetchProfile","fetchHighKlines","fetchAssets","fetchDictStart","fetchLogs","fetchBankAccounts","SocketContext","useHistory","enableCrypto","Fragment","_Fragment","jsx","_jsx","PortalEntryPoint","props","history","dispatch","setState","limit","page","state","_props$profile","_props$profile$markup","_objectSpread","markupId","profile","_id","mapStateToProps","Profile","clientData"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/VerticalLayout/PortalEntryPoint.js"],"sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport {\n  fetchMarkets, \n  fetchOrderBooks, \n  fetchProfile, \n  fetchHighKlines, \n  fetchAssets, \n  fetchDictStart, \n  fetchLogs,\n  fetchBankAccounts,\n} from \"../../store/actions\";\nimport SocketContext from \"../../context/context\";\nimport { useHistory } from \"react-router-dom\";\nimport { enableCrypto } from \"config\";\n\n\nconst PortalEntryPoint = props => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const {\n    setState,\n  } = useContext(SocketContext);\n  useEffect(() => {\n    dispatch(fetchProfile({ history }));\n    dispatch(fetchDictStart());\n    if (enableCrypto) {\n      dispatch(fetchMarkets());\n      dispatch(fetchOrderBooks());\n      dispatch(fetchHighKlines());\n    }\n    dispatch(fetchAssets());\n    dispatch(fetchLogs({\n      limit: 10,\n      page: 1\n    }));\n    dispatch(fetchBankAccounts());\n  }, []);\n\n  useEffect(() => {\n    setState(state => {\n      return {\n        ...state,\n        markupId: props.profile?.markupId?._id,\n      };\n    });\n  }, [props.profile]);\n\n  return <></>;\n};\n\nconst mapStateToProps = (state) => ({\n  profile: state.Profile.clientData,\n});\nexport default connect(mapStateToProps, null)(PortalEntryPoint);"],"mappings":"mIAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,OAASC,OAAO,CAAEC,WAAW,KAAQ,aAAa,CAClD,OACEC,YAAY,CACZC,eAAe,CACfC,YAAY,CACZC,eAAe,CACfC,WAAW,CACXC,cAAc,CACdC,SAAS,CACTC,iBAAiB,KACZ,qBAAqB,CAC5B,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,YAAY,KAAQ,QAAQ,CAAC,OAAAC,QAAA,IAAAC,SAAA,CAAAC,GAAA,IAAAC,IAAA,yBAGtC,KAAM,CAAAC,gBAAgB,CAAGC,KAAK,EAAI,CAChC,KAAM,CAAAC,OAAO,CAAGR,UAAU,CAAC,CAAC,CAC5B,KAAM,CAAAS,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAC9B,KAAM,CACJoB,QACF,CAAC,CAAGtB,UAAU,CAACW,aAAa,CAAC,CAC7BZ,SAAS,CAAC,IAAM,CACdsB,QAAQ,CAAChB,YAAY,CAAC,CAAEe,OAAQ,CAAC,CAAC,CAAC,CACnCC,QAAQ,CAACb,cAAc,CAAC,CAAC,CAAC,CAC1B,GAAIK,YAAY,CAAE,CAChBQ,QAAQ,CAAClB,YAAY,CAAC,CAAC,CAAC,CACxBkB,QAAQ,CAACjB,eAAe,CAAC,CAAC,CAAC,CAC3BiB,QAAQ,CAACf,eAAe,CAAC,CAAC,CAAC,CAC7B,CACAe,QAAQ,CAACd,WAAW,CAAC,CAAC,CAAC,CACvBc,QAAQ,CAACZ,SAAS,CAAC,CACjBc,KAAK,CAAE,EAAE,CACTC,IAAI,CAAE,CACR,CAAC,CAAC,CAAC,CACHH,QAAQ,CAACX,iBAAiB,CAAC,CAAC,CAAC,CAC/B,CAAC,CAAE,EAAE,CAAC,CAENX,SAAS,CAAC,IAAM,CACduB,QAAQ,CAACG,KAAK,EAAI,KAAAC,cAAA,CAAAC,qBAAA,CAChB,OAAAC,aAAA,CAAAA,aAAA,IACKH,KAAK,MACRI,QAAQ,EAAAH,cAAA,CAAEP,KAAK,CAACW,OAAO,UAAAJ,cAAA,kBAAAC,qBAAA,CAAbD,cAAA,CAAeG,QAAQ,UAAAF,qBAAA,iBAAvBA,qBAAA,CAAyBI,GAAG,GAE1C,CAAC,CAAC,CACJ,CAAC,CAAE,CAACZ,KAAK,CAACW,OAAO,CAAC,CAAC,CAEnB,mBAAOb,IAAA,CAAAF,SAAA,GAAI,CAAC,CACd,CAAC,CAED,KAAM,CAAAiB,eAAe,CAAIP,KAAK,GAAM,CAClCK,OAAO,CAAEL,KAAK,CAACQ,OAAO,CAACC,UACzB,CAAC,CAAC,CACF,cAAe,CAAAjC,OAAO,CAAC+B,eAAe,CAAE,IAAI,CAAC,CAACd,gBAAgB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}