{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{connect,useDispatch}from\"react-redux\";import{Col,Container,Input,Label,Row}from\"reactstrap\";import Select from\"react-select\";import moment from\"moment\";import{withTranslation}from\"react-i18next\";import{fetchDepositGateWay,fetchWithdrawalGateWay}from\"../../../../store/crypto/history/actions\";import CardWrapper from\"components/Common/CardWrapper\";import CustomSelect from\"components/Common/CustomSelect\";import{getAssetImgSrc}from\"helpers/assetImgSrc\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function AllFilters(props){const dispatch=useDispatch();const[currency,setCurrency]=useState();const[fromDate,setFromDate]=useState();const[toDate,setToDate]=useState();const[gateway,setGateway]=useState();const[status,setStatus]=useState();const currencyOptions=props.wallets.map(wallet=>{return{value:wallet.assetId.symbol,label:wallet.assetId.symbol,image:getAssetImgSrc(wallet.assetId)};});const statusOptions=[{value:\"PENDING\",label:\"Pending\"},{value:\"APPROVED\",label:\"Approved\"},{value:\"REJECTED\",label:\"Rejected\"}];const gatewaysKeys=props.depositGateways&&Object.keys(props.depositGateways);const gatewayOptions=gatewaysKeys===null||gatewaysKeys===void 0?void 0:gatewaysKeys.map(gatewayOption=>{return{value:gatewayOption,label:gatewayOption};});useEffect(()=>{dispatch(fetchDepositGateWay());dispatch(fetchWithdrawalGateWay());},[]);useEffect(()=>{props.filterHandler({currency,status,gateway,fromDate,toDate});},[currency,fromDate,toDate,gateway,status]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(CardWrapper,{className:\"mb-2 glass-card shadow\",children:/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:props.t(\"Filter by\")}),/*#__PURE__*/_jsxs(Row,{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{children:props.t(\"Currency\")}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CustomSelect,{isClearable:true,isSearchable:true,options:currencyOptions,onChange:e=>{setCurrency(e===null||e===void 0?void 0:e.value);}})})]}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:props.t(\"Status\")}),/*#__PURE__*/_jsx(Select,{isClearable:true,isSearchable:true,options:statusOptions,onChange:e=>{setStatus(e===null||e===void 0?void 0:e.value);}})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:props.t(\"Gateway\")}),/*#__PURE__*/_jsx(Select,{isClearable:true,isSearchable:true,options:gatewayOptions,onChange:e=>{setGateway(e===null||e===void 0?void 0:e.value);}})]})})]}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:props.t(\"From Date\")}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"date\",id:\"toDate\",onChange:e=>{setFromDate(e.target.value);},max:toDate?moment(toDate).format(\"YYYY-MM-DD\"):moment().format(\"YYYY-MM-DD\")})]})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:props.t(\"To Date\")}),/*#__PURE__*/_jsx(Input,{className:\"form-control\",type:\"date\",id:\"toDate\",onChange:e=>{setToDate(e.target.value);},max:moment().format(\"YYYY-MM-DD\"),min:fromDate&&moment(fromDate).format(\"YYYY-MM-DD\")})]})})]})]})})});}const mapStateToProps=state=>({depositGateways:state.crypto.historyReducer.depositGateWays,withdrawalGateways:state.crypto.historyReducer.withdrawalGateWays});export default connect(mapStateToProps,null)(withTranslation()(AllFilters));","map":{"version":3,"names":["React","useState","useEffect","connect","useDispatch","Col","Container","Input","Label","Row","Select","moment","withTranslation","fetchDepositGateWay","fetchWithdrawalGateWay","CardWrapper","CustomSelect","getAssetImgSrc","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AllFilters","props","dispatch","currency","setCurrency","fromDate","setFromDate","toDate","setToDate","gateway","setGateway","status","setStatus","currencyOptions","wallets","map","wallet","value","assetId","symbol","label","image","statusOptions","gatewaysKeys","depositGateways","Object","keys","gatewayOptions","gatewayOption","filterHandler","children","className","t","isClearable","isSearchable","options","onChange","e","type","id","target","max","format","min","mapStateToProps","state","crypto","historyReducer","depositGateWays","withdrawalGateways","withdrawalGateWays"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Crypto/History/filters/AllFilters.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { \n  Col,\n  Container, Input, Label, Row \n} from \"reactstrap\";\nimport Select from \"react-select\";\nimport moment from \"moment\";\nimport { withTranslation } from \"react-i18next\";\nimport { fetchDepositGateWay, fetchWithdrawalGateWay } from \"../../../../store/crypto/history/actions\";\nimport CardWrapper from \"components/Common/CardWrapper\";\nimport CustomSelect from \"components/Common/CustomSelect\";\nimport { getAssetImgSrc } from \"helpers/assetImgSrc\";\n\nfunction AllFilters(props) {\n  const dispatch = useDispatch();\n  const [currency, setCurrency] = useState();\n  const [fromDate, setFromDate] = useState();\n  const [toDate, setToDate] = useState();\n  const [gateway, setGateway] = useState();\n  const [status, setStatus] = useState();\n\n  const currencyOptions = props.wallets.map((wallet) => {\n    return (\n      {\n        value: wallet.assetId.symbol,\n        label: wallet.assetId.symbol,\n        image: getAssetImgSrc(wallet.assetId)\n      }\n    );\n  });\n\n  const statusOptions = [\n    { \n      value: \"PENDING\", \n      label: \"Pending\" \n    },\n    { \n      value: \"APPROVED\",\n      label: \"Approved\" \n    },\n    { \n      value: \"REJECTED\",\n      label: \"Rejected\" \n    },\n  ];\n\n  const gatewaysKeys = props.depositGateways && Object.keys(props.depositGateways);\n  const gatewayOptions = gatewaysKeys?.map((gatewayOption) => {\n    return (\n      {\n        value: gatewayOption,\n        label: gatewayOption\n      }\n    );\n  });\n\n  useEffect(() => {\n    dispatch(fetchDepositGateWay());\n    dispatch(fetchWithdrawalGateWay());\n\n  }, []);\n\n\n  useEffect(() => {\n    props.filterHandler({\n      currency,\n      status,\n      gateway,\n      fromDate,\n      toDate\n    });\n\n  }, [currency, fromDate, toDate, gateway, status]);\n  \n  return (\n    <>\n      <CardWrapper className=\"mb-2 glass-card shadow\">\n        <Container>\n          <h4 className=\"mb-4\">\n            {props.t(\"Filter by\")}\n          </h4>\n          <Row className=\"mb-2\">\n            {/* currency */}\n            <Col>\n              <Label>{props.t(\"Currency\")}</Label>\n              <div>\n                <CustomSelect\n                  isClearable={true}\n                  isSearchable={true}\n                  options={currencyOptions}\n                  onChange={(e) => {\n                    setCurrency(e?.value);\n                  }}\n                />\n              </div>\n            </Col>\n\n            {/* status */}\n            <Col>\n              <div>\n                <Label>{props.t(\"Status\")}</Label>\n                <Select\n                  isClearable={true}\n                  isSearchable={true}\n                  options={statusOptions}\n                  onChange={(e) => {setStatus(e?.value)}}\n                />\n              </div>\n            </Col>\n\n            {/* gateway */}\n            <Col>\n              <div>\n                <Label>{props.t(\"Gateway\")}</Label>\n                <Select\n                  isClearable={true}\n                  isSearchable={true}\n                  options={gatewayOptions}\n                  onChange={(e) => {setGateway(e?.value)}}\n                />\n              </div>\n            </Col>\n          </Row>\n\n          <Row>\n            {/* fromDate */}\n            <Col>\n              <div>\n                <Label>{props.t(\"From Date\")}</Label>\n                <Input\n                  className=\"form-control\"\n                  type=\"date\"\n                  id=\"toDate\"\n                  onChange={(e) => {setFromDate(e.target.value)}}\n                  max={toDate ? moment(toDate).format(\"YYYY-MM-DD\") : moment().format(\"YYYY-MM-DD\")}\n                />\n              </div>\n            </Col>\n\n            {/* toDate */}\n            <Col>\n              <div>\n                <Label>{props.t(\"To Date\")}</Label>\n                <Input\n                  className=\"form-control\"\n                  type=\"date\"\n                  id=\"toDate\"\n                  onChange={(e) => {setToDate(e.target.value)}}\n                  max={moment().format(\"YYYY-MM-DD\")}\n                  min={fromDate && moment(fromDate).format(\"YYYY-MM-DD\")}\n                />\n              </div>\n            </Col>\n          </Row>\n        </Container>\n      </CardWrapper>\n    </>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  depositGateways: state.crypto.historyReducer.depositGateWays,\n  withdrawalGateways: state.crypto.historyReducer.withdrawalGateWays\n});\n\nexport default connect(mapStateToProps, null)(withTranslation()(AllFilters)); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}