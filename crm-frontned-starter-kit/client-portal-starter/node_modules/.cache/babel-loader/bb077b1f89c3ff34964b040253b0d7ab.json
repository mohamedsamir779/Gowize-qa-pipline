{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{MetaTags}from\"react-meta-tags\";import{useTranslation}from\"react-i18next\";import{Container}from\"reactstrap\";import Select from\"react-select\";import{fetchAgreements,getAccountTypesStart}from\"store/actions\";import PageHeader2 from\"components/Forex/Common/pageHeader2\";import DedicatedLinks from\"./DedicatedLinks\";import AgreementDetails from\"./AgreementDetails\";import IbNotApproved from\"components/Common/IbNotApproved\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Partnership(){const dispatch=useDispatch();const{t}=useTranslation();const{recordId}=useSelector(state=>{var _state$Profile;return(_state$Profile=state.Profile)===null||_state$Profile===void 0?void 0:_state$Profile.clientData;});const{agreements}=useSelector(state=>state.forex.ib.agreements);const{accountTypes}=useSelector(state=>state.forex.accounts);const{subPortal}=useSelector(state=>state.Layout);const partnershipAgreement=useSelector(state=>{var _state$Profile$client,_state$Profile$client2;return(_state$Profile$client=state.Profile.clientData.stages)===null||_state$Profile$client===void 0?void 0:(_state$Profile$client2=_state$Profile$client.ib)===null||_state$Profile$client2===void 0?void 0:_state$Profile$client2.partnershipAgreement;});const[selectedAgreement,setSelectedAgreement]=useState({});const[isIbPortal]=useState(subPortal===\"IB\");useEffect(()=>{dispatch(fetchAgreements());dispatch(getAccountTypesStart());},[]);useEffect(()=>{agreements&&setSelectedAgreement(agreements[0]);},[agreements]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:t(\"Partnership\")})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[isIbPortal&&!partnershipAgreement&&/*#__PURE__*/_jsx(IbNotApproved,{}),/*#__PURE__*/_jsx(PageHeader2,{title:\"Partnership\"}),selectedAgreement&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Select,{name:\"agreement\",className:\"w-25\",defaultValue:{label:selectedAgreement===null||selectedAgreement===void 0?void 0:selectedAgreement.title},options:agreements===null||agreements===void 0?void 0:agreements.map(agreement=>{return{label:agreement.title,value:agreement};}),onChange:e=>setSelectedAgreement(e.value)})}),/*#__PURE__*/_jsx(DedicatedLinks,{parentRef:recordId,agRef:selectedAgreement===null||selectedAgreement===void 0?void 0:selectedAgreement.recordId}),/*#__PURE__*/_jsx(AgreementDetails,{agreement:selectedAgreement,accountTypes:accountTypes})]})})]});}export default Partnership;","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","MetaTags","useTranslation","Container","Select","fetchAgreements","getAccountTypesStart","PageHeader2","DedicatedLinks","AgreementDetails","IbNotApproved","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Partnership","dispatch","t","recordId","state","_state$Profile","Profile","clientData","agreements","forex","ib","accountTypes","accounts","subPortal","Layout","partnershipAgreement","_state$Profile$client","_state$Profile$client2","stages","selectedAgreement","setSelectedAgreement","isIbPortal","children","className","title","name","defaultValue","label","options","map","agreement","value","onChange","e","parentRef","agRef"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Forex/Partnership/Partnership/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MetaTags } from \"react-meta-tags\";\nimport { useTranslation } from \"react-i18next\";\nimport { Container } from \"reactstrap\";\nimport Select from \"react-select\";\n\nimport { fetchAgreements, getAccountTypesStart } from \"store/actions\";\nimport PageHeader2 from \"components/Forex/Common/pageHeader2\";\nimport DedicatedLinks from \"./DedicatedLinks\";\nimport AgreementDetails from \"./AgreementDetails\";\nimport IbNotApproved from \"components/Common/IbNotApproved\";\n\nfunction Partnership() {\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n  const { recordId } = useSelector((state) => state.Profile?.clientData);\n  const { agreements } = useSelector((state) => state.forex.ib.agreements);\n  const { accountTypes } = useSelector((state) => state.forex.accounts);\n  const { subPortal } = useSelector(state => state.Layout);\n  const partnershipAgreement = useSelector((state) => (state.Profile.clientData.stages?.ib?.partnershipAgreement));\n\n  const [selectedAgreement, setSelectedAgreement] = useState({});\n  const [isIbPortal, ] = useState(subPortal === \"IB\");\n\n  useEffect(() => {\n    dispatch(fetchAgreements());\n    dispatch(getAccountTypesStart());\n  }, []);\n\n  useEffect(() => {\n    agreements && setSelectedAgreement(agreements[0]);\n  }, [agreements]);\n\n  return (\n    <>\n      <MetaTags>\n        <title>{t(\"Partnership\")}</title>\n      </MetaTags>\n      <div className=\"page-content\">\n        <Container className=\"mt-5\">\n          {isIbPortal && !partnershipAgreement && <IbNotApproved />}\n          <PageHeader2 title=\"Partnership\" />\n          {selectedAgreement && <>\n            \n            <Select\n              name=\"agreement\"\n              className=\"w-25\"\n              defaultValue={{ label: selectedAgreement?.title }}\n              options={agreements?.map(agreement => {\n                return {\n                  label: agreement.title,\n                  value: agreement,\n                };\n              }\n              )}\n              onChange={(e) => setSelectedAgreement(e.value)}\n            /></>}\n          <DedicatedLinks parentRef={recordId} agRef={selectedAgreement?.recordId} />\n          <AgreementDetails agreement={selectedAgreement} accountTypes={accountTypes} />\n        </Container>\n      </div>\n    </>\n  );\n}\n\nexport default Partnership;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}