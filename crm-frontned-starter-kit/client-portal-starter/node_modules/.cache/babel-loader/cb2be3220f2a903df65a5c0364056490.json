{"ast":null,"code":"import{ButtonGroup,Button,Table,Spinner}from\"reactstrap\";import{useDispatch,useSelector}from\"react-redux\";import{getOrdersStart}from\"../../../store/crypto/orders/actions\";import{useTranslation,withTranslation}from\"react-i18next\";import CardWrapper from\"../../../components/Common/CardWrapper\";import{useState,useEffect}from\"react\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const OrderHistory=()=>{const dispatch=useDispatch();const{orders:orderHistory,loading}=useSelector(state=>state.crypto.orders);const[orderStatus,setOrderStatus]=useState(\"closed\");const{t}=useTranslation();const formatDate=date=>{const d=new Date(date);return\"\".concat(d.toLocaleDateString(),\", \").concat(d.toLocaleTimeString());};useEffect(()=>{dispatch(getOrdersStart({limit:5,status:orderStatus}));},[orderStatus]);return/*#__PURE__*/_jsxs(CardWrapper,{className:\"custom-height\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between py-2\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-capitalize\",children:[orderStatus,\" \",t(\"Orders\")]}),/*#__PURE__*/_jsxs(ButtonGroup,{className:\"border rounded\",children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:orderStatus===\"open\"?\"secondary\":\"white\",className:\"px-3\",onClick:()=>setOrderStatus(\"open\"),children:t(\"Open\")}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:orderStatus===\"closed\"?\"secondary\":\"white\",className:\"px-3\",onClick:()=>setOrderStatus(\"closed\"),children:t(\"Closed\")})]})]}),/*#__PURE__*/_jsxs(Table,{borderless:true,className:\"text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Symbol\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Date\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Type\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Side\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Amount\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Tp\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Sl\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:t(\"Price\")})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",colSpan:\"100%\",children:/*#__PURE__*/_jsx(Spinner,{})})}):(orderHistory===null||orderHistory===void 0?void 0:orderHistory.length)>0?orderHistory.map(item=>{var _item$amount$$numberD,_item$amount,_item$paramsData,_item$paramsData2,_item$price$$numberDe,_item$price;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:item.symbol}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:/*#__PURE__*/_jsx(\"span\",{children:formatDate(item.createdAt)})}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:item.type}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:item.side}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:(_item$amount$$numberD=(_item$amount=item.amount)===null||_item$amount===void 0?void 0:_item$amount.$numberDecimal)!==null&&_item$amount$$numberD!==void 0?_item$amount$$numberD:item.amount}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:(_item$paramsData=item.paramsData)===null||_item$paramsData===void 0?void 0:_item$paramsData.tp}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:(_item$paramsData2=item.paramsData)===null||_item$paramsData2===void 0?void 0:_item$paramsData2.sl}),/*#__PURE__*/_jsx(\"td\",{className:\"pb-0\",children:(_item$price$$numberDe=(_item$price=item.price)===null||_item$price===void 0?void 0:_item$price.$numberDecimal)!==null&&_item$price$$numberDe!==void 0?_item$price$$numberDe:item.price})]},item._id);}):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsxs(\"td\",{className:\"pb-0\",colSpan:\"100%\",children:[\"You don't have any \",orderStatus,\" orders.\"]})})})]})]});};export default withTranslation()(OrderHistory);","map":{"version":3,"names":["ButtonGroup","Button","Table","Spinner","useDispatch","useSelector","getOrdersStart","useTranslation","withTranslation","CardWrapper","useState","useEffect","jsxs","_jsxs","jsx","_jsx","OrderHistory","dispatch","orders","orderHistory","loading","state","crypto","orderStatus","setOrderStatus","t","formatDate","date","d","Date","concat","toLocaleDateString","toLocaleTimeString","limit","status","className","children","size","color","onClick","borderless","colSpan","length","map","item","_item$amount$$numberD","_item$amount","_item$paramsData","_item$paramsData2","_item$price$$numberDe","_item$price","symbol","createdAt","type","side","amount","$numberDecimal","paramsData","tp","sl","price","_id"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Crypto/Exchange/OrderHistory.js"],"sourcesContent":["import {\n  ButtonGroup,\n  Button,\n  Table,\n  Spinner\n} from \"reactstrap\";\n\nimport {\n  useDispatch, useSelector\n} from \"react-redux\";\nimport { getOrdersStart } from \"../../../store/crypto/orders/actions\";\n\nimport { useTranslation, withTranslation } from \"react-i18next\";\n\nimport CardWrapper from \"../../../components/Common/CardWrapper\";\nimport { useState, useEffect } from \"react\";\n\nconst OrderHistory = () => {\n  const dispatch = useDispatch();\n  const { orders: orderHistory, loading } = useSelector(state => state.crypto.orders);\n  const [orderStatus, setOrderStatus] = useState(\"closed\");\n  const { t } =  useTranslation(); \n  const formatDate = (date) => {\n    const d = new Date(date);\n    return `${d.toLocaleDateString()}, ${d.toLocaleTimeString()}`;\n  };\n\n  useEffect(() => {\n    dispatch(getOrdersStart({\n      limit: 5,\n      status: orderStatus\n    }));\n  }, [orderStatus]);\n  return (\n    <CardWrapper className=\"custom-height\">\n      <div className=\"d-flex justify-content-between py-2\">\n        <h5 className=\"text-capitalize\">{orderStatus} {t(\"Orders\")}</h5>\n        <ButtonGroup className=\"border rounded\">\n          <Button size=\"sm\" color={orderStatus === \"open\" ? \"secondary\" : \"white\"} className=\"px-3\"\n            onClick={() => setOrderStatus(\"open\")}\n          >\n            {t(\"Open\")}</Button>\n          <Button size=\"sm\" color={orderStatus === \"closed\" ? \"secondary\" : \"white\"} className=\"px-3\"\n            onClick={() => setOrderStatus(\"closed\")}\n          >\n            {t(\"Closed\")}</Button>\n        </ButtonGroup>\n      </div>\n      <Table borderless className=\"text-center\">\n        <thead>\n          <tr>\n            <th className=\"pb-0\">{t(\"Symbol\")}</th>\n            <th className=\"pb-0\">{t(\"Date\")}</th>\n            <th className=\"pb-0\">{t(\"Type\")}</th>\n            <th className=\"pb-0\">{t(\"Side\")}</th>\n            <th className=\"pb-0\">{t(\"Amount\")}</th>\n            <th className=\"pb-0\">{t(\"Tp\")}</th>\n            <th className=\"pb-0\">{t(\"Sl\")}</th>\n            <th className=\"pb-0\">{t(\"Price\")}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {\n            loading ?\n              <tr>\n                <td className=\"pb-0\" colSpan=\"100%\"><Spinner /></td>\n              </tr>\n              :\n              orderHistory?.length > 0\n                ? orderHistory.map((item) =>\n                  <tr key={item._id}>\n                    <td className=\"pb-0\">{item.symbol}</td>\n                    <td className=\"pb-0\"><span>{formatDate(item.createdAt)}</span></td>\n                    <td className=\"pb-0\">{item.type}</td>\n                    <td className=\"pb-0\">{item.side}</td>\n                    <td className=\"pb-0\">{item.amount?.$numberDecimal ?? item.amount}</td>\n                    <td className=\"pb-0\">{item.paramsData?.tp}</td>\n                    <td className=\"pb-0\">{item.paramsData?.sl}</td>\n                    <td className=\"pb-0\">{item.price?.$numberDecimal ?? item.price}</td>\n                  </tr>\n                )\n                :\n                <tr>\n                  <td className=\"pb-0\" colSpan=\"100%\">You don&apos;t have any {orderStatus} orders.</td>\n                </tr>\n          }\n        </tbody>\n      </Table>\n    </CardWrapper>\n  );\n};\n\nexport default withTranslation()(OrderHistory); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}