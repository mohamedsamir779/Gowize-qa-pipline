{"ast":null,"code":"import{connect,useDispatch}from\"react-redux\";import CustomTable from\"../../../components/Common/CustomTable\";import React,{useState,useEffect}from\"react\";import{Button}from\"reactstrap\";import{getWithdrawalsStart}from\"../../../store/crypto/history/actions\";import{BigNumber}from\"bignumber.js\";import{getAssetImgSrc}from\"helpers/assetImgSrc\";import{withTranslation}from\"react-i18next\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Withdrawls(props){const[limit,setLimit]=useState(5);const dispatch=useDispatch();const columns=[{dataField:\"favoriteIcon\",text:\"\"},{text:props.t(\"Asset\"),formatter:val=>{var _props$assets;const found=(_props$assets=props.assets)===null||_props$assets===void 0?void 0:_props$assets.find(asset=>{var _val$walletId;return asset.symbol===(val===null||val===void 0?void 0:(_val$walletId=val.walletId)===null||_val$walletId===void 0?void 0:_val$walletId.asset);});return/*#__PURE__*/_jsxs(\"div\",{className:\"balances__company\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"balances__logo\",children:/*#__PURE__*/_jsx(\"img\",{src:getAssetImgSrc(found),alt:\"symbol\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"balances__text\",children:val.walletId?val.walletId.asset:\"\"})]});}},{text:props.t(\"Date\"),dataField:\"createdAt\",formatter:item=>{let d=new Date(item.createdAt);d=\"\".concat(d.toLocaleDateString(),\", \").concat(d.toLocaleTimeString());return d;}},{text:props.t(\"Amount\"),dataField:\"amount\",formatter:val=>{var _val$amount;return val!==null&&val!==void 0&&(_val$amount=val.amount)!==null&&_val$amount!==void 0&&_val$amount.$numberDecimal?val.amount.$numberDecimal:val.amount;}},{text:props.t(\"Gateway\"),dataField:\"gateway\"},{text:props.t(\"Status\"),dataField:\"status\"},{text:props.t(\"On Orders\"),formatter:val=>{var _val$walletId$freezeA;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"balances__number\",children:val!==null&&val!==void 0&&(_val$walletId$freezeA=val.walletId.freezeAmount)!==null&&_val$walletId$freezeA!==void 0&&_val$walletId$freezeA.$numberDecimal?val.walletId.freezeAmount.$numberDecimal:val.walletId.freezeAmount})});}},{text:props.t(\"Available Balance\"),formatter:val=>{var _val$walletId2,_val$walletId2$amount;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"balances__number\",children:(_val$walletId2=val.walletId)!==null&&_val$walletId2!==void 0&&(_val$walletId2$amount=_val$walletId2.amount)!==null&&_val$walletId2$amount!==void 0&&_val$walletId2$amount.$numberDecimal?val.walletId.amount.$numberDecimal:val.walletId.amount})});}},{text:props.t(\"Total Balance\"),formatter:val=>{var _val$walletId3,_val$walletId3$amount,_val$walletId4,_val$walletId4$freeze;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"balances__number\",children:val.walletId?new BigNumber(val!==null&&val!==void 0&&(_val$walletId3=val.walletId)!==null&&_val$walletId3!==void 0&&(_val$walletId3$amount=_val$walletId3.amount)!==null&&_val$walletId3$amount!==void 0&&_val$walletId3$amount.$numberDecimal?val.walletId.amount.$numberDecimal:val.walletId.amount).plus(new BigNumber(val!==null&&val!==void 0&&(_val$walletId4=val.walletId)!==null&&_val$walletId4!==void 0&&(_val$walletId4$freeze=_val$walletId4.freezeAmount)!==null&&_val$walletId4$freeze!==void 0&&_val$walletId4$freeze.$numberDecimal?val.walletId.freezeAmount.$numberDecimal:val.walletId.freezeAmount)).toString():\"\"})});}}];// when the filter value changes it fetches data with the new filter\nuseEffect(()=>{var _props$filterObj,_props$filterObj2,_props$filterObj3,_props$filterObj4,_props$filterObj5;dispatch(getWithdrawalsStart({limit:limit,page:1,currency:(_props$filterObj=props.filterObj)===null||_props$filterObj===void 0?void 0:_props$filterObj.currency,status:(_props$filterObj2=props.filterObj)===null||_props$filterObj2===void 0?void 0:_props$filterObj2.status,gateway:(_props$filterObj3=props.filterObj)===null||_props$filterObj3===void 0?void 0:_props$filterObj3.gateway,fromDate:(_props$filterObj4=props.filterObj)===null||_props$filterObj4===void 0?void 0:_props$filterObj4.fromDate,toDate:(_props$filterObj5=props.filterObj)===null||_props$filterObj5===void 0?void 0:_props$filterObj5.toDate}));},[props.filterObj,limit]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(CustomTable,{columns:columns,rows:props.withdrawals,loading:props.withdrawalLoading}),props.withdrawals.length>0&&/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"blue-gradient-color w-100\",onClick:()=>{if(props.withdrawalsTotalDocs>props.withdrawals.length){setLimit(preValue=>preValue+5);}},children:props.t(\"Load More\")})]});}const mapStateToProps=state=>({withdrawals:state.crypto.historyReducer.withdrawals||[],withdrawalsTotalDocs:state.crypto.historyReducer.withdrawalsTotalDocs,withdrawalLoading:state.crypto.historyReducer.withdrawalLoading});export default connect(mapStateToProps,null)(withTranslation()(Withdrawls));","map":{"version":3,"names":["connect","useDispatch","CustomTable","React","useState","useEffect","Button","getWithdrawalsStart","BigNumber","getAssetImgSrc","withTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Withdrawls","props","limit","setLimit","dispatch","columns","dataField","text","t","formatter","val","_props$assets","found","assets","find","asset","_val$walletId","symbol","walletId","className","children","src","alt","item","d","Date","createdAt","concat","toLocaleDateString","toLocaleTimeString","_val$amount","amount","$numberDecimal","_val$walletId$freezeA","freezeAmount","_val$walletId2","_val$walletId2$amount","_val$walletId3","_val$walletId3$amount","_val$walletId4","_val$walletId4$freeze","plus","toString","_props$filterObj","_props$filterObj2","_props$filterObj3","_props$filterObj4","_props$filterObj5","page","currency","filterObj","status","gateway","fromDate","toDate","rows","withdrawals","loading","withdrawalLoading","length","type","onClick","withdrawalsTotalDocs","preValue","mapStateToProps","state","crypto","historyReducer"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Crypto/History/Withdrawals.js"],"sourcesContent":["import { connect, useDispatch } from \"react-redux\";\nimport CustomTable from \"../../../components/Common/CustomTable\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button } from \"reactstrap\";\nimport { getWithdrawalsStart } from \"../../../store/crypto/history/actions\";\nimport { BigNumber } from \"bignumber.js\";\nimport { getAssetImgSrc } from \"helpers/assetImgSrc\";\nimport { withTranslation } from \"react-i18next\";\n\nfunction Withdrawls(props) {\n  const [limit, setLimit] =  useState(5);\n  const dispatch = useDispatch();\n\n  const columns = [\n    {\n      dataField: \"favoriteIcon\",\n      text: \"\"\n    },\n    {\n      text: props.t(\"Asset\"),\n      formatter: (val) => {\n        const found = props.assets?.find((asset)=>asset.symbol === val?.walletId?.asset);\n        return <div className=\"balances__company\">\n          <div className=\"balances__logo\">\n            <img src={getAssetImgSrc(found)} alt=\"symbol\"></img>\n          </div>\n          <div className=\"balances__text\">{val.walletId ? val.walletId.asset : \"\"}</div>\n        </div>;},\n    },\n    {\n      text: props.t(\"Date\"),\n      dataField: \"createdAt\",\n      formatter: (item) => {\n        let d = new Date(item.createdAt);\n        d = `${d.toLocaleDateString()}, ${d.toLocaleTimeString()}`;\n        return d;\n      }\n    },\n    {\n      text: props.t(\"Amount\"),\n      dataField: \"amount\",\n      formatter: (val) => val?.amount?.$numberDecimal ? val.amount.$numberDecimal : val.amount\n    },\n    {\n      text: props.t(\"Gateway\"),\n      dataField: \"gateway\",\n    },\n    {\n      text: props.t(\"Status\"),\n      dataField: \"status\",\n    },\n    {\n      text: props.t(\"On Orders\"),\n      formatter: (val) => <>\n        <div className=\"balances__number\">{val?.walletId.freezeAmount?.$numberDecimal ? val.walletId.freezeAmount.$numberDecimal : val.walletId.freezeAmount}</div>\n      </>\n    },\n    {\n      text: props.t(\"Available Balance\"),\n      formatter: (val) => <>\n        <div className=\"balances__number\">{val.walletId?.amount?.$numberDecimal ? val.walletId.amount.$numberDecimal : val.walletId.amount}</div>        \n      </>\n    },\n    {\n      text: props.t(\"Total Balance\"),\n      formatter: (val) => <>\n        <div className=\"balances__number\">{val.walletId ? \n          new BigNumber(val?.walletId?.amount?.$numberDecimal ? val.walletId.amount.$numberDecimal : val.walletId.amount ).plus(\n            new BigNumber(val?.walletId?.freezeAmount?.$numberDecimal ? val.walletId.freezeAmount.$numberDecimal : val.walletId.freezeAmount)).toString() : \"\"}</div>   \n      </>\n    }\n  ];\n\n  // when the filter value changes it fetches data with the new filter\n  useEffect(() => {\n    dispatch(getWithdrawalsStart({\n      limit:limit,\n      page:1,\n      currency: props.filterObj?.currency,\n      status: props.filterObj?.status,\n      gateway: props.filterObj?.gateway,\n      fromDate: props.filterObj?.fromDate,\n      toDate: props.filterObj?.toDate\n    }));\n  }, [props.filterObj, limit]);\n\n  return (\n    <React.Fragment>\n      <CustomTable \n        columns={columns} \n        rows={props.withdrawals} \n        loading={props.withdrawalLoading}\n      />\n      {props.withdrawals.length > 0 &&\n        <Button type=\"button\" className='blue-gradient-color w-100' onClick={() => {\n          if (props.withdrawalsTotalDocs > props.withdrawals.length) {\n            setLimit(preValue => preValue + 5);\n          }\n\n        }}\n        >{props.t(\"Load More\")}</Button> \n      }\n    </React.Fragment>\n  );\n}\nconst mapStateToProps = (state) => (\n  {\n    withdrawals: state.crypto.historyReducer.withdrawals || [],\n    withdrawalsTotalDocs: state.crypto.historyReducer.withdrawalsTotalDocs,\n    withdrawalLoading: state.crypto.historyReducer.withdrawalLoading,\n  }\n);\nexport default connect(mapStateToProps, null)(withTranslation()(Withdrawls)); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}