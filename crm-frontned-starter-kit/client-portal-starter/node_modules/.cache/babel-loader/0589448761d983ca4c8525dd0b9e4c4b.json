{"ast":null,"code":"import{useEffect,useState}from\"react\";import{Col,Container,Row}from\"reactstrap\";import CryptoCard from\"../../../components/Common/CryptoCard\";import Widgets from\"../../../components/Common/Widgets\";import{useDispatch,connect}from\"react-redux\";import{fetchMarkets,fetchWallets}from\"../../../store/actions\";import MetaTags from\"react-meta-tags\";//i18n\nimport{withTranslation}from\"react-i18next\";import{fetchHighKlines}from\"store/actions\";import CustomDropDown from\"components/Common/CustomDropDown\";import Loader from\"components/Common/Loader\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const dropdownItems=[{title:\"24 hours\",value:\"24h\"},{title:\"7 days\",value:\"7d\"},{title:\"30 days\",value:\"30d\"}];function QuickBuy(props){const dispatch=useDispatch();const[markets,setMarkets]=useState([]);const{markets:m,marketsLoading,wallets}=props;useEffect(()=>{if(!markets||markets.length===0)dispatch(fetchMarkets({markupId:\"aas23e2weq\"}));if(!wallets||wallets.length===0)dispatch(fetchWallets());},[]);useEffect(()=>{if(wallets){let filtered=wallets?m.filter(market=>{if(wallets.find(x=>{var _x$assetId;return(x===null||x===void 0?void 0:(_x$assetId=x.assetId)===null||_x$assetId===void 0?void 0:_x$assetId.symbol)===(market===null||market===void 0?void 0:market.pairName.split(\"/\")[0]);})){return market;}}):m;setMarkets(filtered);}},[wallets,m]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content quick-buy\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:props.t(\"Quick Buy\")})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3\",children:props.t(\"Buy and sell cryptocurrencies in a click!\")}),/*#__PURE__*/_jsxs(Widgets,{tabs:[\"Core Assets\",\"Top Gainers\",\"Top Losers\"],children:[/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(Col,{xs:4,children:/*#__PURE__*/_jsx(\"form\",{className:\"quickbuy-search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"position-relative\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:props.t(\"Search\")+\"...\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn fs-4 d-flex align-items-center\",type:\"button\",children:/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-search-alt-2 align-middle\"})})]})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CustomDropDown,{dropdownItems:dropdownItems,handleClick:item=>{dispatch(fetchHighKlines(item.value));},defaultValue:dropdownItems[0].title})})]})}),marketsLoading&&/*#__PURE__*/_jsx(Loader,{}),!marketsLoading&&/*#__PURE__*/_jsx(Row,{children:markets.map((market,index)=>/*#__PURE__*/_jsx(Col,{md:6,lg:3,children:/*#__PURE__*/_jsx(CryptoCard,{market:market,colors:{strokeColor:\"rgba(255, 167, 52,1)\",chartColor:\"rgba(255, 167, 52, 0.5)\"},cryptoDetails:{iconSrc:\"images/logo/\".concat(market?market.pairName.split(\"/\")[0]:\"BTC\",\".svg\"),coinTitle:\"\".concat(market.pairName),precent:market===null||market===void 0?void 0:market.percentage,marketCap:market!==null&&market!==void 0&&market.close.$numberDecimal?market.close.$numberDecimal:market.close}})},index))})]})]})})]})});}const mapStateToProps=state=>({marketsLoading:state.crypto.markets.loading||false,markets:state.crypto.markets.markets||[],orderBooks:state.crypto.orderBooks.orderBooks||[],wallets:state.crypto.wallets.wallets});export default connect(mapStateToProps,null)(withTranslation()(QuickBuy));","map":{"version":3,"names":["useEffect","useState","Col","Container","Row","CryptoCard","Widgets","useDispatch","connect","fetchMarkets","fetchWallets","MetaTags","withTranslation","fetchHighKlines","CustomDropDown","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","dropdownItems","title","value","QuickBuy","props","dispatch","markets","setMarkets","m","marketsLoading","wallets","length","markupId","filtered","filter","market","find","x","_x$assetId","assetId","symbol","pairName","split","children","className","t","tabs","xs","type","placeholder","handleClick","item","defaultValue","map","index","md","lg","colors","strokeColor","chartColor","cryptoDetails","iconSrc","concat","coinTitle","precent","percentage","marketCap","close","$numberDecimal","mapStateToProps","state","crypto","loading","orderBooks"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Crypto/QuickBuy/index.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport {\n  Col, Container, Row,\n} from \"reactstrap\";\nimport CryptoCard from \"../../../components/Common/CryptoCard\";\nimport Widgets from \"../../../components/Common/Widgets\";\nimport {\n  useDispatch, connect\n} from \"react-redux\";\nimport { fetchMarkets, fetchWallets } from \"../../../store/actions\";\nimport MetaTags from \"react-meta-tags\";\n//i18n\nimport { withTranslation } from \"react-i18next\";\nimport { fetchHighKlines } from \"store/actions\";\nimport CustomDropDown from \"components/Common/CustomDropDown\";\nimport Loader from \"components/Common/Loader\";\n\nconst dropdownItems = [\n  {\n    title:\"24 hours\",\n    value:\"24h\"\n  },\n  {\n    title:\"7 days\",\n    value:\"7d\" \n  },\n  {\n    title:\"30 days\",\n    value:\"30d\" \n  }\n];\n\nfunction QuickBuy(props) {\n  const dispatch = useDispatch();\n  const [markets, setMarkets] = useState([]);\n  const {\n    markets: m,\n    marketsLoading,\n    wallets,\n  } = props;\n\n  useEffect(() => {\n    if (!markets || markets.length === 0)\n      dispatch(fetchMarkets({ markupId: \"aas23e2weq\" }));\n    if (!wallets || wallets.length === 0)\n      dispatch(fetchWallets());\n  }, []);\n  \n  useEffect(() => {\n    if (wallets) {\n      let filtered = wallets ? m.filter((market) => {\n        if (wallets.find((x) => x?.assetId?.symbol === market?.pairName.split(\"/\")[0])) {\n          return market;\n        }\n      }) : m;\n      setMarkets(filtered);\n    }\n  }, [wallets, m]);\n\n  return (<>\n    <div className='page-content quick-buy'>\n      <MetaTags>\n        <title>{props.t(\"Quick Buy\")}</title>\n      </MetaTags>\n      <Container>\n        <div className=\"mt-5\">\n          <h1 className='mb-3'>\n            {props.t(\"Buy and sell cryptocurrencies in a click!\")}\n          </h1>\n          <Widgets tabs={[\"Core Assets\", \"Top Gainers\", \"Top Losers\"]} >\n            <Row className=\"mb-4\">\n              <div className=\"d-flex justify-content-between\">\n                <Col xs={4}>\n                  <form className=\"quickbuy-search\">\n                    <div className=\"position-relative\">\n                      <input type=\"text\" className=\"form-control\" placeholder={props.t(\"Search\") + \"...\"} />\n                      <button className=\"btn fs-4 d-flex align-items-center\" type=\"button\">\n                        <i className=\"bx bx-search-alt-2 align-middle\" />\n                      </button>\n                    </div>\n                  </form>\n                </Col>\n                <div>\n                  <CustomDropDown  dropdownItems={dropdownItems}\n                    handleClick={(item)=>{\n                      dispatch(fetchHighKlines(item.value));\n                    }}\n                    defaultValue={dropdownItems[0].title}>\n\n                  </CustomDropDown>\n                </div>                \n              </div>\n            </Row>\n            {marketsLoading && <Loader/>}\n            {!marketsLoading && (\n              <Row>\n                {\n                  markets.map((market, index) => (\n                    <Col key={index} md={6} lg={3}>\n                      <CryptoCard\n                        market={market}\n                        colors={{\n                          strokeColor: \"rgba(255, 167, 52,1)\",\n                          chartColor: \"rgba(255, 167, 52, 0.5)\"\n                        }}\n                        cryptoDetails={{\n                          iconSrc: `images/logo/${market ? market.pairName.split(\"/\")[0] : \"BTC\"}.svg`,\n                          coinTitle: `${market.pairName}`,\n                          precent: market?.percentage,\n                          marketCap: market?.close.$numberDecimal ? market.close.$numberDecimal : market.close,\n                        }}>\n                      </CryptoCard>\n                    </Col>\n                  ))\n                }\n              </Row>\n            )}\n          </Widgets>\n        </div>\n      </Container>\n    </div>\n  </>);\n}\n\nconst mapStateToProps = (state) => ({\n  marketsLoading: state.crypto.markets.loading || false,\n  markets: state.crypto.markets.markets || [],\n  orderBooks: state.crypto.orderBooks.orderBooks || [],\n  wallets: state.crypto.wallets.wallets,\n});\nexport default connect(mapStateToProps, null)(withTranslation()(QuickBuy)); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}