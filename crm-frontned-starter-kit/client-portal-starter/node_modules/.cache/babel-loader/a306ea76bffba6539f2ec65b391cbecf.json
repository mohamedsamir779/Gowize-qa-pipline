{"ast":null,"code":"import IbNotApproved from\"components/Common/IbNotApproved\";import PageHeader from\"components/Forex/Common/PageHeader\";import captilize from\"helpers/captalize\";import{useEffect,useState}from\"react\";import{useTranslation}from\"react-i18next\";import{MetaTags}from\"react-meta-tags\";import{useSelector}from\"react-redux\";import{useHistory,useParams}from\"react-router-dom\";import{Container}from\"reactstrap\";import Clients from\"./Clients\";import TradingAccounts from\"./TradingAccounts\";import TradingActivity from\"./TradingActivity\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function IbClients(){const{type}=useParams();const history=useHistory();const{clientData}=useSelector(state=>state.Profile);const[selectedClient,setSelectedClient]=useState(undefined);const[selectedTradingAccount,setSelectedTradingAccount]=useState();const{t}=useTranslation();const{subPortal}=useSelector(state=>state.Layout);const partnershipAgreement=useSelector(state=>{var _state$Profile,_state$Profile$client,_state$Profile$client2,_state$Profile$client3;return(_state$Profile=state.Profile)===null||_state$Profile===void 0?void 0:(_state$Profile$client=_state$Profile.clientData)===null||_state$Profile$client===void 0?void 0:(_state$Profile$client2=_state$Profile$client.stages)===null||_state$Profile$client2===void 0?void 0:(_state$Profile$client3=_state$Profile$client2.ib)===null||_state$Profile$client3===void 0?void 0:_state$Profile$client3.partnershipAgreement;});const isIbPortal=subPortal===\"IB\";if(clientData.fx)if(!clientData.fx.isIb){history.push(\"/\");}const[customActiveTab,setCustomActiveTab]=useState(\"1\");const toggleCustom=tab=>customActiveTab!==tab&&setCustomActiveTab(tab);useEffect(()=>{return()=>{setSelectedClient(undefined);setSelectedTradingAccount(undefined);};},[type]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:t(\"\".concat(captilize(type),\" Clients\"))})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(Container,{className:\"mt-5\",children:[isIbPortal&&!partnershipAgreement&&/*#__PURE__*/_jsx(IbNotApproved,{}),/*#__PURE__*/_jsx(PageHeader,{title:t(\"\".concat(captilize(type),\" Clients\"))}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3\",children:/*#__PURE__*/_jsx(Clients,{type:type,setSelectedClient:setSelectedClient,customActiveTab:customActiveTab,toggleCustom:toggleCustom})}),customActiveTab===\"1\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pt-3\",children:/*#__PURE__*/_jsx(TradingAccounts,{type:type,selectedClient:selectedClient,setSelectedTradingAccount:setSelectedTradingAccount})}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3\",children:/*#__PURE__*/_jsx(TradingActivity,{type:type,selectedTradingAccount:selectedTradingAccount})})]})]})})]});}export default IbClients;","map":{"version":3,"names":["IbNotApproved","PageHeader","captilize","useEffect","useState","useTranslation","MetaTags","useSelector","useHistory","useParams","Container","Clients","TradingAccounts","TradingActivity","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","IbClients","type","history","clientData","state","Profile","selectedClient","setSelectedClient","undefined","selectedTradingAccount","setSelectedTradingAccount","t","subPortal","Layout","partnershipAgreement","_state$Profile","_state$Profile$client","_state$Profile$client2","_state$Profile$client3","stages","ib","isIbPortal","fx","isIb","push","customActiveTab","setCustomActiveTab","toggleCustom","tab","children","concat","className","title"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Forex/Partnership/Clients/index.js"],"sourcesContent":["import IbNotApproved from \"components/Common/IbNotApproved\";\nimport PageHeader from \"components/Forex/Common/PageHeader\";\nimport captilize from \"helpers/captalize\";\nimport { useEffect, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { MetaTags } from \"react-meta-tags\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { Container } from \"reactstrap\";\nimport Clients from \"./Clients\";\nimport TradingAccounts from \"./TradingAccounts\";\nimport TradingActivity from \"./TradingActivity\";\n\nfunction IbClients() {\n  const { type } = useParams();\n  const history = useHistory();\n  const { clientData } = useSelector(state=>state.Profile);\n  const [selectedClient, setSelectedClient] = useState(undefined);\n  const [selectedTradingAccount, setSelectedTradingAccount] = useState();\n  const { t } = useTranslation();\n  const { subPortal } = useSelector(state=>state.Layout);\n  const partnershipAgreement = useSelector((state) => (state.Profile?.clientData?.stages?.ib?.partnershipAgreement));\n  const isIbPortal = subPortal === \"IB\";\n\n  if (clientData.fx)\n    if (!clientData.fx.isIb){\n      history.push(\"/\");\n    }\n\n  const [customActiveTab, setCustomActiveTab] = useState(\"1\");\n  const toggleCustom = tab => customActiveTab !== tab && setCustomActiveTab(tab);\n  \n  useEffect(()=>{\n    return () =>{\n      setSelectedClient(undefined);\n      setSelectedTradingAccount(undefined);\n    };\n  }, [type]);\n  return ( <>\n    <MetaTags>\n      <title>{t(`${captilize(type)} Clients`)}</title>\n    </MetaTags>\n    <div className=\"page-content\">\n      <Container className=\"mt-5\">\n        { isIbPortal && !partnershipAgreement && <IbNotApproved /> }\n        <PageHeader title={t(`${captilize(type)} Clients`)} />\n        <div className=\"pt-3\">\n          <Clients type={type} setSelectedClient={setSelectedClient} customActiveTab={customActiveTab} toggleCustom={toggleCustom} />\n        </div>\n        {\n          customActiveTab === \"1\" &&\n          <>\n            <div className=\"pt-3\">\n              <TradingAccounts type={type} selectedClient={selectedClient} setSelectedTradingAccount={setSelectedTradingAccount}/>\n            </div>\n            <div className=\"pt-3\">\n              <TradingActivity type={type} selectedTradingAccount={selectedTradingAccount}/>\n            </div>\n          </>\n        }\n      </Container>\n    </div>\n  </> );\n}\n\nexport default IbClients;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}