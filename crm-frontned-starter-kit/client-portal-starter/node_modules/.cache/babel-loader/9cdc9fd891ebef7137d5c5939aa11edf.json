{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"component\",\"layout\",\"isAuthProtected\"];import React from\"react\";import{Route,Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";const Authmiddleware=_ref=>{let{component:Component,layout:Layout,isAuthProtected}=_ref,rest=_objectWithoutProperties(_ref,_excluded);return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},rest),{},{render:props=>{if(isAuthProtected&&!localStorage.getItem(\"authUser\")){return/*#__PURE__*/_jsx(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Component,_objectSpread({},props))});}}));};export default Authmiddleware;","map":{"version":3,"names":["React","Route","Redirect","jsx","_jsx","Authmiddleware","_ref","component","Component","layout","Layout","isAuthProtected","rest","_objectWithoutProperties","_excluded","_objectSpread","render","props","localStorage","getItem","to","pathname","state","from","location","children"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/routes/middleware/Authmiddleware.js"],"sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst Authmiddleware = ({\n  component: Component,\n  layout: Layout,\n  isAuthProtected,\n  ...rest\n}) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (isAuthProtected && !localStorage.getItem(\"authUser\")) {\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location } \n              }}\n            />\n          );\n        }\n\n        return (\n          <Layout>\n            <Component {...props} />\n          </Layout>\n        );\n      }}\n    />\n  );};\n\nAuthmiddleware.propTypes = {\n  isAuthProtected: PropTypes.bool,\n  component: PropTypes.any,\n  location: PropTypes.object,\n  layout: PropTypes.any,\n};\n\nexport default Authmiddleware;\n"],"mappings":"oVAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEnD,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAKjB,IALkB,CACtBC,SAAS,CAAEC,SAAS,CACpBC,MAAM,CAAEC,MAAM,CACdC,eAEF,CAAC,CAAAL,IAAA,CADIM,IAAI,CAAAC,wBAAA,CAAAP,IAAA,CAAAQ,SAAA,EAEP,mBACEV,IAAA,CAACH,KAAK,CAAAc,aAAA,CAAAA,aAAA,IACAH,IAAI,MACRI,MAAM,CAAEC,KAAK,EAAI,CACf,GAAIN,eAAe,EAAI,CAACO,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAE,CACxD,mBACEf,IAAA,CAACF,QAAQ,EACPkB,EAAE,CAAE,CACFC,QAAQ,CAAE,QAAQ,CAClBC,KAAK,CAAE,CAAEC,IAAI,CAAEN,KAAK,CAACO,QAAS,CAChC,CAAE,CACH,CAAC,CAEN,CAEA,mBACEpB,IAAA,CAACM,MAAM,EAAAe,QAAA,cACLrB,IAAA,CAACI,SAAS,CAAAO,aAAA,IAAKE,KAAK,CAAG,CAAC,CAClB,CAAC,CAEb,CAAE,EACH,CAAC,CACF,CAAC,CASL,cAAe,CAAAZ,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}