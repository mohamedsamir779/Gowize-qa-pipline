{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{addQuestionnaire}from\"apis/forex/ib\";import{AvField,AvForm}from\"availity-reactstrap-validation\";import AvFieldSelecvt from\"components/Common/AvFieldSelect\";import{COUNTRIES}from\"helpers/countries\";import React from\"react\";import{CloseButton}from\"react-bootstrap\";import{useTranslation}from\"react-i18next\";import{useDispatch}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{Button,CardBody,CardHeader,CardTitle,Modal}from\"reactstrap\";import{fetchProfile}from\"store/actions\";import{showErrorNotification,showSuccessNotification}from\"store/general/notifications/actions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function IbQuestionaire(props){const{t}=useTranslation();const dispatch=useDispatch();const history=useHistory();const submitQuestionnaire=async(e,v)=>{let targetCountries=v.countries.map(c=>{return c.label;});delete v.countries;try{const result=await addQuestionnaire(_objectSpread(_objectSpread({},v),{},{targetCountries}));if(result.isSuccess){dispatch(showSuccessNotification(\"Ib Questionnaire added successfully\"));dispatch(fetchProfile({history}));props.toggle();}}catch(error){dispatch(showErrorNotification(error.message));}};return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(Modal,{isOpen:props.isOpen,toggle:()=>props.toggle(),centered:true,className:\"custom-modal\",size:\"xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"d-flex flex-column gap-3\",children:[/*#__PURE__*/_jsx(CloseButton,{onClick:()=>props.toggle(),style:{alignSelf:\"flex-end\",position:\"absolute\",right:10,top:10}}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(CardTitle,{className:\"mb-0\",children:t(\"IB Application\")})})]}),/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(AvForm,{onValidSubmit:(e,v)=>{submitQuestionnaire(e,v);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(AvFieldSelecvt,{label:t(\"Do you have any financial market webiste / blog you intend to user for promotion?\"),name:\"haveSite\",options:[{label:\"Yes\",value:\"yes\"},{label:\"No\",value:\"no\"}],validate:{required:{value:true,errorMessage:\"this field is required\"}}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(AvFieldSelecvt,{label:t(\"Have you reffered clients to other providers?\"),name:\"reffer\",options:[{label:\"Yes\",value:\"yes\"},{label:\"No\",value:\"no\"}],validate:{required:{value:true,errorMessage:\"this field is required\"}}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(AvFieldSelecvt,{label:t(\"How do you acquire clients?\"),name:\"getClient\",options:[{label:\"Wide range of personal network\",value:\"Wide range of personal network\"},{label:\"Developing trading strategies and signals\",value:\"Developing trading strategies and signals\"},{label:\"Providing Forex education seminars\",value:\"Providing Forex education seminars\"},{label:\"Other\",value:\"Other\"}],validate:{required:{value:true,errorMessage:\"this field is required\"}}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(AvFieldSelecvt,{label:t(\"Countries of audience intending to acquire\"),name:\"countries\",className:\"basic-multi-select\",classNamePrefix:\"select\",isMulti:true,options:COUNTRIES.map(country=>{return{label:country.countryEn,value:country};}),validate:{required:{value:true,errorMessage:\"this field is required\"}}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(AvField,{label:\"How many clients do you expect introducting in the first 12 months?\",name:\"expectedClients\",type:\"number\",validate:{required:{value:true,message:\"this field is required\"}}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{type:\"submit\",color:\"danger\",className:\"w-lg waves-effect waves-light m-2\",children:t(\"Submit\")})})]})})]})})});}export default IbQuestionaire;","map":{"version":3,"names":["addQuestionnaire","AvField","AvForm","AvFieldSelecvt","COUNTRIES","React","CloseButton","useTranslation","useDispatch","useHistory","Button","CardBody","CardHeader","CardTitle","Modal","fetchProfile","showErrorNotification","showSuccessNotification","jsx","_jsx","jsxs","_jsxs","IbQuestionaire","props","t","dispatch","history","submitQuestionnaire","e","v","targetCountries","countries","map","c","label","result","_objectSpread","isSuccess","toggle","error","message","Fragment","children","isOpen","centered","className","size","onClick","style","alignSelf","position","right","top","onValidSubmit","name","options","value","validate","required","errorMessage","classNamePrefix","isMulti","country","countryEn","type","color"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/Journey/IbQuestionaire.js"],"sourcesContent":["import { addQuestionnaire } from \"apis/forex/ib\";\nimport { AvField, AvForm } from \"availity-reactstrap-validation\";\nimport AvFieldSelecvt from \"components/Common/AvFieldSelect\";\nimport { COUNTRIES } from \"helpers/countries\";\nimport React from \"react\";\nimport { CloseButton } from \"react-bootstrap\";\nimport { useTranslation } from \"react-i18next\";\nimport { useDispatch } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Button, CardBody, CardHeader, CardTitle, Modal \n} from \"reactstrap\";\nimport { fetchProfile } from \"store/actions\";\nimport { showErrorNotification, showSuccessNotification } from \"store/general/notifications/actions\";\n\nfunction IbQuestionaire(props) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const submitQuestionnaire = async (e, v) =>{\n    let targetCountries = v.countries.map((c)=>{\n      return c.label;\n    });\n    delete v.countries;\n    try {\n      const result = await addQuestionnaire({\n        ...v,\n        targetCountries \n      });\n      if (result.isSuccess){\n        dispatch(showSuccessNotification(\"Ib Questionnaire added successfully\"));\n        dispatch(fetchProfile({ history }));\n        props.toggle();        \n      }\n    } catch (error) {\n      dispatch(showErrorNotification(error.message));\n    }\n  };\n  return (<React.Fragment>\n    <Modal\n      isOpen={props.isOpen}\n      toggle={() => props.toggle()}\n      centered={true}\n      className='custom-modal'\n      size=\"xl\"\n    >\n      <div className=\"p-4\">\n        <CardHeader className=\"d-flex flex-column gap-3\">\n          <CloseButton\n            onClick={() => props.toggle()}\n            style={{ \n              alignSelf: \"flex-end\",\n              position: \"absolute\", \n              right: 10,\n              top: 10 \n            }} \n          />\n          <div className=\"text-center\">\n            <CardTitle className=\"mb-0\">{t(\"IB Application\")}</CardTitle>\n          </div>\n        </CardHeader>\n        <CardBody>\n          <AvForm \n            onValidSubmit={(e, v)=>{\n              submitQuestionnaire(e, v);\n            }}\n          >\n            <div className=\"mb-2\">\n              <AvFieldSelecvt\n                label={t(\"Do you have any financial market webiste / blog you intend to user for promotion?\")}\n                name=\"haveSite\"\n                options={[{\n                  label:\"Yes\",\n                  value:\"yes\" \n                },\n                {\n                  label:\"No\",\n                  value:\"no\"\n                }]}\n                validate={{\n                  required:{\n                    value: true,\n                    errorMessage: \"this field is required\" \n                  }\n                }}\n              >      \n              </AvFieldSelecvt>\n            </div>\n            <div className=\"mb-2\"> \n              <AvFieldSelecvt\n                label={t(\"Have you reffered clients to other providers?\")}\n                name=\"reffer\"\n                options={[{\n                  label:\"Yes\",\n                  value:\"yes\" \n                },\n                {\n                  label:\"No\",\n                  value:\"no\"\n                }]}\n                validate={{\n                  required:{\n                    value: true,\n                    errorMessage: \"this field is required\" \n                  }\n                }}\n              >      \n              </AvFieldSelecvt>\n            </div> \n            <div className=\"mb-2\">\n              <AvFieldSelecvt\n                label={t(\"How do you acquire clients?\")}\n                name=\"getClient\"\n                options={[{\n                  label:\"Wide range of personal network\",\n                  value:\"Wide range of personal network\" \n                },\n                {\n                  label:\"Developing trading strategies and signals\",\n                  value:\"Developing trading strategies and signals\"\n                },\n                {\n                  label:\"Providing Forex education seminars\",\n                  value:\"Providing Forex education seminars\"\n                },\n                {\n                  label:\"Other\",\n                  value:\"Other\"\n                }]}\n                validate={{\n                  required:{\n                    value: true,\n                    errorMessage: \"this field is required\" \n                  }\n                }}\n              >      \n              </AvFieldSelecvt>\n            </div>\n            <div className=\"mb-2\">\n              <AvFieldSelecvt\n                label={t(\"Countries of audience intending to acquire\")}\n                name=\"countries\"\n                className=\"basic-multi-select\"\n                classNamePrefix=\"select\"\n                isMulti\n                options={COUNTRIES.map((country) => {\n                  return {\n                    label: country.countryEn,\n                    value: country\n                  };\n                })}\n                validate={{\n                  required:{\n                    value: true,\n                    errorMessage: \"this field is required\" \n                  }\n                }}\n              >      \n              </AvFieldSelecvt>\n            </div>\n            <div className=\"mb-2\">\n              <AvField\n                label=\"How many clients do you expect introducting in the first 12 months?\"\n                name=\"expectedClients\"\n                type=\"number\"\n                validate={{\n                  required:{\n                    value: true,\n                    message: \"this field is required\" \n                  } \n                }}\n              >\n                    \n              </AvField>\n            </div> \n            <div className=\"text-center\">\n              <Button type=\"submit\" color=\"danger\" className=\"w-lg waves-effect waves-light m-2\">\n                {t(\"Submit\")}\n              </Button>\n            </div>\n          </AvForm>\n        </CardBody>\n      </div> \n    </Modal>\n  </React.Fragment>);\n}\n\nexport default IbQuestionaire;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}