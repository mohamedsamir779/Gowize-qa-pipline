{"ast":null,"code":"import React,{useEffect,useMemo,useState}from\"react\";import SumsubWebSdk from\"@sumsub/websdk-react\";import{useSelector}from\"react-redux\";import{generateSDK}from\"apis/sumsub\";import{jsx as _jsx}from\"react/jsx-runtime\";export default function Sumsub(){const[accessSDKToken,setAccessSDKToken]=useState(\"\");const{email,language,_id}=useSelector(state=>state.Profile.clientData);const handler=()=>Promise.resolve(\"\");useEffect(()=>{_id&&generateSDK(_id).then(_ref=>{let{token}=_ref;return setAccessSDKToken(token);}).catch(error=>console.log(error));},[_id]);useEffect(()=>{console.log(accessSDKToken,_id);},[accessSDKToken]);const config=useMemo(()=>({lang:language,email:email,i18n:{document:{subTitles:{IDENTITY:\"Upload a document that proves your identity\"}},status:{pendingTitle:\"Thank you. \\n\\n You have completed the identity verification process.\",pendingText:\" The verification status will update below automatically. You can now close this page. We will follow-up with you if we need anything else or have any questions.\"}},onMessage:(type,payload)=>{console.log(\"WebSDK onMessage\",type,payload);},onError:error=>{console.error(\"WebSDK onError\",error);}}),[email]);useEffect(()=>{config.email=email;},[email,config]);const options={addViewportTag:false,adaptIframeHeight:true};const messageHandler=(type,payload)=>{console.log(\"onMessage: \",type,payload);};const errorHandler=data=>console.log(\"onError: \",data);console.log(accessSDKToken);return/*#__PURE__*/_jsx(\"div\",{children:accessSDKToken&&/*#__PURE__*/_jsx(SumsubWebSdk,{accessToken:accessSDKToken,expirationHandler:handler,config:config,options:options,onMessage:messageHandler,onError:errorHandler})});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","SumsubWebSdk","useSelector","generateSDK","jsx","_jsx","Sumsub","accessSDKToken","setAccessSDKToken","email","language","_id","state","Profile","clientData","handler","Promise","resolve","then","_ref","token","catch","error","console","log","config","lang","i18n","document","subTitles","IDENTITY","status","pendingTitle","pendingText","onMessage","type","payload","onError","options","addViewportTag","adaptIframeHeight","messageHandler","errorHandler","data","children","accessToken","expirationHandler"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Documents/Sumsub/index.js"],"sourcesContent":["import React, {\n  useEffect, useMemo, useState\n} from \"react\";\nimport SumsubWebSdk from \"@sumsub/websdk-react\";\nimport { useSelector } from \"react-redux\";\nimport { generateSDK } from \"apis/sumsub\";\n\nexport default function Sumsub() {\n  const [accessSDKToken, setAccessSDKToken] = useState(\"\");\n\n  const { email, language, _id } = useSelector(state => state.Profile.clientData);\n\n  const handler = () => Promise.resolve(\"\");\n\n  useEffect(() => {\n    _id && generateSDK(_id).then(({ token }) => setAccessSDKToken(token)).catch((error) => console.log(error));\n  }, [_id]);\n\n  useEffect(() => {\n    console.log(accessSDKToken, _id);\n  }, [accessSDKToken]);\n  \n  const config = useMemo(\n    () => ({\n      lang: language,\n      email: email,\n      i18n: {\n        document: {\n          subTitles: {\n            IDENTITY: \"Upload a document that proves your identity\",\n          },\n        },\n        status: {\n          pendingTitle:\n            \"Thank you. \\n\\n You have completed the identity verification process.\",\n          pendingText:\n            \" The verification status will update below automatically. You can now close this page. We will follow-up with you if we need anything else or have any questions.\",\n        },\n      },\n      onMessage: (type, payload) => {\n        console.log(\"WebSDK onMessage\", type, payload);\n      },\n      onError: (error) => {\n        console.error(\"WebSDK onError\", error);\n      },\n    }),\n    [email]\n  );\n\n  useEffect(() => {\n    config.email = email;\n  }, [email, config]);\n\n  const options = {\n    addViewportTag: false,\n    adaptIframeHeight: true\n  };\n\n  const messageHandler = (type, payload) => {\n    console.log(\"onMessage: \", type, payload);\n  };\n\n  const errorHandler = (data) => console.log(\"onError: \", data);\n\n  console.log(accessSDKToken);\n\n  return (\n    <div>\n      {accessSDKToken && <SumsubWebSdk\n        accessToken={accessSDKToken}\n        expirationHandler={handler}\n        config={config}\n        options={options}\n        onMessage={messageHandler}\n        onError={errorHandler}\n      />}\n    </div>\n  );\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EACVC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,KACvB,OAAO,CACd,MAAO,CAAAC,YAAY,KAAM,sBAAsB,CAC/C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1C,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC/B,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAExD,KAAM,CAAES,KAAK,CAAEC,QAAQ,CAAEC,GAAI,CAAC,CAAGT,WAAW,CAACU,KAAK,EAAIA,KAAK,CAACC,OAAO,CAACC,UAAU,CAAC,CAE/E,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAMC,OAAO,CAACC,OAAO,CAAC,EAAE,CAAC,CAEzCnB,SAAS,CAAC,IAAM,CACda,GAAG,EAAIR,WAAW,CAACQ,GAAG,CAAC,CAACO,IAAI,CAACC,IAAA,MAAC,CAAEC,KAAM,CAAC,CAAAD,IAAA,OAAK,CAAAX,iBAAiB,CAACY,KAAK,CAAC,GAAC,CAACC,KAAK,CAAEC,KAAK,EAAKC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAAC,CAC5G,CAAC,CAAE,CAACX,GAAG,CAAC,CAAC,CAETb,SAAS,CAAC,IAAM,CACdyB,OAAO,CAACC,GAAG,CAACjB,cAAc,CAAEI,GAAG,CAAC,CAClC,CAAC,CAAE,CAACJ,cAAc,CAAC,CAAC,CAEpB,KAAM,CAAAkB,MAAM,CAAG1B,OAAO,CACpB,KAAO,CACL2B,IAAI,CAAEhB,QAAQ,CACdD,KAAK,CAAEA,KAAK,CACZkB,IAAI,CAAE,CACJC,QAAQ,CAAE,CACRC,SAAS,CAAE,CACTC,QAAQ,CAAE,6CACZ,CACF,CAAC,CACDC,MAAM,CAAE,CACNC,YAAY,CACV,uEAAuE,CACzEC,WAAW,CACT,mKACJ,CACF,CAAC,CACDC,SAAS,CAAEA,CAACC,IAAI,CAAEC,OAAO,GAAK,CAC5Bb,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEW,IAAI,CAAEC,OAAO,CAAC,CAChD,CAAC,CACDC,OAAO,CAAGf,KAAK,EAAK,CAClBC,OAAO,CAACD,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAAC,CACxC,CACF,CAAC,CAAC,CACF,CAACb,KAAK,CACR,CAAC,CAEDX,SAAS,CAAC,IAAM,CACd2B,MAAM,CAAChB,KAAK,CAAGA,KAAK,CACtB,CAAC,CAAE,CAACA,KAAK,CAAEgB,MAAM,CAAC,CAAC,CAEnB,KAAM,CAAAa,OAAO,CAAG,CACdC,cAAc,CAAE,KAAK,CACrBC,iBAAiB,CAAE,IACrB,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGA,CAACN,IAAI,CAAEC,OAAO,GAAK,CACxCb,OAAO,CAACC,GAAG,CAAC,aAAa,CAAEW,IAAI,CAAEC,OAAO,CAAC,CAC3C,CAAC,CAED,KAAM,CAAAM,YAAY,CAAIC,IAAI,EAAKpB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEmB,IAAI,CAAC,CAE7DpB,OAAO,CAACC,GAAG,CAACjB,cAAc,CAAC,CAE3B,mBACEF,IAAA,QAAAuC,QAAA,CACGrC,cAAc,eAAIF,IAAA,CAACJ,YAAY,EAC9B4C,WAAW,CAAEtC,cAAe,CAC5BuC,iBAAiB,CAAE/B,OAAQ,CAC3BU,MAAM,CAAEA,MAAO,CACfa,OAAO,CAAEA,OAAQ,CACjBJ,SAAS,CAAEO,cAAe,CAC1BJ,OAAO,CAAEK,YAAa,CACvB,CAAC,CACC,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module"}