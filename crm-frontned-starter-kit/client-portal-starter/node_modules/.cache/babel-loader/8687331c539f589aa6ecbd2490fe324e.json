{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Gowize-qa-pipline/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _objectWithoutProperties from\"/home/ubuntu/Gowize-qa-pipline/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"height\"];import React from\"react\";const ReactApexChart=/*#__PURE__*/React.lazy(()=>import(\"react-apexcharts\"));import{useSelector}from\"react-redux\";import{Spinner}from\"reactstrap\";import BigNumber from\"bignumber.js\";//i18n\nimport{withTranslation}from\"react-i18next\";import{jsx as _jsx}from\"react/jsx-runtime\";const RadialChart=_ref=>{let{height}=_ref,props=_objectWithoutProperties(_ref,_excluded);let wallets=useSelector(state=>{var _state$crypto$wallets;return(_state$crypto$wallets=state.crypto.wallets)===null||_state$crypto$wallets===void 0?void 0:_state$crypto$wallets.wallets;});let totalWalletAmount=0;if(!wallets)return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center my-3\",children:/*#__PURE__*/_jsx(Spinner,{className:\"text-center m-auto\"})});wallets=wallets.map(wallet=>{// const p = markets && markets.find(x => x.pairName === `${wallet.asset}/USDT`);\n// const usdPrice =  p ? p.marketPrice : 1;\n// const usdValue = parseFloat(new BigNumber(usdPrice).multipliedBy(new BigNumber(wallet.amount || 0)).toString());\ntotalWalletAmount+=wallet.usdValue;return _objectSpread({},wallet);});wallets.sort((a,b)=>{return b.usdValue-a.usdValue;});const series=wallets.map(x=>parseFloat(new BigNumber(x.usdValue).dividedBy(new BigNumber(totalWalletAmount)).multipliedBy(100)).toFixed(2));// const series = [(wallets[0].usdValue / totalWalletAmount).toFixed(2) * 100, (wallets[1].amount / totalWalletAmount).toFixed(2) * 100, (wallets[2].amount / totalWalletAmount).toFixed(2) * 100, (wallets[3].amount / totalWalletAmount).toFixed(2) * 100]\nconst options={plotOptions:{radialBar:{dataLabels:{name:{fontSize:\"22px\"},value:{fontSize:\"16px\"},total:{show:true,label:props.t(\"Total\"),formatter:function(){return totalWalletAmount.toFixed(2)+\" $\";}}}}},labels:wallets.map(x=>x.asset),colors:[\"#556ee6\",\"#34c38f\",\"#f46a6a\",\"#f1b44c\"]};return/*#__PURE__*/_jsx(ReactApexChart,{options:options,series:series,type:\"radialBar\",height:height});};export default withTranslation()(RadialChart);","map":{"version":3,"names":["React","ReactApexChart","lazy","useSelector","Spinner","BigNumber","withTranslation","jsx","_jsx","RadialChart","_ref","height","props","_objectWithoutProperties","_excluded","wallets","state","_state$crypto$wallets","crypto","totalWalletAmount","className","children","map","wallet","usdValue","_objectSpread","sort","a","b","series","x","parseFloat","dividedBy","multipliedBy","toFixed","options","plotOptions","radialBar","dataLabels","name","fontSize","value","total","show","label","t","formatter","labels","asset","colors","type"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/components/ApexCharts/RadialChart.js"],"sourcesContent":["import React from \"react\";\nconst ReactApexChart = React.lazy(()=> import(\"react-apexcharts\"));\nimport { useSelector } from \"react-redux\";\nimport { Spinner } from \"reactstrap\";\nimport BigNumber from \"bignumber.js\";\n//i18n\nimport { withTranslation } from \"react-i18next\";\n\nconst RadialChart = ({ height, ...props }) => {\n  let wallets = useSelector(state => state.crypto.wallets?.wallets);\n  let totalWalletAmount = 0;\n\n  if (!wallets) \n\n    return <div className=\"d-flex align-items-center justify-content-center my-3\">\n      <Spinner className=\"text-center m-auto\"></Spinner>\n    </div>;\n  wallets = wallets.map((wallet) => {\n    // const p = markets && markets.find(x => x.pairName === `${wallet.asset}/USDT`);\n    // const usdPrice =  p ? p.marketPrice : 1;\n    // const usdValue = parseFloat(new BigNumber(usdPrice).multipliedBy(new BigNumber(wallet.amount || 0)).toString());\n    totalWalletAmount += wallet.usdValue;\n    return {\n      ...wallet,\n    };\n  });\n  wallets.sort((a, b) => {\n    return b.usdValue - a.usdValue;\n  });\n  const series = wallets.map(x => parseFloat(new BigNumber(x.usdValue).dividedBy(new BigNumber(totalWalletAmount)).multipliedBy(100)).toFixed(2));\n  // const series = [(wallets[0].usdValue / totalWalletAmount).toFixed(2) * 100, (wallets[1].amount / totalWalletAmount).toFixed(2) * 100, (wallets[2].amount / totalWalletAmount).toFixed(2) * 100, (wallets[3].amount / totalWalletAmount).toFixed(2) * 100]\n  const options = {\n    plotOptions: {\n      radialBar: {\n        dataLabels: {\n          name: {\n            fontSize: \"22px\",\n          },\n          value: {\n            fontSize: \"16px\",\n          },\n          total: {\n            show: true,\n            label: props.t(\"Total\"),\n            formatter: function () {\n              return totalWalletAmount.toFixed(2) + \" $\";\n            },\n          },\n        },\n      },\n    },\n\n    labels: wallets.map(x => x.asset),\n    colors: [\"#556ee6\", \"#34c38f\", \"#f46a6a\", \"#f1b44c\"],\n  };\n\n  return (\n    <ReactApexChart\n      options={options}\n      series={series}\n      type=\"radialBar\"\n      height={height}\n    />\n  );\n};\nexport default withTranslation()(RadialChart); \n"],"mappings":"kUAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,KAAM,CAAAC,cAAc,cAAGD,KAAK,CAACE,IAAI,CAAC,IAAK,MAAM,CAAC,kBAAkB,CAAC,CAAC,CAClE,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,OAAO,KAAQ,YAAY,CACpC,MAAO,CAAAC,SAAS,KAAM,cAAc,CACpC;AACA,OAASC,eAAe,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA0B,IAAzB,CAAEC,MAAiB,CAAC,CAAAD,IAAA,CAAPE,KAAK,CAAAC,wBAAA,CAAAH,IAAA,CAAAI,SAAA,EACrC,GAAI,CAAAC,OAAO,CAAGZ,WAAW,CAACa,KAAK,OAAAC,qBAAA,QAAAA,qBAAA,CAAID,KAAK,CAACE,MAAM,CAACH,OAAO,UAAAE,qBAAA,iBAApBA,qBAAA,CAAsBF,OAAO,GAAC,CACjE,GAAI,CAAAI,iBAAiB,CAAG,CAAC,CAEzB,GAAI,CAACJ,OAAO,CAEV,mBAAOP,IAAA,QAAKY,SAAS,CAAC,uDAAuD,CAAAC,QAAA,cAC3Eb,IAAA,CAACJ,OAAO,EAACgB,SAAS,CAAC,oBAAoB,CAAU,CAAC,CAC/C,CAAC,CACRL,OAAO,CAAGA,OAAO,CAACO,GAAG,CAAEC,MAAM,EAAK,CAChC;AACA;AACA;AACAJ,iBAAiB,EAAII,MAAM,CAACC,QAAQ,CACpC,OAAAC,aAAA,IACKF,MAAM,EAEb,CAAC,CAAC,CACFR,OAAO,CAACW,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAK,CACrB,MAAO,CAAAA,CAAC,CAACJ,QAAQ,CAAGG,CAAC,CAACH,QAAQ,CAChC,CAAC,CAAC,CACF,KAAM,CAAAK,MAAM,CAAGd,OAAO,CAACO,GAAG,CAACQ,CAAC,EAAIC,UAAU,CAAC,GAAI,CAAA1B,SAAS,CAACyB,CAAC,CAACN,QAAQ,CAAC,CAACQ,SAAS,CAAC,GAAI,CAAA3B,SAAS,CAACc,iBAAiB,CAAC,CAAC,CAACc,YAAY,CAAC,GAAG,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC,CAC/I;AACA,KAAM,CAAAC,OAAO,CAAG,CACdC,WAAW,CAAE,CACXC,SAAS,CAAE,CACTC,UAAU,CAAE,CACVC,IAAI,CAAE,CACJC,QAAQ,CAAE,MACZ,CAAC,CACDC,KAAK,CAAE,CACLD,QAAQ,CAAE,MACZ,CAAC,CACDE,KAAK,CAAE,CACLC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEhC,KAAK,CAACiC,CAAC,CAAC,OAAO,CAAC,CACvBC,SAAS,CAAE,QAAAA,CAAA,CAAY,CACrB,MAAO,CAAA3B,iBAAiB,CAACe,OAAO,CAAC,CAAC,CAAC,CAAG,IAAI,CAC5C,CACF,CACF,CACF,CACF,CAAC,CAEDa,MAAM,CAAEhC,OAAO,CAACO,GAAG,CAACQ,CAAC,EAAIA,CAAC,CAACkB,KAAK,CAAC,CACjCC,MAAM,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACrD,CAAC,CAED,mBACEzC,IAAA,CAACP,cAAc,EACbkC,OAAO,CAAEA,OAAQ,CACjBN,MAAM,CAAEA,MAAO,CACfqB,IAAI,CAAC,WAAW,CAChBvC,MAAM,CAAEA,MAAO,CAChB,CAAC,CAEN,CAAC,CACD,cAAe,CAAAL,eAAe,CAAC,CAAC,CAACG,WAAW,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}