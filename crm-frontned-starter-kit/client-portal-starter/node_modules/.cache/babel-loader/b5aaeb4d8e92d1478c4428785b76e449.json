{"ast":null,"code":"import{AvField,AvForm}from\"availity-reactstrap-validation\";import calculateFee from\"helpers/calculateFee\";import{validateFile}from\"helpers/validations/file\";import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{Button,InputGroup,InputGroupText,Label}from\"reactstrap\";import FiatFormDetails from\"./Fiat/FiatFormDetails\";import Mt5Details from\"./MT5/Mt5Details\";import{finiticPayFees}from\"config\";import{getFiniticPayFeesConfig}from\"apis/deposit\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function StageTwo(props){const{t,toggleTab,type,gateway,handleSubmit,receipt=false,loading,paymentPayload,setLoading,selectedPaymentMethod}=props;const[file,setFile]=useState({});const[amount,setAmount]=useState();const[amountValidation,setAmountValidation]=useState(false);const[selectedWallet,setSelectedWallet]=useState(undefined);const tranFeeGroupDetails=useSelector(state=>{var _state$Profile,_state$Profile$client;return(_state$Profile=state.Profile)===null||_state$Profile===void 0?void 0:(_state$Profile$client=_state$Profile.clientData)===null||_state$Profile$client===void 0?void 0:_state$Profile$client.transactionFeeId;});const[transactionFee,setTransactionFee]=useState(0);const[payeeAccount,setPayeeAccount]=useState();const[notes,setNotes]=useState(\"\");const[selectedAccount,setSelectedAccount]=useState([]);const[minimumDepositAmount,setMinimumDepositAmount]=useState(10);const[feesLoading,setFeesLoading]=useState(false);const[fees,setFees]=useState({});const amountValidationHandler=()=>{if(selectedAccount){var _selectedAccount$;if((selectedAccount===null||selectedAccount===void 0?void 0:(_selectedAccount$=selectedAccount[0])===null||_selectedAccount$===void 0?void 0:_selectedAccount$.currency)===\"CENT\"){setAmountValidation(false);}else{var _selectedAccount$0$ac,_selectedAccount$2,_selectedAccount$2$ac;parseFloat(amount)<((_selectedAccount$0$ac=selectedAccount===null||selectedAccount===void 0?void 0:(_selectedAccount$2=selectedAccount[0])===null||_selectedAccount$2===void 0?void 0:(_selectedAccount$2$ac=_selectedAccount$2.accountTypeId)===null||_selectedAccount$2$ac===void 0?void 0:_selectedAccount$2$ac.minDeposit)!==null&&_selectedAccount$0$ac!==void 0?_selectedAccount$0$ac:minimumDepositAmount)?setAmountValidation(true):setAmountValidation(false);}}else{amount<minimumDepositAmount||!amount?setAmountValidation(true):setAmountValidation(false);}};useEffect(()=>{amountValidationHandler();},[selectedAccount]);useEffect(()=>{if(gateway===\"FINITIC_PAY\"){setFeesLoading(true);getFiniticPayFeesConfig().then(resp=>resp.result).then(res=>setFees(res)).finally(()=>setFeesLoading(false));}},[gateway]);useEffect(()=>{if(amount>0){if(gateway===\"FINITIC_PAY\"){const{isPercentage,minDeposit,onChainfee,value,minValue}=fees;if(isPercentage){const cFees=parseFloat(value*amount/100);const feeAmount=cFees<=parseFloat(minValue)?parseFloat(minValue):cFees;setTransactionFee(parseFloat(feeAmount).toFixed(2));setMinimumDepositAmount(parseFloat(minDeposit));}else{setTransactionFee(parseFloat(onChainfee+minValue).toFixed(2));}}else{setMinimumDepositAmount(10);setTransactionFee(tranFeeGroupDetails?calculateFee(tranFeeGroupDetails,amount):0);}amountValidationHandler();}else{setTransactionFee(0);}},[tranFeeGroupDetails,amount,gateway]);useEffect(()=>{if(gateway!==\"FINITIC_PAY\"){setMinimumDepositAmount(10);}},[gateway]);const renderFormType=()=>{switch(type){case\"fiatDeposit\":return/*#__PURE__*/_jsx(FiatFormDetails,{t:t,selectedWallet:selectedWallet,amount:amount,setAmount:setAmount,setPayeeAccount:setPayeeAccount,setNotes:setNotes,selectedPaymentMethod:selectedPaymentMethod,setAmountValidation:setAmountValidation,setSelectedWallet:setSelectedWallet,minDepositAmount:minimumDepositAmount});case\"mt5Deposit\":return/*#__PURE__*/_jsx(Mt5Details,{t:t,amount:amount,setAmount:setAmount,selectedPaymentMethod:selectedPaymentMethod,amountValidation:amountValidation,setPayeeAccount:setPayeeAccount,setNotes:setNotes,setAmountValidation:setAmountValidation,selectedAccount:selectedAccount,setSelectedAccount:setSelectedAccount,minDepositAmount:minimumDepositAmount});default:return/*#__PURE__*/_jsx(_Fragment,{});}};const handleOnValidSubmit=(e,v)=>{setLoading(true);const formData=new FormData();if(type===\"mt5Deposit\"){console.log(\"Stage2- MT5Deposit\");if(receipt){console.log(\"Stage2- if receipt true\");formData.append(\"gateway\",gateway);formData.append(\"amount\",parseFloat(amount));// formData.append(\"note\", \"note\");\nformData.append(\"tradingAccountId\",v.tradingAccountId);formData.append(\"receipt\",file);formData.append(\"paymentPayload\",paymentPayload);if(selectedPaymentMethod===\"PERFECT_MONEY\"){// formData.append(\"payeeAccount\", payeeAccount);\nformData.append(\"note\",notes.toString());}handleSubmit(formData);}else{if(gateway===\"CRYPTO\"){console.log(\"Stage2- CRYPTO\");handleSubmit({gateway,paymentPayload,amount:parseFloat(amount),note:\"note\",tradingAccountId:v.tradingAccountId});}if(gateway===\"حواله بنكيه\"){console.log(\"Stage2- حواله بنكيه\");handleSubmit({gateway,paymentPayload,amount:parseFloat(amount),note:\"note\",tradingAccountId:v.tradingAccountId});}}}else if(type===\"fiatDeposit\"){if(receipt){formData.append(\"gateway\",gateway);formData.append(\"amount\",parseFloat(amount));// formData.append(\"note\", \"note\");\nformData.append(\"walletId\",selectedWallet.value);formData.append(\"receipt\",file);formData.append(\"paymentPayload\",paymentPayload);if(selectedPaymentMethod===\"PERFECT_MONEY\"){// formData.append(\"payeeAccount\", payeeAccount);\nformData.append(\"note\",notes.toString());}handleSubmit(formData);}else{handleSubmit({gateway,paymentPayload,amount:parseFloat(amount),note:\"note\",walletId:selectedWallet.value});}}};return/*#__PURE__*/_jsxs(AvForm,{onValidSubmit:(e,v)=>{setLoading(true);const formData=new FormData();if(type===\"mt5Deposit\"){if(receipt){var _selectedAccount$3;formData.append(\"gateway\",gateway);formData.append(\"amount\",parseFloat(amount));formData.append(\"note\",\"note\");formData.append(\"currency\",selectedAccount===null||selectedAccount===void 0?void 0:(_selectedAccount$3=selectedAccount[0])===null||_selectedAccount$3===void 0?void 0:_selectedAccount$3.currency);formData.append(\"tradingAccountId\",v.tradingAccountId);formData.append(\"receipt\",file);formData.append(\"paymentPayload\",paymentPayload);handleSubmit(formData);}else{if([\"CRYPTO\",\"FINITIC_PAY\",\"EPAYME\",\"PAYMAXIS\"].includes(gateway)){handleSubmit({gateway,paymentPayload,amount:parseFloat(amount),note:\"note\",tradingAccountId:v.tradingAccountId});}}}else if(type===\"fiatDeposit\"){if(receipt){formData.append(\"gateway\",gateway);formData.append(\"amount\",parseFloat(amount));formData.append(\"note\",\"note\");formData.append(\"walletId\",selectedWallet.value);formData.append(\"receipt\",file);formData.append(\"paymentPayload\",paymentPayload);handleSubmit(formData);}else{handleSubmit({gateway,paymentPayload,amount:parseFloat(amount),note:\"note\",walletId:selectedWallet.value});}}},children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-3\",children:t(\"Enter Amount\")}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between mb-2\",children:renderFormType()}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{className:\"form-label mb-2\",children:t(\"Transaction Fee\")}),/*#__PURE__*/_jsx(InputGroup,{className:\"\",children:/*#__PURE__*/_jsxs(InputGroupText,{className:\" w-100\",children:[parseFloat(transactionFee!==null&&transactionFee!==void 0?transactionFee:0),\"   \",selectedWallet===null||selectedWallet===void 0?void 0:selectedWallet.asset]})})]}),receipt&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{className:\"form-label\",htmlFor:\"receipt\",children:t(\"Receipt\")}),/*#__PURE__*/_jsx(AvField,{type:\"file\",name:\"receipt\",className:\"form-control form-control-md\",errorMessage:t(\"Receipt is required\"),onChange:e=>{setFile(e.target.files[0]);},validate:{required:{value:true},validate:validateFile([\"jpg\",\"jpeg\",\"png\"],1000000,file,{sizeValidationMessage:t(\"The file size is too large\"),extensionValidationMessage:t(\"The file extension is not allowed\")})}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-4 text-center\",children:[/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary m-2 btn-sm w-lg\",onClick:()=>toggleTab(0),children:t(\"Back\")}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-success m-2 btn-sm w-lg\",type:\"submit\",disabled:amountValidation||loading||!amount,children:t(\"Continue\")})]})]});}","map":{"version":3,"names":["AvField","AvForm","calculateFee","validateFile","useEffect","useState","useSelector","Button","InputGroup","InputGroupText","Label","FiatFormDetails","Mt5Details","finiticPayFees","getFiniticPayFeesConfig","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","StageTwo","props","t","toggleTab","type","gateway","handleSubmit","receipt","loading","paymentPayload","setLoading","selectedPaymentMethod","file","setFile","amount","setAmount","amountValidation","setAmountValidation","selectedWallet","setSelectedWallet","undefined","tranFeeGroupDetails","state","_state$Profile","_state$Profile$client","Profile","clientData","transactionFeeId","transactionFee","setTransactionFee","payeeAccount","setPayeeAccount","notes","setNotes","selectedAccount","setSelectedAccount","minimumDepositAmount","setMinimumDepositAmount","feesLoading","setFeesLoading","fees","setFees","amountValidationHandler","_selectedAccount$","currency","_selectedAccount$0$ac","_selectedAccount$2","_selectedAccount$2$ac","parseFloat","accountTypeId","minDeposit","then","resp","result","res","finally","isPercentage","onChainfee","value","minValue","cFees","feeAmount","toFixed","renderFormType","minDepositAmount","handleOnValidSubmit","e","v","formData","FormData","console","log","append","tradingAccountId","toString","note","walletId","onValidSubmit","_selectedAccount$3","includes","children","className","asset","htmlFor","name","errorMessage","onChange","target","files","validate","required","sizeValidationMessage","extensionValidationMessage","onClick","disabled"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/Deposit/StageTwo.js"],"sourcesContent":["import { AvField, AvForm } from \"availity-reactstrap-validation\";\nimport calculateFee from \"helpers/calculateFee\";\nimport { validateFile } from \"helpers/validations/file\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  Button,\n  InputGroup,\n  InputGroupText,\n  Label\n} from \"reactstrap\";\nimport FiatFormDetails from \"./Fiat/FiatFormDetails\";\nimport Mt5Details from \"./MT5/Mt5Details\";\nimport { finiticPayFees } from \"config\";\nimport { getFiniticPayFeesConfig } from \"apis/deposit\";\n\nexport default function StageTwo(props) {\n  const {\n    t,\n    toggleTab,\n    type,\n    gateway,\n    handleSubmit,\n    receipt = false,\n    loading,\n    paymentPayload,\n    setLoading,\n    selectedPaymentMethod\n  } = props;\n\n  const [file, setFile] = useState({});\n  const [amount, setAmount] = useState();\n  const [amountValidation, setAmountValidation] = useState(false);\n  const [selectedWallet, setSelectedWallet] = useState(undefined);\n  const tranFeeGroupDetails = useSelector((state) => state.Profile?.clientData?.transactionFeeId);\n  const [transactionFee, setTransactionFee] = useState(0);\n  const [payeeAccount, setPayeeAccount] = useState();\n  const [notes, setNotes] = useState(\"\");\n  const [selectedAccount, setSelectedAccount] = useState([]);\n  const [minimumDepositAmount, setMinimumDepositAmount] = useState(10);\n  const [feesLoading, setFeesLoading] = useState(false);\n  const [fees, setFees] = useState({});\n\n  const amountValidationHandler = () => {\n    if (selectedAccount){\n      if (selectedAccount?.[0]?.currency === \"CENT\") {\n        setAmountValidation(false);\n      } else {\n        parseFloat(amount) < (selectedAccount?.[0]?.accountTypeId?.minDeposit ?? minimumDepositAmount) ? setAmountValidation(true) : setAmountValidation(false);\n      }\n    } else {\n      amount < minimumDepositAmount || !amount ? setAmountValidation(true) : setAmountValidation(false);\n    }\n  };\n\n  useEffect(()=>{\n    amountValidationHandler();\n  }, [selectedAccount]);\n\n  useEffect(() => {\n    if (gateway === \"FINITIC_PAY\") {\n      setFeesLoading(true);\n      getFiniticPayFeesConfig()\n        .then((resp) => resp.result)\n        .then((res) => setFees(res))\n        .finally(() => setFeesLoading(false));\n    }\n  }, [gateway]);\n\n  useEffect(() => {\n    if (amount > 0) {\n      if (gateway === \"FINITIC_PAY\") {\n        const { isPercentage, minDeposit, onChainfee, value, minValue } = fees;\n        if (isPercentage) {\n          const cFees = parseFloat((value * amount) / 100);\n          const feeAmount = cFees <= parseFloat(minValue) ? parseFloat(minValue) : cFees;\n          setTransactionFee(parseFloat(feeAmount).toFixed(2));\n          setMinimumDepositAmount(parseFloat(minDeposit));\n        } else {\n          setTransactionFee(parseFloat(onChainfee + minValue).toFixed(2));\n        }\n      } else {\n        setMinimumDepositAmount(10);\n        setTransactionFee(tranFeeGroupDetails ? calculateFee(tranFeeGroupDetails, amount) : 0);\n      }\n      amountValidationHandler();\n    } else {\n      setTransactionFee(0);\n    }\n  }, [tranFeeGroupDetails, amount, gateway]);\n\n  useEffect(() => {\n    if (gateway !== \"FINITIC_PAY\") {\n      setMinimumDepositAmount(10);\n    }\n  }, [gateway]);\n\n  const renderFormType = () => {\n    switch (type) {\n      case \"fiatDeposit\":\n        return <FiatFormDetails t={t}\n          selectedWallet={selectedWallet}\n          amount={amount}\n          setAmount={setAmount}\n          setPayeeAccount={setPayeeAccount}\n          setNotes={setNotes}\n          selectedPaymentMethod={selectedPaymentMethod}\n          setAmountValidation={setAmountValidation}\n          setSelectedWallet={setSelectedWallet}\n          minDepositAmount={minimumDepositAmount}\n        />;\n      case \"mt5Deposit\":\n        return <Mt5Details\n          t={t}\n          amount={amount}\n          setAmount={setAmount}\n          selectedPaymentMethod={selectedPaymentMethod}\n          amountValidation={amountValidation}\n          setPayeeAccount={setPayeeAccount}\n          setNotes={setNotes}\n          setAmountValidation={setAmountValidation}\n          selectedAccount={selectedAccount}\n          setSelectedAccount={setSelectedAccount}\n          minDepositAmount={minimumDepositAmount}\n        />;\n      default:\n        return <></>;\n    }\n  };\n\n\n  const handleOnValidSubmit = (e, v) => {\n    setLoading(true);\n    const formData = new FormData();\n    if (type === \"mt5Deposit\") {\n      console.log(\"Stage2- MT5Deposit\");\n      if (receipt) {\n        console.log(\"Stage2- if receipt true\");\n        formData.append(\"gateway\", gateway);\n        formData.append(\"amount\", parseFloat(amount));\n        // formData.append(\"note\", \"note\");\n        formData.append(\"tradingAccountId\", v.tradingAccountId);\n        formData.append(\"receipt\", file);\n        formData.append(\"paymentPayload\", paymentPayload);\n\n        if (selectedPaymentMethod === \"PERFECT_MONEY\") {\n          // formData.append(\"payeeAccount\", payeeAccount);\n          formData.append(\"note\", notes.toString());\n        }\n\n        handleSubmit(formData);\n      } else {\n        if (gateway === \"CRYPTO\") {\n          console.log(\"Stage2- CRYPTO\");\n          handleSubmit({\n            gateway,\n            paymentPayload,\n            amount: parseFloat(amount),\n            note: \"note\",\n            tradingAccountId: v.tradingAccountId,\n          });\n        }\n        if (gateway === \"حواله بنكيه\") {\n          console.log(\"Stage2- حواله بنكيه\");\n          handleSubmit({\n            gateway,\n            paymentPayload,\n            amount: parseFloat(amount),\n            note: \"note\",\n            tradingAccountId: v.tradingAccountId,\n          });\n        }\n      }\n    } else if (type === \"fiatDeposit\") {\n      if (receipt) {\n        formData.append(\"gateway\", gateway);\n        formData.append(\"amount\", parseFloat(amount));\n        // formData.append(\"note\", \"note\");\n        formData.append(\"walletId\", selectedWallet.value);\n        formData.append(\"receipt\", file);\n        formData.append(\"paymentPayload\", paymentPayload);\n        if (selectedPaymentMethod === \"PERFECT_MONEY\") {\n          // formData.append(\"payeeAccount\", payeeAccount);\n          formData.append(\"note\", notes.toString());\n        }\n        handleSubmit(formData);\n      } else {\n        handleSubmit({\n          gateway,\n          paymentPayload,\n          amount: parseFloat(amount),\n          note: \"note\",\n          walletId: selectedWallet.value,\n        });\n      }\n    }\n  };\n\n  return (\n    <AvForm\n      onValidSubmit={(e, v) => {\n        setLoading(true);\n        const formData = new FormData();\n        if (type === \"mt5Deposit\") {\n          if (receipt) {\n            formData.append(\"gateway\", gateway);\n            formData.append(\"amount\", parseFloat(amount));\n            formData.append(\"note\", \"note\");\n            formData.append(\"currency\", selectedAccount?.[0]?.currency);\n            formData.append(\"tradingAccountId\", v.tradingAccountId);\n            formData.append(\"receipt\", file);\n            formData.append(\"paymentPayload\", paymentPayload);\n            handleSubmit(formData);\n          } else {\n            if ([\"CRYPTO\", \"FINITIC_PAY\", \"EPAYME\", \"PAYMAXIS\"].includes(gateway)) {\n              handleSubmit({\n                gateway,\n                paymentPayload,\n                amount: parseFloat(amount),\n                note: \"note\",\n                tradingAccountId: v.tradingAccountId,\n              });\n            }\n          }\n        } else if (type === \"fiatDeposit\") {\n          if (receipt) {\n            formData.append(\"gateway\", gateway);\n            formData.append(\"amount\", parseFloat(amount));\n            formData.append(\"note\", \"note\");\n            formData.append(\"walletId\", selectedWallet.value);\n            formData.append(\"receipt\", file);\n            formData.append(\"paymentPayload\", paymentPayload);\n            handleSubmit(formData);\n          } else {\n            handleSubmit({\n              gateway,\n              paymentPayload,\n              amount: parseFloat(amount),\n              note: \"note\",\n              walletId: selectedWallet.value,\n            });\n          }\n        }\n      }}\n    >\n      <h6 className=\"mb-3\">{t(\"Enter Amount\")}</h6>\n      <div className=\"d-flex justify-content-between mb-2\">\n        {renderFormType()}\n      </div>\n      <div className=\"mb-3\">\n        <Label className=\"form-label mb-2\">{t(\"Transaction Fee\")}</Label>\n        <InputGroup className=\"\">\n          <InputGroupText className=\" w-100\">\n            {parseFloat(transactionFee ?? 0)}{\"   \"}{selectedWallet?.asset}\n          </InputGroupText>\n        </InputGroup>\n      </div>\n      {receipt && (\n        <div className=\"mb-3\">\n          <Label className=\"form-label\" htmlFor=\"receipt\">\n            {t(\"Receipt\")}\n          </Label>\n          <AvField\n            type=\"file\"\n            name=\"receipt\"\n            className=\"form-control form-control-md\"\n            errorMessage={t(\"Receipt is required\")}\n            onChange={(e) => {\n              setFile(e.target.files[0]);\n            }}\n            validate={{\n              required: { value: true },\n              validate: validateFile([\"jpg\", \"jpeg\", \"png\"], 1000000, file, {\n                sizeValidationMessage: t(\"The file size is too large\"),\n                extensionValidationMessage: t(\"The file extension is not allowed\"),\n              })\n            }}\n          />\n        </div>\n      )}\n      <div className=\"my-4 text-center\">\n        <Button\n          className=\"btn btn-primary m-2 btn-sm w-lg\"\n          onClick={() => toggleTab(0)}\n        >\n          {t(\"Back\")}\n        </Button>\n        <Button\n          className=\"btn btn-success m-2 btn-sm w-lg\"\n          type=\"submit\"\n          disabled={amountValidation || loading || !amount}\n        >\n          {t(\"Continue\")}\n        </Button>\n      </div>\n\n    </AvForm>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}