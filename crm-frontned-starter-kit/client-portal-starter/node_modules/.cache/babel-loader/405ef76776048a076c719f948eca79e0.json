{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{connect,useDispatch}from\"react-redux\";//i18n\nimport{withTranslation}from\"react-i18next\";import{toggleCurrentModal}from\"store/actions\";import{JClickHandler}from\"./handlers\";import{Fragment as _Fragment,jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IBJourney=props=>{var _stages$ib2,_stages$ib3;const dispatch=useDispatch();const[stages,setStages]=useState({kycApproved:false,kycUpload:false,kycRejected:false,startTrading:false,ib:{submitProfile:false,ibQuestionnaire:false,partnershipAgreement:false},loaded:false});useEffect(()=>{if(props.stages){var _props$stages,_props$stages$individ;setStages(_objectSpread(_objectSpread({},stages),{},{loaded:true,kycUpload:props.stages.kycUpload,kycApproved:props.stages.kycApproved,kycRejected:props.stages.kycRejected,startTrading:props.stages.startTrading,ib:_objectSpread(_objectSpread({},props.stages.ib),{},{submitProfile:props.stages.ib&&(props===null||props===void 0?void 0:(_props$stages=props.stages)===null||_props$stages===void 0?void 0:(_props$stages$individ=_props$stages.individual)===null||_props$stages$individ===void 0?void 0:_props$stages$individ.submitProfile)||false,ibQuestionnaire:props.stages.ib&&props.stages.ib.ibQuestionnaire,partnershipAgreement:props.stages.ib&&props.stages.ib.partnershipAgreement})}));}},[props.stages]);useEffect(()=>{if(props.clientData){if(props.stages&&stages.loaded){var _stages$ib;if(!(stages!==null&&stages!==void 0&&(_stages$ib=stages.ib)!==null&&_stages$ib!==void 0&&_stages$ib.submitProfile)){JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal)();}else if(!stages.ib.ibQuestionnaire){JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal)();}else if(!stages.kycUpload){JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal)();}}}},[stages,props.stages]);if(stages!==null&&stages!==void 0&&(_stages$ib2=stages.ib)!==null&&_stages$ib2!==void 0&&_stages$ib2.submitProfile&&stages.ib.ibQuestionnaire&&stages.kycApproved&&stages.ib.partnershipAgreement){return/*#__PURE__*/_jsx(_Fragment,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"mb-5\",children:props.clientData&&!props.clientData.isLead&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-2\",children:props.t(\"How it works\")}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:props.t(\"Get starded with 4 easy steps\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"steps mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:stages!==null&&stages!==void 0&&(_stages$ib3=stages.ib)!==null&&_stages$ib3!==void 0&&_stages$ib3.submitProfile?\"steps-card steps-complete text-center\":\"steps-card text-center\",onClick:JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal),children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:\"1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"steps-card-title-container mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"steps-card-title\",children:[props.t(\"Sign up\"),/*#__PURE__*/_jsx(\"span\",{className:\"custom-border\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:stages.ib.ibQuestionnaire?\"steps-card steps-complete text-center\":\"steps-card text-center\",onClick:JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal),children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:\"2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"steps-card-title-container mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"steps-card-title\",children:[props.t(\"IB Questionnaire\"),/*#__PURE__*/_jsx(\"span\",{className:\"custom-border\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:stages.kycApproved?\"steps-card steps-complete text-center\":\"steps-card text-center\",onClick:JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal),children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:\"3\"}),/*#__PURE__*/_jsx(\"div\",{className:\"steps-card-title-container mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"steps-card-title\",children:[props.t(\"Verify\"),/*#__PURE__*/_jsx(\"span\",{className:\"custom-border\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:stages.ib.partnershipAgreement?\"steps-card steps-complete text-center\":\"steps-card text-center\",onClick:JClickHandler(\"IbJourney\",props.stages,dispatch,toggleCurrentModal),children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:\"4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"steps-card-title-container mb-3\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"steps-card-title\",children:[props.t(\"Partnership agreement\"),/*#__PURE__*/_jsx(\"span\",{className:\"custom-border\"})]})})]})]})]})});};const mapStateToProps=state=>({stages:state.Profile.clientData&&state.Profile.clientData.stages||{},clientData:state.Profile.clientData||{}});export default connect(mapStateToProps,null)(withTranslation()(IBJourney));","map":{"version":3,"names":["React","useState","useEffect","connect","useDispatch","withTranslation","toggleCurrentModal","JClickHandler","Fragment","_Fragment","jsx","_jsx","jsxs","_jsxs","IBJourney","props","_stages$ib2","_stages$ib3","dispatch","stages","setStages","kycApproved","kycUpload","kycRejected","startTrading","ib","submitProfile","ibQuestionnaire","partnershipAgreement","loaded","_props$stages","_props$stages$individ","_objectSpread","individual","clientData","_stages$ib","className","children","isLead","t","onClick","mapStateToProps","state","Profile"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/Journey/IBJourney.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\n//i18n\nimport { withTranslation } from \"react-i18next\";\nimport { toggleCurrentModal } from \"store/actions\";\nimport { JClickHandler } from \"./handlers\";\n\nconst IBJourney = (props) => {\n  const dispatch = useDispatch();\n  const [stages, setStages] = useState({\n    kycApproved: false,\n    kycUpload: false,\n    kycRejected: false,\n    startTrading: false,\n    ib: {\n      submitProfile: false,\n      ibQuestionnaire: false,\n      partnershipAgreement: false\n    },\n    loaded: false,\n  });\n  useEffect(()=>{\n    if (props.stages){\n      setStages({\n        ...stages,\n        loaded: true,\n        kycUpload: props.stages.kycUpload,\n        kycApproved: props.stages.kycApproved,\n        kycRejected: props.stages.kycRejected,\n        startTrading: props.stages.startTrading,\n        ib: {\n          ...props.stages.ib,\n          submitProfile: props.stages.ib && props?.stages?.individual?.submitProfile || false,\n          ibQuestionnaire: props.stages.ib && props.stages.ib.ibQuestionnaire,\n          partnershipAgreement: props.stages.ib && props.stages.ib.partnershipAgreement,\n        },\n      });\n    }\n  }, [props.stages]);\n  \n  useEffect(() => {\n    if (props.clientData) {\n      if (props.stages && stages.loaded) {\n        if (!stages?.ib?.submitProfile) {\n          JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)();\n        }\n        else if (!stages.ib.ibQuestionnaire) {\n          JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)();\n        }\n        else if (!stages.kycUpload) {\n          JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)();\n\n        }\n      }\n    }\n  }, [stages, props.stages]);\n\n  if (stages?.ib?.submitProfile && stages.ib.ibQuestionnaire && stages.kycApproved && stages.ib.partnershipAgreement) {\n    return <></>;\n  }\n\n  return (\n    <div className='mb-5'>\n      {props.clientData && !props.clientData.isLead  && <React.Fragment>\n        <h1 className='mb-2'>{props.t(\"How it works\")}</h1>\n        <p className='text-muted'>{props.t(\"Get starded with 4 easy steps\")}</p>\n        <div className='steps mb-5'>\n          <div className={stages?.ib?.submitProfile ? \"steps-card steps-complete text-center\" : \"steps-card text-center\"}\n            onClick={JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)}>\n            <div className='number'>1</div>\n            <div className='steps-card-title-container mb-3'>\n              <span className='steps-card-title'>\n                {props.t(\"Sign up\")}\n                <span className='custom-border'></span>\n              </span>\n            </div>\n          </div>\n          <div className={stages.ib.ibQuestionnaire ? \"steps-card steps-complete text-center\" : \"steps-card text-center\"}\n            onClick={JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)}>\n            <div className='number'>2</div>\n            <div className='steps-card-title-container mb-3'>\n              <span className='steps-card-title'>\n                {props.t(\"IB Questionnaire\")}\n                <span className='custom-border'></span>\n              </span>\n            </div>\n          </div>\n          <div className={stages.kycApproved ? \"steps-card steps-complete text-center\" : \"steps-card text-center\"}\n            onClick={JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)}>\n            <div className='number'>3</div>\n            <div className='steps-card-title-container mb-3'>\n              <span className='steps-card-title'>\n                {props.t(\"Verify\")}\n                <span className='custom-border'></span>\n              </span>\n            </div>\n          </div>\n          <div className={stages.ib.partnershipAgreement ? \"steps-card steps-complete text-center\" : \"steps-card text-center\"}\n            onClick={JClickHandler(\"IbJourney\", props.stages, dispatch, toggleCurrentModal)}>\n            <div className='number'>4</div>\n            <div className='steps-card-title-container mb-3'>\n              <span className='steps-card-title'>\n                {props.t(\"Partnership agreement\")}\n                <span className='custom-border'></span>\n              </span>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>}\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  stages: (state.Profile.clientData && state.Profile.clientData.stages) || {},\n  clientData: state.Profile.clientData || {},\n});\nexport default connect(mapStateToProps, null)(withTranslation()(IBJourney));"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}