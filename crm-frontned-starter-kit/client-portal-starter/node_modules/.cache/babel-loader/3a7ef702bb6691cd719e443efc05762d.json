{"ast":null,"code":"var defaultBindingOptions = {\n  allowDownsampling: true\n};\nexport function bindToDevicePixelRatio(canvas, options) {\n  if (options === void 0) {\n    options = defaultBindingOptions;\n  }\n  return new DevicePixelRatioBinding(canvas, options);\n}\nvar DevicePixelRatioBinding = /** @class */function () {\n  function DevicePixelRatioBinding(canvas, options) {\n    var _this = this;\n    this._resolutionMediaQueryList = null;\n    this._resolutionListener = function (ev) {\n      return _this._onResolutionChanged();\n    };\n    this._canvasConfiguredListeners = [];\n    this.canvas = canvas;\n    this._canvasSize = {\n      width: this.canvas.clientWidth,\n      height: this.canvas.clientHeight\n    };\n    this._options = options;\n    this._configureCanvas();\n    this._installResolutionListener();\n  }\n  DevicePixelRatioBinding.prototype.destroy = function () {\n    this._canvasConfiguredListeners.length = 0;\n    this._uninstallResolutionListener();\n    this.canvas = null;\n  };\n  Object.defineProperty(DevicePixelRatioBinding.prototype, \"canvasSize\", {\n    get: function () {\n      return {\n        width: this._canvasSize.width,\n        height: this._canvasSize.height\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  DevicePixelRatioBinding.prototype.resizeCanvas = function (size) {\n    this._canvasSize = {\n      width: size.width,\n      height: size.height\n    };\n    this._configureCanvas();\n  };\n  Object.defineProperty(DevicePixelRatioBinding.prototype, \"pixelRatio\", {\n    get: function () {\n      // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n      // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n      var win = this.canvas.ownerDocument.defaultView;\n      if (win == null) {\n        throw new Error('No window is associated with the canvas');\n      }\n      return win.devicePixelRatio > 1 || this._options.allowDownsampling ? win.devicePixelRatio : 1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  DevicePixelRatioBinding.prototype.subscribeCanvasConfigured = function (listener) {\n    this._canvasConfiguredListeners.push(listener);\n  };\n  DevicePixelRatioBinding.prototype.unsubscribeCanvasConfigured = function (listener) {\n    this._canvasConfiguredListeners = this._canvasConfiguredListeners.filter(function (l) {\n      return l != listener;\n    });\n  };\n  DevicePixelRatioBinding.prototype._configureCanvas = function () {\n    var ratio = this.pixelRatio;\n    this.canvas.style.width = this._canvasSize.width + \"px\";\n    this.canvas.style.height = this._canvasSize.height + \"px\";\n    this.canvas.width = this._canvasSize.width * ratio;\n    this.canvas.height = this._canvasSize.height * ratio;\n    this._emitCanvasConfigured();\n  };\n  DevicePixelRatioBinding.prototype._emitCanvasConfigured = function () {\n    var _this = this;\n    this._canvasConfiguredListeners.forEach(function (listener) {\n      return listener.call(_this);\n    });\n  };\n  DevicePixelRatioBinding.prototype._installResolutionListener = function () {\n    if (this._resolutionMediaQueryList !== null) {\n      throw new Error('Resolution listener is already installed');\n    }\n    // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n    // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n    var win = this.canvas.ownerDocument.defaultView;\n    if (win == null) {\n      throw new Error('No window is associated with the canvas');\n    }\n    var dppx = win.devicePixelRatio;\n    this._resolutionMediaQueryList = win.matchMedia(\"all and (resolution: \" + dppx + \"dppx)\");\n    // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n    this._resolutionMediaQueryList.addListener(this._resolutionListener);\n  };\n  DevicePixelRatioBinding.prototype._uninstallResolutionListener = function () {\n    if (this._resolutionMediaQueryList !== null) {\n      // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n      this._resolutionMediaQueryList.removeListener(this._resolutionListener);\n      this._resolutionMediaQueryList = null;\n    }\n  };\n  DevicePixelRatioBinding.prototype._reinstallResolutionListener = function () {\n    this._uninstallResolutionListener();\n    this._installResolutionListener();\n  };\n  DevicePixelRatioBinding.prototype._onResolutionChanged = function () {\n    this._configureCanvas();\n    this._reinstallResolutionListener();\n  };\n  return DevicePixelRatioBinding;\n}();","map":{"version":3,"names":["defaultBindingOptions","allowDownsampling","bindToDevicePixelRatio","canvas","options","DevicePixelRatioBinding","_this","_resolutionMediaQueryList","_resolutionListener","ev","_onResolutionChanged","_canvasConfiguredListeners","_canvasSize","width","clientWidth","height","clientHeight","_options","_configureCanvas","_installResolutionListener","prototype","destroy","length","_uninstallResolutionListener","Object","defineProperty","get","enumerable","configurable","resizeCanvas","size","win","ownerDocument","defaultView","Error","devicePixelRatio","subscribeCanvasConfigured","listener","push","unsubscribeCanvasConfigured","filter","l","ratio","pixelRatio","style","_emitCanvasConfigured","forEach","call","dppx","matchMedia","addListener","removeListener","_reinstallResolutionListener"],"sources":["/home/ubuntu/king/portal/client-portal-starter/node_modules/fancy-canvas/coordinate-space.js"],"sourcesContent":["var defaultBindingOptions = {\r\n    allowDownsampling: true,\r\n};\r\nexport function bindToDevicePixelRatio(canvas, options) {\r\n    if (options === void 0) { options = defaultBindingOptions; }\r\n    return new DevicePixelRatioBinding(canvas, options);\r\n}\r\nvar DevicePixelRatioBinding = /** @class */ (function () {\r\n    function DevicePixelRatioBinding(canvas, options) {\r\n        var _this = this;\r\n        this._resolutionMediaQueryList = null;\r\n        this._resolutionListener = function (ev) { return _this._onResolutionChanged(); };\r\n        this._canvasConfiguredListeners = [];\r\n        this.canvas = canvas;\r\n        this._canvasSize = {\r\n            width: this.canvas.clientWidth,\r\n            height: this.canvas.clientHeight,\r\n        };\r\n        this._options = options;\r\n        this._configureCanvas();\r\n        this._installResolutionListener();\r\n    }\r\n    DevicePixelRatioBinding.prototype.destroy = function () {\r\n        this._canvasConfiguredListeners.length = 0;\r\n        this._uninstallResolutionListener();\r\n        this.canvas = null;\r\n    };\r\n    Object.defineProperty(DevicePixelRatioBinding.prototype, \"canvasSize\", {\r\n        get: function () {\r\n            return {\r\n                width: this._canvasSize.width,\r\n                height: this._canvasSize.height,\r\n            };\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DevicePixelRatioBinding.prototype.resizeCanvas = function (size) {\r\n        this._canvasSize = {\r\n            width: size.width,\r\n            height: size.height,\r\n        };\r\n        this._configureCanvas();\r\n    };\r\n    Object.defineProperty(DevicePixelRatioBinding.prototype, \"pixelRatio\", {\r\n        get: function () {\r\n            // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\r\n            // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\r\n            var win = this.canvas.ownerDocument.defaultView;\r\n            if (win == null) {\r\n                throw new Error('No window is associated with the canvas');\r\n            }\r\n            return win.devicePixelRatio > 1 || this._options.allowDownsampling ? win.devicePixelRatio : 1;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    DevicePixelRatioBinding.prototype.subscribeCanvasConfigured = function (listener) {\r\n        this._canvasConfiguredListeners.push(listener);\r\n    };\r\n    DevicePixelRatioBinding.prototype.unsubscribeCanvasConfigured = function (listener) {\r\n        this._canvasConfiguredListeners = this._canvasConfiguredListeners.filter(function (l) { return l != listener; });\r\n    };\r\n    DevicePixelRatioBinding.prototype._configureCanvas = function () {\r\n        var ratio = this.pixelRatio;\r\n        this.canvas.style.width = this._canvasSize.width + \"px\";\r\n        this.canvas.style.height = this._canvasSize.height + \"px\";\r\n        this.canvas.width = this._canvasSize.width * ratio;\r\n        this.canvas.height = this._canvasSize.height * ratio;\r\n        this._emitCanvasConfigured();\r\n    };\r\n    DevicePixelRatioBinding.prototype._emitCanvasConfigured = function () {\r\n        var _this = this;\r\n        this._canvasConfiguredListeners.forEach(function (listener) { return listener.call(_this); });\r\n    };\r\n    DevicePixelRatioBinding.prototype._installResolutionListener = function () {\r\n        if (this._resolutionMediaQueryList !== null) {\r\n            throw new Error('Resolution listener is already installed');\r\n        }\r\n        // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\r\n        // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\r\n        var win = this.canvas.ownerDocument.defaultView;\r\n        if (win == null) {\r\n            throw new Error('No window is associated with the canvas');\r\n        }\r\n        var dppx = win.devicePixelRatio;\r\n        this._resolutionMediaQueryList = win.matchMedia(\"all and (resolution: \" + dppx + \"dppx)\");\r\n        // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\r\n        this._resolutionMediaQueryList.addListener(this._resolutionListener);\r\n    };\r\n    DevicePixelRatioBinding.prototype._uninstallResolutionListener = function () {\r\n        if (this._resolutionMediaQueryList !== null) {\r\n            // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\r\n            this._resolutionMediaQueryList.removeListener(this._resolutionListener);\r\n            this._resolutionMediaQueryList = null;\r\n        }\r\n    };\r\n    DevicePixelRatioBinding.prototype._reinstallResolutionListener = function () {\r\n        this._uninstallResolutionListener();\r\n        this._installResolutionListener();\r\n    };\r\n    DevicePixelRatioBinding.prototype._onResolutionChanged = function () {\r\n        this._configureCanvas();\r\n        this._reinstallResolutionListener();\r\n    };\r\n    return DevicePixelRatioBinding;\r\n}());\r\n"],"mappings":"AAAA,IAAIA,qBAAqB,GAAG;EACxBC,iBAAiB,EAAE;AACvB,CAAC;AACD,OAAO,SAASC,sBAAsBA,CAACC,MAAM,EAAEC,OAAO,EAAE;EACpD,IAAIA,OAAO,KAAK,KAAK,CAAC,EAAE;IAAEA,OAAO,GAAGJ,qBAAqB;EAAE;EAC3D,OAAO,IAAIK,uBAAuB,CAACF,MAAM,EAAEC,OAAO,CAAC;AACvD;AACA,IAAIC,uBAAuB,GAAG,aAAe,YAAY;EACrD,SAASA,uBAAuBA,CAACF,MAAM,EAAEC,OAAO,EAAE;IAC9C,IAAIE,KAAK,GAAG,IAAI;IAChB,IAAI,CAACC,yBAAyB,GAAG,IAAI;IACrC,IAAI,CAACC,mBAAmB,GAAG,UAAUC,EAAE,EAAE;MAAE,OAAOH,KAAK,CAACI,oBAAoB,CAAC,CAAC;IAAE,CAAC;IACjF,IAAI,CAACC,0BAA0B,GAAG,EAAE;IACpC,IAAI,CAACR,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACS,WAAW,GAAG;MACfC,KAAK,EAAE,IAAI,CAACV,MAAM,CAACW,WAAW;MAC9BC,MAAM,EAAE,IAAI,CAACZ,MAAM,CAACa;IACxB,CAAC;IACD,IAAI,CAACC,QAAQ,GAAGb,OAAO;IACvB,IAAI,CAACc,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACC,0BAA0B,CAAC,CAAC;EACrC;EACAd,uBAAuB,CAACe,SAAS,CAACC,OAAO,GAAG,YAAY;IACpD,IAAI,CAACV,0BAA0B,CAACW,MAAM,GAAG,CAAC;IAC1C,IAAI,CAACC,4BAA4B,CAAC,CAAC;IACnC,IAAI,CAACpB,MAAM,GAAG,IAAI;EACtB,CAAC;EACDqB,MAAM,CAACC,cAAc,CAACpB,uBAAuB,CAACe,SAAS,EAAE,YAAY,EAAE;IACnEM,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO;QACHb,KAAK,EAAE,IAAI,CAACD,WAAW,CAACC,KAAK;QAC7BE,MAAM,EAAE,IAAI,CAACH,WAAW,CAACG;MAC7B,CAAC;IACL,CAAC;IACDY,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFvB,uBAAuB,CAACe,SAAS,CAACS,YAAY,GAAG,UAAUC,IAAI,EAAE;IAC7D,IAAI,CAAClB,WAAW,GAAG;MACfC,KAAK,EAAEiB,IAAI,CAACjB,KAAK;MACjBE,MAAM,EAAEe,IAAI,CAACf;IACjB,CAAC;IACD,IAAI,CAACG,gBAAgB,CAAC,CAAC;EAC3B,CAAC;EACDM,MAAM,CAACC,cAAc,CAACpB,uBAAuB,CAACe,SAAS,EAAE,YAAY,EAAE;IACnEM,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb;MACA;MACA,IAAIK,GAAG,GAAG,IAAI,CAAC5B,MAAM,CAAC6B,aAAa,CAACC,WAAW;MAC/C,IAAIF,GAAG,IAAI,IAAI,EAAE;QACb,MAAM,IAAIG,KAAK,CAAC,yCAAyC,CAAC;MAC9D;MACA,OAAOH,GAAG,CAACI,gBAAgB,GAAG,CAAC,IAAI,IAAI,CAAClB,QAAQ,CAAChB,iBAAiB,GAAG8B,GAAG,CAACI,gBAAgB,GAAG,CAAC;IACjG,CAAC;IACDR,UAAU,EAAE,IAAI;IAChBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFvB,uBAAuB,CAACe,SAAS,CAACgB,yBAAyB,GAAG,UAAUC,QAAQ,EAAE;IAC9E,IAAI,CAAC1B,0BAA0B,CAAC2B,IAAI,CAACD,QAAQ,CAAC;EAClD,CAAC;EACDhC,uBAAuB,CAACe,SAAS,CAACmB,2BAA2B,GAAG,UAAUF,QAAQ,EAAE;IAChF,IAAI,CAAC1B,0BAA0B,GAAG,IAAI,CAACA,0BAA0B,CAAC6B,MAAM,CAAC,UAAUC,CAAC,EAAE;MAAE,OAAOA,CAAC,IAAIJ,QAAQ;IAAE,CAAC,CAAC;EACpH,CAAC;EACDhC,uBAAuB,CAACe,SAAS,CAACF,gBAAgB,GAAG,YAAY;IAC7D,IAAIwB,KAAK,GAAG,IAAI,CAACC,UAAU;IAC3B,IAAI,CAACxC,MAAM,CAACyC,KAAK,CAAC/B,KAAK,GAAG,IAAI,CAACD,WAAW,CAACC,KAAK,GAAG,IAAI;IACvD,IAAI,CAACV,MAAM,CAACyC,KAAK,CAAC7B,MAAM,GAAG,IAAI,CAACH,WAAW,CAACG,MAAM,GAAG,IAAI;IACzD,IAAI,CAACZ,MAAM,CAACU,KAAK,GAAG,IAAI,CAACD,WAAW,CAACC,KAAK,GAAG6B,KAAK;IAClD,IAAI,CAACvC,MAAM,CAACY,MAAM,GAAG,IAAI,CAACH,WAAW,CAACG,MAAM,GAAG2B,KAAK;IACpD,IAAI,CAACG,qBAAqB,CAAC,CAAC;EAChC,CAAC;EACDxC,uBAAuB,CAACe,SAAS,CAACyB,qBAAqB,GAAG,YAAY;IAClE,IAAIvC,KAAK,GAAG,IAAI;IAChB,IAAI,CAACK,0BAA0B,CAACmC,OAAO,CAAC,UAAUT,QAAQ,EAAE;MAAE,OAAOA,QAAQ,CAACU,IAAI,CAACzC,KAAK,CAAC;IAAE,CAAC,CAAC;EACjG,CAAC;EACDD,uBAAuB,CAACe,SAAS,CAACD,0BAA0B,GAAG,YAAY;IACvE,IAAI,IAAI,CAACZ,yBAAyB,KAAK,IAAI,EAAE;MACzC,MAAM,IAAI2B,KAAK,CAAC,0CAA0C,CAAC;IAC/D;IACA;IACA;IACA,IAAIH,GAAG,GAAG,IAAI,CAAC5B,MAAM,CAAC6B,aAAa,CAACC,WAAW;IAC/C,IAAIF,GAAG,IAAI,IAAI,EAAE;MACb,MAAM,IAAIG,KAAK,CAAC,yCAAyC,CAAC;IAC9D;IACA,IAAIc,IAAI,GAAGjB,GAAG,CAACI,gBAAgB;IAC/B,IAAI,CAAC5B,yBAAyB,GAAGwB,GAAG,CAACkB,UAAU,CAAC,uBAAuB,GAAGD,IAAI,GAAG,OAAO,CAAC;IACzF;IACA,IAAI,CAACzC,yBAAyB,CAAC2C,WAAW,CAAC,IAAI,CAAC1C,mBAAmB,CAAC;EACxE,CAAC;EACDH,uBAAuB,CAACe,SAAS,CAACG,4BAA4B,GAAG,YAAY;IACzE,IAAI,IAAI,CAAChB,yBAAyB,KAAK,IAAI,EAAE;MACzC;MACA,IAAI,CAACA,yBAAyB,CAAC4C,cAAc,CAAC,IAAI,CAAC3C,mBAAmB,CAAC;MACvE,IAAI,CAACD,yBAAyB,GAAG,IAAI;IACzC;EACJ,CAAC;EACDF,uBAAuB,CAACe,SAAS,CAACgC,4BAA4B,GAAG,YAAY;IACzE,IAAI,CAAC7B,4BAA4B,CAAC,CAAC;IACnC,IAAI,CAACJ,0BAA0B,CAAC,CAAC;EACrC,CAAC;EACDd,uBAAuB,CAACe,SAAS,CAACV,oBAAoB,GAAG,YAAY;IACjE,IAAI,CAACQ,gBAAgB,CAAC,CAAC;IACvB,IAAI,CAACkC,4BAA4B,CAAC,CAAC;EACvC,CAAC;EACD,OAAO/C,uBAAuB;AAClC,CAAC,CAAC,CAAE","ignoreList":[]},"metadata":{},"sourceType":"module"}