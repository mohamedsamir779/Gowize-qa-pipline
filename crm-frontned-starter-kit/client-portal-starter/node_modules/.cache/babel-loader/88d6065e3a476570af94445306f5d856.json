{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Container}from\"reactstrap\";import MetaTags from\"react-meta-tags\";import CardWrapper from\"components/Common/CardWrapper\";import Widgets from\"components/Common/Widgets\";import Transactions from\"./Transactions\";import Deposits from\"./Deposits\";import Withdrawals from\"./Withdrawals\";import Orders from\"./Orders\";import Convert from\"./Convert\";import AllFilters from\"./filters/AllFilters\";import{withTranslation}from\"react-i18next\";import WithdrawalFilters from\"./filters/WithdrawalFilters\";import DepositFilters from\"./filters/DepositFilters\";import OrderFilter from\"./filters/OrderFilter\";import ConvertFilters from\"./filters/ConvertFilters\";import{fetchWallets}from\"store/actions\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function History(props){const dispatch=useDispatch();const[activeTab,setTab]=useState(0);const[transactionsFilterObj,setTransactionsFilterObj]=useState({});const[depositsFilterObj,setDepositsFilterObj]=useState({});const[withdrawalsFilterObj,setWithdrawalsFilterObj]=useState({});const[ordersFilterObj,setOrdersFilterObj]=useState({});const[convertsFilterObj,setConvertsFilterObj]=useState({});const{assets}=useSelector(state=>state.assets);const{wallets}=useSelector(state=>state.crypto.wallets);useEffect(()=>{if(!wallets||wallets.length===0)dispatch(fetchWallets());},[]);const transactionsFilterHandler=filter=>{filter.fromDate===\"\"&&delete filter.fromDate;filter.toDate===\"\"&&delete filter.toDate;setTransactionsFilterObj(filter);};const depositsFilterHandler=filter=>{filter.fromDate===\"\"&&delete filter.fromDate;filter.toDate===\"\"&&delete filter.toDate;setDepositsFilterObj(filter);};const withdrawalsFilterHandler=filter=>{filter.fromDate===\"\"&&delete filter.fromDate;filter.toDate===\"\"&&delete filter.toDate;setWithdrawalsFilterObj(filter);};const ordersFilterHandler=filter=>{filter.fromDate===\"\"&&delete filter.fromDate;filter.toDate===\"\"&&delete filter.toDate;setOrdersFilterObj(filter);};const convertsFilterHandler=filter=>{filter.fromDate===\"\"&&delete filter.fromDate;filter.toDate===\"\"&&delete filter.toDate;setConvertsFilterObj(filter);};// const widgets = [\"All\", \"Withdrawls\", \"Deposit\", \"Orders\", \"Convert\"];\nconst widgets=[\"All\",\"Withdrawls\",\"Deposit\"];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:props.t(\"History\")})}),/*#__PURE__*/_jsxs(Container,{className:\"mb-5 mt-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-row\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4\",children:props.t(\"Wallet History\")})}),/*#__PURE__*/_jsxs(Widgets,{setTab:setTab,tabs:widgets,children:[activeTab===0&&/*#__PURE__*/_jsx(AllFilters,{filterHandler:transactionsFilterHandler,wallets:wallets}),activeTab===2&&/*#__PURE__*/_jsx(DepositFilters,{filterHandler:depositsFilterHandler,wallets:wallets}),activeTab===1&&/*#__PURE__*/_jsx(WithdrawalFilters,{filterHandler:withdrawalsFilterHandler,wallets:wallets}),/*#__PURE__*/_jsx(CardWrapper,{className:\"glass-card shadow\",children:/*#__PURE__*/_jsxs(Container,{children:[activeTab===0&&/*#__PURE__*/_jsx(Transactions,{assets:assets,filterObj:transactionsFilterObj}),activeTab===2&&/*#__PURE__*/_jsx(Deposits,{assets:assets,filterObj:depositsFilterObj}),activeTab===1&&/*#__PURE__*/_jsx(Withdrawals,{assets:assets,filterObj:withdrawalsFilterObj}),activeTab===3&&/*#__PURE__*/_jsx(Orders,{assets:assets,filterObj:ordersFilterObj}),activeTab===4&&/*#__PURE__*/_jsx(Convert,{assets:assets,filterObj:convertsFilterObj})]})})]})]})]})});}export default withTranslation()(History);","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Container","MetaTags","CardWrapper","Widgets","Transactions","Deposits","Withdrawals","Orders","Convert","AllFilters","withTranslation","WithdrawalFilters","DepositFilters","OrderFilter","ConvertFilters","fetchWallets","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","History","props","dispatch","activeTab","setTab","transactionsFilterObj","setTransactionsFilterObj","depositsFilterObj","setDepositsFilterObj","withdrawalsFilterObj","setWithdrawalsFilterObj","ordersFilterObj","setOrdersFilterObj","convertsFilterObj","setConvertsFilterObj","assets","state","wallets","crypto","length","transactionsFilterHandler","filter","fromDate","toDate","depositsFilterHandler","withdrawalsFilterHandler","ordersFilterHandler","convertsFilterHandler","widgets","children","className","t","tabs","filterHandler","filterObj"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Crypto/History/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container } from \"reactstrap\";\nimport MetaTags from \"react-meta-tags\";\n\nimport CardWrapper from \"components/Common/CardWrapper\";\nimport Widgets from \"components/Common/Widgets\";\nimport Transactions from \"./Transactions\";\nimport Deposits from \"./Deposits\";\nimport Withdrawals from \"./Withdrawals\";\nimport Orders from \"./Orders\";\nimport Convert from \"./Convert\";\nimport AllFilters from \"./filters/AllFilters\";\nimport { withTranslation } from \"react-i18next\";\nimport WithdrawalFilters from \"./filters/WithdrawalFilters\";\nimport DepositFilters from \"./filters/DepositFilters\";\nimport OrderFilter from \"./filters/OrderFilter\";\nimport ConvertFilters from \"./filters/ConvertFilters\";\nimport { fetchWallets } from \"store/actions\";\n\nfunction History(props) {\n  const dispatch = useDispatch();\n  const [activeTab, setTab] = useState(0);\n  const [transactionsFilterObj, setTransactionsFilterObj] = useState({});\n  const [depositsFilterObj, setDepositsFilterObj] = useState({});\n  const [withdrawalsFilterObj, setWithdrawalsFilterObj] = useState({});\n  const [ordersFilterObj, setOrdersFilterObj] = useState({});\n  const [convertsFilterObj, setConvertsFilterObj] = useState({});\n  const { assets } = useSelector(state=>state.assets);\n  \n  const { wallets } = useSelector(state=>state.crypto.wallets);\n  useEffect(() => {\n    if (!wallets || wallets.length === 0)\n      dispatch(fetchWallets());\n  }, []);  \n  const transactionsFilterHandler = (filter) => {\n    filter.fromDate === \"\" && delete filter.fromDate;\n    filter.toDate === \"\" && delete filter.toDate;\n    setTransactionsFilterObj(filter);\n  };\n\n  const depositsFilterHandler = (filter) => {\n    filter.fromDate === \"\" && delete filter.fromDate;\n    filter.toDate === \"\" && delete filter.toDate;\n    setDepositsFilterObj(filter);\n  };\n\n  const withdrawalsFilterHandler = (filter) => {\n    filter.fromDate === \"\" && delete filter.fromDate;\n    filter.toDate === \"\" && delete filter.toDate;\n    setWithdrawalsFilterObj(filter);\n  };\n\n  const ordersFilterHandler = (filter) => {\n    filter.fromDate === \"\" && delete filter.fromDate;\n    filter.toDate === \"\" && delete filter.toDate;\n    setOrdersFilterObj(filter);\n  };\n\n  const convertsFilterHandler = (filter) => {\n    filter.fromDate === \"\" && delete filter.fromDate;\n    filter.toDate === \"\" && delete filter.toDate;\n    setConvertsFilterObj(filter);\n  };\n\n  // const widgets = [\"All\", \"Withdrawls\", \"Deposit\", \"Orders\", \"Convert\"];\n  const widgets = [\"All\", \"Withdrawls\", \"Deposit\"];\n\n  return (\n    <>\n      <div className=\"page-content\">\n        <MetaTags>\n          <title>{props.t(\"History\")}</title>\n        </MetaTags>\n        <Container className=\"mb-5 mt-5\">\n          <div className=\"d-flex flex-row\">\n            <h1 className=\"mb-4\">\n              {props.t(\"Wallet History\")}\n            </h1>\n          </div>\n          <Widgets\n            setTab={setTab}\n            tabs={widgets}\n          >\n            {/* filter tabs */}\n            {\n              activeTab === 0 && <AllFilters filterHandler={transactionsFilterHandler} wallets={wallets} />\n            }\n            {\n              activeTab === 2 && <DepositFilters filterHandler={depositsFilterHandler} wallets={wallets} />\n            }\n            {\n              activeTab === 1 && <WithdrawalFilters filterHandler={withdrawalsFilterHandler} wallets={wallets} />\n            }\n            {/* {\n              activeTab === 3 && <OrderFilter filterHandler={ordersFilterHandler} />\n            }\n            {\n              activeTab === 4 && <ConvertFilters filterHandler={convertsFilterHandler} wallets={wallets} />\n            } */}\n            <CardWrapper className=\"glass-card shadow\">\n              <Container>\n                {activeTab === 0 && <Transactions assets={assets} filterObj={transactionsFilterObj} />}\n                {activeTab === 2 && <Deposits assets={assets} filterObj={depositsFilterObj} />}\n                {activeTab === 1 && <Withdrawals assets={assets} filterObj={withdrawalsFilterObj} />}\n                {activeTab === 3 && <Orders assets={assets} filterObj={ordersFilterObj} />}\n                {activeTab === 4 && <Convert assets={assets} filterObj={convertsFilterObj} />}\n              </Container>\n            </CardWrapper>\n          </Widgets>\n        </Container>\n      </div>\n    </>\n  );\n}\n\nexport default withTranslation()(History); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}