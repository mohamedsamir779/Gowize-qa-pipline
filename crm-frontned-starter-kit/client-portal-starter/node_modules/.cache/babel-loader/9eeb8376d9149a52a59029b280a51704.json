{"ast":null,"code":"import React,{useEffect}from\"react\";import{connect,useDispatch,useSelector}from\"react-redux\";import{Container,Spinner}from\"reactstrap\";import MetaTags from\"react-meta-tags\";import CardWrapper from\"../../components/Common/CardWrapper\";import{fetchDocsStart}from\"../../store/general/documents/actions\";import DocumentsList from\"./DocumnetsList\";import DocumentUpload from\"./DocumentsUpload\";//i18n\nimport{withTranslation}from\"react-i18next\";import{Link}from\"react-router-dom\";import documentJourneyValidation from\"common/helpers\";import DocumentsCorpUpload from\"./DocumentsCorpUpload\";import Sumsub from\"./Sumsub\";// import Sumsub from \"./Sumsub\";\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Documents(props){const clientData=useSelector(state=>state.Profile.clientData);const{loading}=useSelector(state=>state.documents);const{subPortal}=useSelector(state=>state.Layout);const dispatch=useDispatch();const loadDocs=()=>{dispatch(fetchDocsStart());};useEffect(()=>{loadDocs(props.token);},[props.uploading]);if(documentJourneyValidation(clientData,subPortal)!==true){return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:props.t(\"Documents\")})}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center mt-5\",children:/*#__PURE__*/_jsx(Spinner,{})}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(CardWrapper,{className:\"mt-5 glass-card shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center color-primary\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",children:props.t(\"Please complete journey stages before upload documents\")})})})})]});}const enableSumSub=true;if(enableSumSub){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:props.t(\"Documents\")})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"profile mt-5 h-full\",children:/*#__PURE__*/_jsx(Sumsub,{})})})]})});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:props.t(\"Documents\")})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{className:\"profile mt-5\",children:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4 color-primary\",children:props.t(\"My Documents\")}),/*#__PURE__*/_jsx(CardWrapper,{className:\"mb-5 my-document glass-card shadow\",children:/*#__PURE__*/_jsx(DocumentsList,{})}),/*#__PURE__*/_jsx(\"h1\",{className:\"mb-4 color-primary\",children:props.t(\"Upload New Document\")}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-document mb-5\",children:clientData.isCorporate?/*#__PURE__*/_jsx(DocumentsCorpUpload,{}):/*#__PURE__*/_jsx(DocumentUpload,{})})]})})})]})});}const mapStateToProps=state=>({documents:state.documents.documents,uploading:state.documents.uploading});export default connect(mapStateToProps,null)(withTranslation()(Documents));","map":{"version":3,"names":["React","useEffect","connect","useDispatch","useSelector","Container","Spinner","MetaTags","CardWrapper","fetchDocsStart","DocumentsList","DocumentUpload","withTranslation","Link","documentJourneyValidation","DocumentsCorpUpload","Sumsub","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Documents","props","clientData","state","Profile","loading","documents","subPortal","Layout","dispatch","loadDocs","token","uploading","className","children","t","to","enableSumSub","isCorporate","mapStateToProps"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Documents/index.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  connect, useDispatch, useSelector\n} from \"react-redux\";\nimport { Container, Spinner } from \"reactstrap\";\nimport MetaTags from \"react-meta-tags\";\n\nimport CardWrapper from \"../../components/Common/CardWrapper\";\nimport { fetchDocsStart } from \"../../store/general/documents/actions\";\nimport DocumentsList from \"./DocumnetsList\";\nimport DocumentUpload from \"./DocumentsUpload\";\n//i18n\nimport { withTranslation } from \"react-i18next\";\nimport { Link } from \"react-router-dom\";\nimport documentJourneyValidation from \"common/helpers\";\nimport DocumentsCorpUpload from \"./DocumentsCorpUpload\";\nimport Sumsub from \"./Sumsub\";\n// import Sumsub from \"./Sumsub\";\n\nfunction Documents(props) {\n  const clientData = useSelector(state => state.Profile.clientData);\n  const { loading } = useSelector(state => state.documents);\n  const { subPortal } = useSelector(state => state.Layout);\n  const dispatch = useDispatch();\n  const loadDocs = () => {\n    dispatch(fetchDocsStart());\n  };\n  useEffect(() => {\n    loadDocs(props.token);\n\n  }, [props.uploading]);\n\n  if (documentJourneyValidation(clientData, subPortal) !== true) {\n    return (\n      <div className=\"page-content\">\n        <MetaTags>\n          <title>{props.t(\"Documents\")}</title>\n        </MetaTags>\n        {loading ? <div className=\"d-flex align-items-center justify-content-center mt-5\">\n          <Spinner />\n        </div> : <Container>\n          <CardWrapper className=\"mt-5 glass-card shadow\">\n            <div className=\"d-flex align-items-center justify-content-center color-primary\">\n              <Link to=\"/dashboard\">\n                {props.t(\"Please complete journey stages before upload documents\")}\n              </Link>\n            </div>\n          </CardWrapper>\n        </Container>}\n      </div>);\n  }\n  \n  const enableSumSub = true;\n\n  if (enableSumSub) {\n    return <>\n      <div className=\"page-content\">\n        <MetaTags>\n          <title>{props.t(\"Documents\")}</title>\n        </MetaTags>\n        <Container>\n          <div className=\"profile mt-5 h-full\">\n            <Sumsub />\n          </div>\n        </Container>\n      </div>\n    </>;\n  }\n\n  return (<>\n    <div className=\"page-content\">\n      <MetaTags>\n        <title>{props.t(\"Documents\")}</title>\n      </MetaTags>\n      <Container>\n        <div className=\"profile mt-5\">\n          <>\n            <h1 className=\"mb-4 color-primary\">\n              {props.t(\"My Documents\")}\n            </h1>\n            <CardWrapper className='mb-5 my-document glass-card shadow'>\n              <DocumentsList />\n            </CardWrapper>\n            <h1 className=\"mb-4 color-primary\">\n              {props.t(\"Upload New Document\")}\n            </h1>\n            <div className=\"upload-document mb-5\">\n              {clientData.isCorporate ? <DocumentsCorpUpload /> : <DocumentUpload />}\n            </div>\n          </>\n        </div>\n      </Container>\n    </div>\n  </>);\n}\n\nconst mapStateToProps = (state) => ({\n  documents: state.documents.documents,\n  uploading: state.documents.uploading\n});\n\nexport default connect(mapStateToProps, null)(withTranslation()(Documents)); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}