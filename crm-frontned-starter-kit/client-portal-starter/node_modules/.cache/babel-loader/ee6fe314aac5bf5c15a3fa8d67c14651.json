{"ast":null,"code":"import CardWrapper from\"components/Common/CardWrapper\";import TableLoader from\"components/Common/TableLoader\";import{useEffect}from\"react\";import{useTranslation,withTranslation}from\"react-i18next\";import{useDispatch,useSelector}from\"react-redux\";import{Tbody,Th,Thead,Tr}from\"react-super-responsive-table\";import{Table}from\"reactstrap\";import{getClientAccounts}from\"store/forex/ib/clients/actions\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TradingAccounts(props){const{t}=useTranslation();const{clientAccounts,clientAccountsLoading}=useSelector(state=>state.forex.ib.clients);const dispatch=useDispatch();const loadClientAccounts=()=>{var _props$selectedClient;if(props.selectedClient)dispatch(getClientAccounts({type:props.type.toUpperCase(),customerId:(_props$selectedClient=props.selectedClient)===null||_props$selectedClient===void 0?void 0:_props$selectedClient._id}));};useEffect(()=>{loadClientAccounts();},[props.selectedClient]);const columns=[{dataField:\"login\",text:t(\"Account\")},{dataField:\"platform\",text:t(\"platform\"),formatter:val=>{return val.platform;}},{dataField:\"Assets\",text:t(\"Assets\")},{dataField:\"Balance\",text:t(\"Balance\"),formatter:val=>{return val.balance;}},{dataField:\"Margin\",text:t(\"Margin\"),formatter:val=>{return val.freeMargin;}},{dataField:\"Profit\",text:t(\"Profit\"),formatter:val=>{var _val$profit;return(_val$profit=val===null||val===void 0?void 0:val.profit)!==null&&_val$profit!==void 0?_val$profit:0;}}];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CardWrapper,{className:\"glass-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between pb-2\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"color-primary\",children:t(\"Trading Accounts\")})}),props.selectedClient?/*#__PURE__*/_jsx(_Fragment,{children:clientAccountsLoading?/*#__PURE__*/_jsx(TableLoader,{colSpan:12,className:\"m-auto\"}):clientAccounts.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-3 mt-4\",children:/*#__PURE__*/_jsxs(Table,{borderless:true,responsive:true,className:\"text-center mb-0\",children:[/*#__PURE__*/_jsx(Thead,{className:\"text-center table-light\",children:/*#__PURE__*/_jsx(Tr,{children:columns.map((column,index)=>/*#__PURE__*/_jsx(Th,{\"data-priority\":index,className:\"color-primary\",children:column.text},index))})}),/*#__PURE__*/_jsxs(Tbody,{className:\"text-center\",children:[clientAccountsLoading&&/*#__PURE__*/_jsx(TableLoader,{colSpan:12}),!clientAccountsLoading&&clientAccounts.length>0&&clientAccounts.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{className:\"border-top\",onClick:()=>{props.setSelectedTradingAccount(row);},style:{cursor:\"pointer\"},children:columns.map((column,index)=>/*#__PURE__*/_jsx(\"td\",{children:column.formatter?column.formatter(row,rowIndex):row[column.dataField]},\"\".concat(rowIndex,\"-\").concat(index)))},rowIndex))]})]})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center m-3\",children:t(\"No Clients Available\")})}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center m-3\",children:t(\"No Client Selected\")})]})});}export default withTranslation()(TradingAccounts);","map":{"version":3,"names":["CardWrapper","TableLoader","useEffect","useTranslation","withTranslation","useDispatch","useSelector","Tbody","Th","Thead","Tr","Table","getClientAccounts","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TradingAccounts","props","t","clientAccounts","clientAccountsLoading","state","forex","ib","clients","dispatch","loadClientAccounts","_props$selectedClient","selectedClient","type","toUpperCase","customerId","_id","columns","dataField","text","formatter","val","platform","balance","freeMargin","_val$profit","profit","children","className","colSpan","length","borderless","responsive","map","column","index","row","rowIndex","onClick","setSelectedTradingAccount","style","cursor","concat"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Forex/Partnership/Clients/TradingAccounts.js"],"sourcesContent":["import CardWrapper from \"components/Common/CardWrapper\";\nimport TableLoader from \"components/Common/TableLoader\";\nimport { useEffect } from \"react\";\nimport { useTranslation, withTranslation } from \"react-i18next\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Tbody, Th, Thead, Tr \n} from \"react-super-responsive-table\";\nimport {  Table } from \"reactstrap\";\nimport { getClientAccounts } from \"store/forex/ib/clients/actions\";\n\n\nfunction TradingAccounts(props) {\n  const { t } = useTranslation();\n  const { clientAccounts, clientAccountsLoading } = useSelector(state=>state.forex.ib.clients);\n  const dispatch = useDispatch();\n\n  const loadClientAccounts = ()=>{\n    if (props.selectedClient)\n      dispatch(getClientAccounts({ \n        type: props.type.toUpperCase(),\n        customerId: props.selectedClient?._id\n      }));\n  };\n\n  useEffect(()=>{\n    loadClientAccounts();\n  }, [props.selectedClient]);\n\n  const columns = [\n    {\n      dataField:\"login\",\n      text:t(\"Account\")\n    },\n    {\n      dataField:\"platform\",\n      text:t(\"platform\"),\n      formatter: (val)=> {return val.platform}\n    },\n    {\n      dataField: \"Assets\",\n      text: t(\"Assets\"),\n    },\n    {\n      dataField: \"Balance\",\n      text: t(\"Balance\"),\n      formatter: (val)=> {return val.balance}\n    },\n    {\n      dataField: \"Margin\",\n      text: t(\"Margin\"),\n      formatter: (val)=> {return val.freeMargin}\n    },\n    {\n      dataField: \"Profit\",\n      text: t(\"Profit\"),\n      formatter: (val)=> {return val?.profit ?? 0}\n    },\n  ];\n\n  return (\n    <>\n      <CardWrapper className=\"glass-card\">\n        <div className=\"d-flex justify-content-between pb-2\">\n          <h5 className=\"color-primary\">{t(\"Trading Accounts\")}</h5>\n        </div>\n        {props.selectedClient ? <>\n          {clientAccountsLoading ? <TableLoader colSpan={12} className=\"m-auto\"/> : clientAccounts.length > 0 ? \n            <div className=\"border rounded-3 mt-4\">\n              <Table borderless responsive className=\"text-center mb-0\" >\n                <Thead className=\"text-center table-light\">\n                  <Tr>\n                    {columns.map((column, index) => (\n                      <Th data-priority={index} key={index} className=\"color-primary\">\n                        {column.text}\n                      </Th>\n                    ))}\n                  </Tr>\n                </Thead>\n                <Tbody className=\"text-center\">\n                  {clientAccountsLoading && <TableLoader colSpan={12} />}\n                  {!clientAccountsLoading && clientAccounts.length > 0 && clientAccounts.map((row, rowIndex) => (\n                    <tr key={rowIndex} className=\"border-top\" onClick={()=>{\n                      props.setSelectedTradingAccount(row);\n                    }} style={{ cursor:\"pointer\" }}>\n                      {columns.map((column, index) => (\n                        <td key={`${rowIndex}-${index}`}>\n                          {column.formatter\n                            ? column.formatter(row, rowIndex)\n                            : row[column.dataField]}\n                        </td>\n                      ))}\n                    </tr>))}\n                </Tbody>\n              </Table>\n            </div> : <p className=\"text-center m-3\">{t(\"No Clients Available\")}</p>}\n        </> : <p className=\"text-center m-3\">{t(\"No Client Selected\")}</p>}\n      </CardWrapper>\n    </>\n  );\n}\n\nexport default withTranslation()(TradingAccounts);"],"mappings":"AAAA,MAAO,CAAAA,WAAW,KAAM,+BAA+B,CACvD,MAAO,CAAAC,WAAW,KAAM,+BAA+B,CACvD,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,cAAc,CAAEC,eAAe,KAAQ,eAAe,CAC/D,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,KAAK,CAAEC,EAAE,CAAEC,KAAK,CAAEC,EAAE,KACf,8BAA8B,CACrC,OAAUC,KAAK,KAAQ,YAAY,CACnC,OAASC,iBAAiB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAGnE,QAAS,CAAAC,eAAeA,CAACC,KAAK,CAAE,CAC9B,KAAM,CAAEC,CAAE,CAAC,CAAGlB,cAAc,CAAC,CAAC,CAC9B,KAAM,CAAEmB,cAAc,CAAEC,qBAAsB,CAAC,CAAGjB,WAAW,CAACkB,KAAK,EAAEA,KAAK,CAACC,KAAK,CAACC,EAAE,CAACC,OAAO,CAAC,CAC5F,KAAM,CAAAC,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAwB,kBAAkB,CAAGA,CAAA,GAAI,KAAAC,qBAAA,CAC7B,GAAIV,KAAK,CAACW,cAAc,CACtBH,QAAQ,CAAChB,iBAAiB,CAAC,CACzBoB,IAAI,CAAEZ,KAAK,CAACY,IAAI,CAACC,WAAW,CAAC,CAAC,CAC9BC,UAAU,EAAAJ,qBAAA,CAAEV,KAAK,CAACW,cAAc,UAAAD,qBAAA,iBAApBA,qBAAA,CAAsBK,GACpC,CAAC,CAAC,CAAC,CACP,CAAC,CAEDjC,SAAS,CAAC,IAAI,CACZ2B,kBAAkB,CAAC,CAAC,CACtB,CAAC,CAAE,CAACT,KAAK,CAACW,cAAc,CAAC,CAAC,CAE1B,KAAM,CAAAK,OAAO,CAAG,CACd,CACEC,SAAS,CAAC,OAAO,CACjBC,IAAI,CAACjB,CAAC,CAAC,SAAS,CAClB,CAAC,CACD,CACEgB,SAAS,CAAC,UAAU,CACpBC,IAAI,CAACjB,CAAC,CAAC,UAAU,CAAC,CAClBkB,SAAS,CAAGC,GAAG,EAAI,CAAC,MAAO,CAAAA,GAAG,CAACC,QAAQ,EACzC,CAAC,CACD,CACEJ,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEjB,CAAC,CAAC,QAAQ,CAClB,CAAC,CACD,CACEgB,SAAS,CAAE,SAAS,CACpBC,IAAI,CAAEjB,CAAC,CAAC,SAAS,CAAC,CAClBkB,SAAS,CAAGC,GAAG,EAAI,CAAC,MAAO,CAAAA,GAAG,CAACE,OAAO,EACxC,CAAC,CACD,CACEL,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEjB,CAAC,CAAC,QAAQ,CAAC,CACjBkB,SAAS,CAAGC,GAAG,EAAI,CAAC,MAAO,CAAAA,GAAG,CAACG,UAAU,EAC3C,CAAC,CACD,CACEN,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEjB,CAAC,CAAC,QAAQ,CAAC,CACjBkB,SAAS,CAAGC,GAAG,EAAI,KAAAI,WAAA,CAAC,OAAAA,WAAA,CAAOJ,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEK,MAAM,UAAAD,WAAA,UAAAA,WAAA,CAAI,CAAC,EAC7C,CAAC,CACF,CAED,mBACE9B,IAAA,CAAAI,SAAA,EAAA4B,QAAA,cACE9B,KAAA,CAAChB,WAAW,EAAC+C,SAAS,CAAC,YAAY,CAAAD,QAAA,eACjChC,IAAA,QAAKiC,SAAS,CAAC,qCAAqC,CAAAD,QAAA,cAClDhC,IAAA,OAAIiC,SAAS,CAAC,eAAe,CAAAD,QAAA,CAAEzB,CAAC,CAAC,kBAAkB,CAAC,CAAK,CAAC,CACvD,CAAC,CACLD,KAAK,CAACW,cAAc,cAAGjB,IAAA,CAAAI,SAAA,EAAA4B,QAAA,CACrBvB,qBAAqB,cAAGT,IAAA,CAACb,WAAW,EAAC+C,OAAO,CAAE,EAAG,CAACD,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAGzB,cAAc,CAAC2B,MAAM,CAAG,CAAC,cACjGnC,IAAA,QAAKiC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,cACpC9B,KAAA,CAACL,KAAK,EAACuC,UAAU,MAACC,UAAU,MAACJ,SAAS,CAAC,kBAAkB,CAAAD,QAAA,eACvDhC,IAAA,CAACL,KAAK,EAACsC,SAAS,CAAC,yBAAyB,CAAAD,QAAA,cACxChC,IAAA,CAACJ,EAAE,EAAAoC,QAAA,CACAV,OAAO,CAACgB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzBxC,IAAA,CAACN,EAAE,EAAC,gBAAe8C,KAAM,CAAaP,SAAS,CAAC,eAAe,CAAAD,QAAA,CAC5DO,MAAM,CAACf,IAAI,EADiBgB,KAE3B,CACL,CAAC,CACA,CAAC,CACA,CAAC,cACRtC,KAAA,CAACT,KAAK,EAACwC,SAAS,CAAC,aAAa,CAAAD,QAAA,EAC3BvB,qBAAqB,eAAIT,IAAA,CAACb,WAAW,EAAC+C,OAAO,CAAE,EAAG,CAAE,CAAC,CACrD,CAACzB,qBAAqB,EAAID,cAAc,CAAC2B,MAAM,CAAG,CAAC,EAAI3B,cAAc,CAAC8B,GAAG,CAAC,CAACG,GAAG,CAAEC,QAAQ,gBACvF1C,IAAA,OAAmBiC,SAAS,CAAC,YAAY,CAACU,OAAO,CAAEA,CAAA,GAAI,CACrDrC,KAAK,CAACsC,yBAAyB,CAACH,GAAG,CAAC,CACtC,CAAE,CAACI,KAAK,CAAE,CAAEC,MAAM,CAAC,SAAU,CAAE,CAAAd,QAAA,CAC5BV,OAAO,CAACgB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzBxC,IAAA,OAAAgC,QAAA,CACGO,MAAM,CAACd,SAAS,CACbc,MAAM,CAACd,SAAS,CAACgB,GAAG,CAAEC,QAAQ,CAAC,CAC/BD,GAAG,CAACF,MAAM,CAAChB,SAAS,CAAC,KAAAwB,MAAA,CAHfL,QAAQ,MAAAK,MAAA,CAAIP,KAAK,CAIzB,CACL,CAAC,EATKE,QAUL,CAAE,CAAC,EACJ,CAAC,EACH,CAAC,CACL,CAAC,cAAG1C,IAAA,MAAGiC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAEzB,CAAC,CAAC,sBAAsB,CAAC,CAAI,CAAC,CACzE,CAAC,cAAGP,IAAA,MAAGiC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,CAAEzB,CAAC,CAAC,oBAAoB,CAAC,CAAI,CAAC,EACvD,CAAC,CACd,CAAC,CAEP,CAEA,cAAe,CAAAjB,eAAe,CAAC,CAAC,CAACe,eAAe,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}