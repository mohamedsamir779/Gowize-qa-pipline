{"ast":null,"code":"import{deleteBankAccount}from\"apis/bankAccounts\";import EditBankAccountModal from\"components/BankAccounts/EditBankAccountModal\";import ShowDetails from\"components/BankAccounts/ShowDetails\";import CardWrapper from\"components/Common/CardWrapper\";import DeleteModal from\"components/Common/DeleteModal\";import React,{useState}from\"react\";import{withTranslation}from\"react-i18next\";import{MetaTags}from\"react-meta-tags\";import{useDispatch,connect}from\"react-redux\";import{Button,Col,Container,Row}from\"reactstrap\";import{toggleCurrentModal}from\"store/actions\";import{showSuccessNotification,showErrorNotification}from\"store/general/notifications/actions\";import{fetchBankAccounts}from\"../../../store/actions\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BankAccounts(props){const dispatch=useDispatch();const{t,bankAccounts}=props;const[showBankModal,setShowBankModal]=useState(false);const[updateBankModal,setUpdateBankModal]=useState(false);const[selectedBank,setSelectedBank]=useState({});const[deleteModal,setDeleteModal]=useState(false);const[selectedBankId,setSelectedBankId]=useState(\"\");const handelShow=accountDetails=>{setSelectedBank(accountDetails);setShowBankModal(true);};const handelUpdate=accountDetails=>{setSelectedBank(accountDetails);setUpdateBankModal(true);};const handelDelete=()=>{deleteBankAccount(selectedBankId).then(()=>{dispatch(showSuccessNotification(\"Bank Account Deleted successfully !!!\"));dispatch(fetchBankAccounts({limit:100,page:1}));setDeleteModal(false);}).catch(e=>{dispatch(showErrorNotification(e.toString()));});};return/*#__PURE__*/_jsxs(\"div\",{className:\"page-content\",children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsx(\"title\",{children:t(\"Bank Accounts\")})}),/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"wallet-page h-100 \",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between m-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"color-primary\",style:{zIndex:2},children:t(\"Bank Accounts\")}),/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"color-bg-btn border-0 m-2 p-2 btn-sm w-md\",style:{zIndex:2},onClick:()=>{dispatch(toggleCurrentModal(\"AddBankAccountModal\"));},children:t(\"Add Bank Account\")})]}),(bankAccounts===null||bankAccounts===void 0?void 0:bankAccounts.length)<1&&/*#__PURE__*/_jsx(CardWrapper,{className:\"mb-3 total-balance p-4 shadow glass-card\",children:/*#__PURE__*/_jsx(Row,{className:\"align-items-center justify-content-between\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"color-primary\",children:\"No bank accounts\"})})})}),bankAccounts===null||bankAccounts===void 0?void 0:bankAccounts.map((bankAccount,index)=>/*#__PURE__*/_jsx(CardWrapper,{className:\"mb-3 total-balance p-4 glass-card shadow\",children:/*#__PURE__*/_jsxs(Row,{className:\"align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(Col,{lg:2,children:/*#__PURE__*/_jsxs(\"div\",{className:\"wallets__total\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"wallets__title h6\",children:bankAccount.bankName}),/*#__PURE__*/_jsx(\"div\",{className:\"total-balance-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"  h4\",children:bankAccount.accountHolderName})}),/*#__PURE__*/_jsxs(\"div\",{className:\"balance-price\",children:[\" \",bankAccount.accountNumber]})]})}),/*#__PURE__*/_jsxs(Col,{lg:7,className:\"wallet-btns\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"border-0 color-bg-btn w-lg\",onClick:()=>{handelShow(bankAccount);},children:\"Show\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-success w-lg\",onClick:()=>{handelUpdate(bankAccount);},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{type:\"button\",className:\"btn-danger w-lg \",onClick:()=>{setDeleteModal(true);setSelectedBankId(bankAccount._id);},children:\"Delete\"})]})]})},index))]})}),/*#__PURE__*/_jsx(ShowDetails,{isOpen:showBankModal,toggleOpen:()=>{setShowBankModal(false);},BankAccountData:selectedBank}),/*#__PURE__*/_jsx(EditBankAccountModal,{isOpen:updateBankModal,toggleOpen:()=>{setUpdateBankModal(false);},BankAccountData:selectedBank}),/*#__PURE__*/_jsx(DeleteModal,{show:deleteModal,onDeleteClick:handelDelete,onCloseClick:()=>setDeleteModal(false)})]});}const mapStateToProps=state=>({loading:state.crypto.bankAccounts.loading,bankAccounts:state.crypto.bankAccounts.bankAccounts.docs,error:state.crypto.bankAccounts.error});export default connect(mapStateToProps,null)(withTranslation()(BankAccounts));","map":{"version":3,"names":["deleteBankAccount","EditBankAccountModal","ShowDetails","CardWrapper","DeleteModal","React","useState","withTranslation","MetaTags","useDispatch","connect","Button","Col","Container","Row","toggleCurrentModal","showSuccessNotification","showErrorNotification","fetchBankAccounts","jsx","_jsx","jsxs","_jsxs","BankAccounts","props","dispatch","t","bankAccounts","showBankModal","setShowBankModal","updateBankModal","setUpdateBankModal","selectedBank","setSelectedBank","deleteModal","setDeleteModal","selectedBankId","setSelectedBankId","handelShow","accountDetails","handelUpdate","handelDelete","then","limit","page","catch","e","toString","className","children","style","zIndex","type","onClick","length","map","bankAccount","index","lg","bankName","accountHolderName","accountNumber","_id","isOpen","toggleOpen","BankAccountData","show","onDeleteClick","onCloseClick","mapStateToProps","state","loading","crypto","docs","error"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/pages/Forex/BankAccounts/BankAccounts.js"],"sourcesContent":["import { deleteBankAccount } from \"apis/bankAccounts\";\nimport EditBankAccountModal from \"components/BankAccounts/EditBankAccountModal\";\nimport ShowDetails from \"components/BankAccounts/ShowDetails\";\nimport CardWrapper from \"components/Common/CardWrapper\";\nimport DeleteModal from \"components/Common/DeleteModal\";\nimport React, { useState } from \"react\";  \nimport { withTranslation } from \"react-i18next\";\nimport { MetaTags } from \"react-meta-tags\";\nimport { useDispatch, connect } from \"react-redux\";\nimport { \n  Button, Col, Container, Row \n} from \"reactstrap\";\nimport { toggleCurrentModal } from \"store/actions\";\nimport { showSuccessNotification, showErrorNotification } from \"store/general/notifications/actions\";\nimport { fetchBankAccounts } from \"../../../store/actions\";\n\nfunction BankAccounts(props) {\n  const dispatch = useDispatch();\n  const {\n    t,\n    bankAccounts,\n  } = props;\n  const [showBankModal, setShowBankModal] = useState(false);\n  const [updateBankModal, setUpdateBankModal] = useState(false);\n  const [selectedBank, setSelectedBank] = useState({});\n  const [deleteModal, setDeleteModal] = useState(false);\n  const [selectedBankId, setSelectedBankId] = useState(\"\");\n  \n  const handelShow = (accountDetails) => {\n    setSelectedBank(accountDetails);\n    setShowBankModal(true);\n  };\n  \n  const handelUpdate = (accountDetails) => {\n    setSelectedBank(accountDetails);\n    setUpdateBankModal(true);\n  };\n  \n  const handelDelete = () => {\n    deleteBankAccount(selectedBankId)\n      .then(() => {\n        dispatch(\n          showSuccessNotification(\"Bank Account Deleted successfully !!!\")\n        );\n        dispatch(\n          fetchBankAccounts({\n            limit: 100,\n            page: 1,\n          })\n        );\n        setDeleteModal(false);\n      })\n      .catch((e) => {\n        dispatch(showErrorNotification(e.toString()));\n      });\n  };  \n  \n  return (\n    <div className=\"page-content\">\n      <MetaTags>\n        <title>{t(\"Bank Accounts\")}</title>\n      </MetaTags>\n      <Container>\n        <div className=\"wallet-page h-100 \">\n          {/* <h1 className=\"m-4\">Overview</h1> */}\n          <div className=\"d-flex justify-content-between m-4\" >\n            <h1 className=\"color-primary\" style={{\n              zIndex: 2,\n            }}>{t(\"Bank Accounts\")}</h1>\n            <Button \n              type=\"button\" \n              className=\"color-bg-btn border-0 m-2 p-2 btn-sm w-md\" \n              style={{\n                zIndex: 2,\n              }}\n              onClick={() => { dispatch(toggleCurrentModal(\"AddBankAccountModal\"))}}\n            >\n              {t(\"Add Bank Account\")}\n            </Button>\n          </div>\n          {bankAccounts?.length < 1 &&\n            <CardWrapper className='mb-3 total-balance p-4 shadow glass-card'>\n              <Row className=\"align-items-center justify-content-between\">\n                <div className=\"d-flex align-items-center justify-content-center\">\n                  <h4 className=\"color-primary\">\n                    {\"No bank accounts\"}\n                  </h4>\n                </div>\n              </Row>\n            </CardWrapper>\n          }\n          {bankAccounts?.map((bankAccount, index) =>\n            <CardWrapper key={index} className='mb-3 total-balance p-4 glass-card shadow'>\n              <Row className=\"align-items-center justify-content-between\">\n                <Col lg={2}>\n                  <div className=\"wallets__total\">\n                    <div className=\"wallets__title h6\">{bankAccount.bankName}</div>\n                    <div className=\"total-balance-container\">\n                      <div className=\"  h4\">{bankAccount.accountHolderName}</div>\n                    </div>\n                    <div className=\"balance-price\"> {bankAccount.accountNumber}</div>\n                  </div>\n                </Col>\n                <Col lg={7} className=\"wallet-btns\">\n                  <Button type=\"button\" className='border-0 color-bg-btn w-lg' onClick={() => { handelShow(bankAccount) }}>Show</Button>\n                  <Button type=\"button\" className='btn-success w-lg' onClick={() => { handelUpdate(bankAccount) }}>Edit</Button>\n                  <Button type=\"button\" className='btn-danger w-lg ' onClick={() => { setDeleteModal(true); setSelectedBankId(bankAccount._id) }}>Delete</Button>\n                </Col>\n              </Row>\n            </CardWrapper>\n          )}\n        </div>\n      </Container>\n      <ShowDetails\n        isOpen={showBankModal}\n        toggleOpen={() => {\n          setShowBankModal(false);\n        }}\n        BankAccountData={selectedBank}\n      ></ShowDetails>\n      <EditBankAccountModal\n        isOpen={updateBankModal}\n        toggleOpen={() => {\n          setUpdateBankModal(false);\n        }}\n        BankAccountData={selectedBank}\n      ></EditBankAccountModal>\n      <DeleteModal\n        show={deleteModal}\n        onDeleteClick={handelDelete}\n        onCloseClick={() => setDeleteModal(false)}\n      />\n    </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  loading: state.crypto.bankAccounts.loading,\n  bankAccounts: (state.crypto.bankAccounts.bankAccounts.docs),\n  error: state.crypto.bankAccounts.error\n});\n\nexport default connect(mapStateToProps, null)(withTranslation()(BankAccounts)); "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}