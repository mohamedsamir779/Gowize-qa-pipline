{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Gowize-qa-pipline/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useDispatch,useSelector}from\"react-redux\";import{Table,Col,Row,Spinner}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import moment from\"moment\";import CardWrapper from\"components/Common/CardWrapper\";import CustomPagination from\"components/Common/CustomPagination\";import{useState,useEffect}from\"react\";import{getOpenPositionsStart}from\"store/actions\";import{Th,Thead,Tr}from\"react-super-responsive-table\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OpenPosition=props=>{const{open,loading}=useSelector(state=>state.forex.accounts.positions);const openPositions=open?open.docs:[];const dispatch=useDispatch();const[sizePerPage,setSizePerPage]=useState(10);useEffect(()=>{loadOpenPositions(1,sizePerPage);},[sizePerPage]);const loadOpenPositions=function(){let page=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;if(props.accountId)dispatch(getOpenPositionsStart({limit,page,_id:props.accountId}));};const columns=[{dataField:\"Position\",text:\"#\",formatter:val=>{return val===null||val===void 0?void 0:val.Position;}},{dataField:\"Action\",text:props.t(\"Deal Type\"),formatter:val=>(val===null||val===void 0?void 0:val.Action)===\"0\"?props.t(\"Buy\"):props.t(\"Sell\")},{dataField:\"Symbol\",text:props.t(\"Symbol\")},// {\n//   dataField: \"Profit\",\n//   text: props.t(\"Profit\"),\n// },\n{dataField:\"PriceOpen\",text:props.t(\"Open Price\")},// {\n//   dataField: \"PriceCurrent\",\n//   text: props.t(\"Current Price\"),\n// },\n{dataField:\"Volume\",text:props.t(\"Volume\"),formatter:val=>parseFloat((val===null||val===void 0?void 0:val.Volume)/100000).toFixed(2)},{dataField:\"TimeCreate\",text:props.t(\"Created Time\"),formatter:val=>moment(val===null||val===void 0?void 0:val.TimeCreate).format(\"DD-MM-YYYY HH:mm:ss\")}];return/*#__PURE__*/_jsxs(CardWrapper,{className:\"mt-3 px-5 py-4 glass-card\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-between\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"color-primary\",children:props.t(\"Open Positions\")})})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 border rounded-3\",children:/*#__PURE__*/_jsxs(Table,{borderless:true,responsive:true,className:\"text-center mb-0\",children:[/*#__PURE__*/_jsx(Thead,{className:\"text-center table-light\",children:/*#__PURE__*/_jsx(Tr,{children:columns.map((column,index)=>/*#__PURE__*/_jsx(Th,{\"data-priority\":index,className:\"color-primary\",children:column.text},index))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"border-top font-weight-bold\",children:loading?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{className:\"py-4\",colSpan:\"100%\",children:/*#__PURE__*/_jsx(Spinner,{})})}):!props.accountId?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"100%\",className:\"my-2\",children:props.t(\"Please select an account.\")})}):openPositions.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"100%\",className:\"my-2\",children:props.t(\"No open positions for this account.\")})}):openPositions.map(pos=>/*#__PURE__*/_jsx(\"tr\",{className:\"border-top\",children:columns.map((column,index)=>/*#__PURE__*/_jsx(\"td\",{\"data-priority\":index,children:column.formatter?column.formatter(pos):pos[column.dataField]},index))},pos.Position))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(CustomPagination,_objectSpread(_objectSpread({},open),{},{setSizePerPage:setSizePerPage,sizePerPage:sizePerPage,onChange:loadOpenPositions}))})]});};export default withTranslation()(OpenPosition);","map":{"version":3,"names":["useDispatch","useSelector","Table","Col","Row","Spinner","withTranslation","moment","CardWrapper","CustomPagination","useState","useEffect","getOpenPositionsStart","Th","Thead","Tr","jsx","_jsx","jsxs","_jsxs","OpenPosition","props","open","loading","state","forex","accounts","positions","openPositions","docs","dispatch","sizePerPage","setSizePerPage","loadOpenPositions","page","arguments","length","undefined","limit","accountId","_id","columns","dataField","text","formatter","val","Position","t","Action","parseFloat","Volume","toFixed","TimeCreate","format","className","children","borderless","responsive","map","column","index","colSpan","pos","_objectSpread","onChange"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Forex/Accounts/OpenPosition.js"],"sourcesContent":["\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Table, Col, Row,  Spinner\n} from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\n\nimport moment from \"moment\";\n\nimport CardWrapper from \"components/Common/CardWrapper\";\nimport CustomPagination from \"components/Common/CustomPagination\";\nimport { useState, useEffect } from \"react\";\nimport { getOpenPositionsStart } from \"store/actions\";\nimport {\n  Th,\n  Thead,\n  Tr\n} from \"react-super-responsive-table\";\n\nconst OpenPosition = (props) => {\n  \n  const { open, loading } = useSelector((state) => state.forex.accounts.positions);\n  const openPositions = open ? open.docs : [];\n  const dispatch = useDispatch();\n  const [sizePerPage, setSizePerPage] = useState(10);\n\n  useEffect(() => {\n    loadOpenPositions(1, sizePerPage);\n  }, [sizePerPage]);\n  \n\n  const loadOpenPositions = (page = 1, limit = 10) => {\n    if (props.accountId) dispatch(getOpenPositionsStart({\n      limit,\n      page,\n      _id: props.accountId\n    }));\n  };\n\n  const columns = [\n    {\n      dataField: \"Position\",\n      text: \"#\",\n      formatter: (val) => { return val?.Position}\n    },\n    {\n      dataField: \"Action\",\n      text: props.t(\"Deal Type\"),\n      formatter: (val) => (val?.Action === \"0\" ? props.t(\"Buy\") : props.t(\"Sell\"))\n    },\n    {\n      dataField: \"Symbol\",\n      text: props.t(\"Symbol\"),\n    },\n    // {\n    //   dataField: \"Profit\",\n    //   text: props.t(\"Profit\"),\n    // },\n    {\n      dataField: \"PriceOpen\",\n      text: props.t(\"Open Price\"),\n    },\n    // {\n    //   dataField: \"PriceCurrent\",\n    //   text: props.t(\"Current Price\"),\n    // },\n    {\n      dataField: \"Volume\",\n      text: props.t(\"Volume\"),\n      formatter: (val) => parseFloat(val?.Volume / 100000).toFixed(2),\n    },\n    {\n      dataField: \"TimeCreate\",\n      text: props.t(\"Created Time\"),\n      formatter: (val) => moment(val?.TimeCreate).format(\"DD-MM-YYYY HH:mm:ss\"),\n    },\n  ];\n\n  return (\n    <CardWrapper className=\"mt-3 px-5 py-4 glass-card\">\n      <Row>\n        <Col className=\"d-flex justify-content-between\">\n          <h3 className=\"color-primary\">{props.t(\"Open Positions\")}</h3>\n        </Col>\n      </Row>\n      <div className=\"mt-4 border rounded-3\">\n        <Table borderless responsive className=\"text-center mb-0\" >\n          <Thead className=\"text-center table-light\">\n            <Tr>\n              {columns.map((column, index) => (\n                <Th data-priority={index} key={index} className=\"color-primary\"> \n                  {column.text}\n                </Th>\n              ))}\n            </Tr>\n          </Thead>\n          <tbody className=\"border-top font-weight-bold\">\n            {loading\n              ? <tr><td className=\"py-4\" colSpan=\"100%\"><Spinner /></td></tr>\n              : !props.accountId\n                ? <tr><td colSpan=\"100%\" className=\"my-2\">{props.t(\"Please select an account.\")}</td></tr>\n                : openPositions.length === 0\n                  ? <tr><td colSpan=\"100%\" className=\"my-2\">{props.t(\"No open positions for this account.\")}</td></tr>\n                  : openPositions.map((pos) =>\n                    <tr key={pos.Position} className=\"border-top\">\n                      {columns.map((column, index) => (\n                        <td data-priority={index} key={index}>\n                          {column.formatter ? column.formatter(pos) : pos[column.dataField]}\n                        </td>\n                      ))}\n                    </tr>\n                  )\n            }\n          </tbody>\n        </Table>\n      </div>\n      <div className=\"mt-4\">\n        <CustomPagination\n          {...open}\n          setSizePerPage={setSizePerPage}\n          sizePerPage={sizePerPage}\n          onChange={loadOpenPositions}\n        />\n      </div>\n    </CardWrapper>\n  );\n};\n\nexport default withTranslation()(OpenPosition);"],"mappings":"yIACA,OAASA,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,KAAK,CAAEC,GAAG,CAAEC,GAAG,CAAGC,OAAO,KACpB,YAAY,CACnB,OAASC,eAAe,KAAQ,eAAe,CAE/C,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAE3B,MAAO,CAAAC,WAAW,KAAM,+BAA+B,CACvD,MAAO,CAAAC,gBAAgB,KAAM,oCAAoC,CACjE,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,qBAAqB,KAAQ,eAAe,CACrD,OACEC,EAAE,CACFC,KAAK,CACLC,EAAE,KACG,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAE9B,KAAM,CAAEC,IAAI,CAAEC,OAAQ,CAAC,CAAGtB,WAAW,CAAEuB,KAAK,EAAKA,KAAK,CAACC,KAAK,CAACC,QAAQ,CAACC,SAAS,CAAC,CAChF,KAAM,CAAAC,aAAa,CAAGN,IAAI,CAAGA,IAAI,CAACO,IAAI,CAAG,EAAE,CAC3C,KAAM,CAAAC,QAAQ,CAAG9B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAC+B,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACdsB,iBAAiB,CAAC,CAAC,CAAEF,WAAW,CAAC,CACnC,CAAC,CAAE,CAACA,WAAW,CAAC,CAAC,CAGjB,KAAM,CAAAE,iBAAiB,CAAG,QAAAA,CAAA,CAA0B,IAAzB,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,IAAE,CAAAG,KAAK,CAAAH,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CAC7C,GAAId,KAAK,CAACkB,SAAS,CAAET,QAAQ,CAAClB,qBAAqB,CAAC,CAClD0B,KAAK,CACLJ,IAAI,CACJM,GAAG,CAAEnB,KAAK,CAACkB,SACb,CAAC,CAAC,CAAC,CACL,CAAC,CAED,KAAM,CAAAE,OAAO,CAAG,CACd,CACEC,SAAS,CAAE,UAAU,CACrBC,IAAI,CAAE,GAAG,CACTC,SAAS,CAAGC,GAAG,EAAK,CAAE,MAAO,CAAAA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEC,QAAQ,EAC5C,CAAC,CACD,CACEJ,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEtB,KAAK,CAAC0B,CAAC,CAAC,WAAW,CAAC,CAC1BH,SAAS,CAAGC,GAAG,EAAM,CAAAA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEG,MAAM,IAAK,GAAG,CAAG3B,KAAK,CAAC0B,CAAC,CAAC,KAAK,CAAC,CAAG1B,KAAK,CAAC0B,CAAC,CAAC,MAAM,CAC5E,CAAC,CACD,CACEL,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEtB,KAAK,CAAC0B,CAAC,CAAC,QAAQ,CACxB,CAAC,CACD;AACA;AACA;AACA;AACA,CACEL,SAAS,CAAE,WAAW,CACtBC,IAAI,CAAEtB,KAAK,CAAC0B,CAAC,CAAC,YAAY,CAC5B,CAAC,CACD;AACA;AACA;AACA;AACA,CACEL,SAAS,CAAE,QAAQ,CACnBC,IAAI,CAAEtB,KAAK,CAAC0B,CAAC,CAAC,QAAQ,CAAC,CACvBH,SAAS,CAAGC,GAAG,EAAKI,UAAU,CAAC,CAAAJ,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEK,MAAM,EAAG,MAAM,CAAC,CAACC,OAAO,CAAC,CAAC,CAChE,CAAC,CACD,CACET,SAAS,CAAE,YAAY,CACvBC,IAAI,CAAEtB,KAAK,CAAC0B,CAAC,CAAC,cAAc,CAAC,CAC7BH,SAAS,CAAGC,GAAG,EAAKtC,MAAM,CAACsC,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEO,UAAU,CAAC,CAACC,MAAM,CAAC,qBAAqB,CAC1E,CAAC,CACF,CAED,mBACElC,KAAA,CAACX,WAAW,EAAC8C,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAChDtC,IAAA,CAACb,GAAG,EAAAmD,QAAA,cACFtC,IAAA,CAACd,GAAG,EAACmD,SAAS,CAAC,gCAAgC,CAAAC,QAAA,cAC7CtC,IAAA,OAAIqC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAElC,KAAK,CAAC0B,CAAC,CAAC,gBAAgB,CAAC,CAAK,CAAC,CAC3D,CAAC,CACH,CAAC,cACN9B,IAAA,QAAKqC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,cACpCpC,KAAA,CAACjB,KAAK,EAACsD,UAAU,MAACC,UAAU,MAACH,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eACvDtC,IAAA,CAACH,KAAK,EAACwC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACxCtC,IAAA,CAACF,EAAE,EAAAwC,QAAA,CACAd,OAAO,CAACiB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzB3C,IAAA,CAACJ,EAAE,EAAC,gBAAe+C,KAAM,CAAaN,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC5DI,MAAM,CAAChB,IAAI,EADiBiB,KAE3B,CACL,CAAC,CACA,CAAC,CACA,CAAC,cACR3C,IAAA,UAAOqC,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAC3ChC,OAAO,cACJN,IAAA,OAAAsC,QAAA,cAAItC,IAAA,OAAIqC,SAAS,CAAC,MAAM,CAACO,OAAO,CAAC,MAAM,CAAAN,QAAA,cAACtC,IAAA,CAACZ,OAAO,GAAE,CAAC,CAAI,CAAC,CAAI,CAAC,CAC7D,CAACgB,KAAK,CAACkB,SAAS,cACdtB,IAAA,OAAAsC,QAAA,cAAItC,IAAA,OAAI4C,OAAO,CAAC,MAAM,CAACP,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAElC,KAAK,CAAC0B,CAAC,CAAC,2BAA2B,CAAC,CAAK,CAAC,CAAI,CAAC,CACxFnB,aAAa,CAACQ,MAAM,GAAK,CAAC,cACxBnB,IAAA,OAAAsC,QAAA,cAAItC,IAAA,OAAI4C,OAAO,CAAC,MAAM,CAACP,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAElC,KAAK,CAAC0B,CAAC,CAAC,qCAAqC,CAAC,CAAK,CAAC,CAAI,CAAC,CAClGnB,aAAa,CAAC8B,GAAG,CAAEI,GAAG,eACtB7C,IAAA,OAAuBqC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAC1Cd,OAAO,CAACiB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzB3C,IAAA,OAAI,gBAAe2C,KAAM,CAAAL,QAAA,CACtBI,MAAM,CAACf,SAAS,CAAGe,MAAM,CAACf,SAAS,CAACkB,GAAG,CAAC,CAAGA,GAAG,CAACH,MAAM,CAACjB,SAAS,CAAC,EADpCkB,KAE3B,CACL,CAAC,EALKE,GAAG,CAAChB,QAMT,CACN,CAAC,CAEF,CAAC,EACH,CAAC,CACL,CAAC,cACN7B,IAAA,QAAKqC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnBtC,IAAA,CAACR,gBAAgB,CAAAsD,aAAA,CAAAA,aAAA,IACXzC,IAAI,MACRU,cAAc,CAAEA,cAAe,CAC/BD,WAAW,CAAEA,WAAY,CACzBiC,QAAQ,CAAE/B,iBAAkB,EAC7B,CAAC,CACC,CAAC,EACK,CAAC,CAElB,CAAC,CAED,cAAe,CAAA3B,eAAe,CAAC,CAAC,CAACc,YAAY,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}