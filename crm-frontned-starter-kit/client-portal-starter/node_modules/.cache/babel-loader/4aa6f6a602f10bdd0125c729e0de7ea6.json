{"ast":null,"code":"import{useState,useEffect,useContext}from\"react\";import{Table,Alert}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{BigNumber}from\"bignumber.js\";import SocketContext from\"../../../context/context\";import CardWrapper from\"components/Common/CardWrapper\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderBooks=props=>{const{state}=useContext(SocketContext);const{orderBooks}=state;const{selectedMarket}=props;const[selectedOrderBooks,setSelectedOrderBooks]=useState(null);useEffect(()=>{const books=orderBooks.find(market=>market.pairName===selectedMarket);setSelectedOrderBooks(books);});let spreadValue=BigNumber(selectedOrderBooks===null||selectedOrderBooks===void 0?void 0:selectedOrderBooks.asks[0][0]).minus(BigNumber(selectedOrderBooks===null||selectedOrderBooks===void 0?void 0:selectedOrderBooks.bids[0][0])).toFixed(5);return/*#__PURE__*/_jsxs(CardWrapper,{className:\"h-100\",children:[/*#__PURE__*/_jsx(\"h5\",{children:props.t(\"Order Book\")}),/*#__PURE__*/_jsxs(Table,{borderless:true,className:\"text-center mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:props.t(\"Price\")}),/*#__PURE__*/_jsx(\"th\",{className:\"pb-0\",children:props.t(\"Size\")})]})}),selectedOrderBooks&&/*#__PURE__*/_jsxs(\"tbody\",{children:[selectedOrderBooks.asks.slice(0,5).reverse().map((asks,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"pt-2 pb-0\",children:asks[0]}),/*#__PURE__*/_jsx(\"td\",{className:\"pt-2 pb-0 text-danger\",children:asks[1]})]},index)),/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"2\",className:\"pt-2 pb-0\",children:/*#__PURE__*/_jsxs(Alert,{color:\"secondary\",className:\"py-0 mb-0\",children:[props.t(\"Spread\"),\" [\",spreadValue,\"]\"]})})}),selectedOrderBooks.bids.slice(0,5).map((bids,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"pt-2 pb-0\",children:bids[0]}),/*#__PURE__*/_jsx(\"td\",{className:\"pt-2 pb-0 text-success\",children:bids[1]})]},index))]})]})]});};export default withTranslation()(OrderBooks);","map":{"version":3,"names":["useState","useEffect","useContext","Table","Alert","withTranslation","BigNumber","SocketContext","CardWrapper","jsx","_jsx","jsxs","_jsxs","OrderBooks","props","state","orderBooks","selectedMarket","selectedOrderBooks","setSelectedOrderBooks","books","find","market","pairName","spreadValue","asks","minus","bids","toFixed","className","children","t","borderless","slice","reverse","map","index","colSpan","color"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Crypto/Exchange/OrderBooks.js"],"sourcesContent":["import {\n  useState, useEffect, useContext\n} from \"react\";\nimport {\n  Table, Alert\n} from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\nimport { BigNumber } from \"bignumber.js\";\n\nimport SocketContext from \"../../../context/context\";\n\nimport CardWrapper from \"components/Common/CardWrapper\";\n\nconst OrderBooks = (props) => {\n  const { state } = useContext(SocketContext);\n  const { orderBooks } = state;\n  const { selectedMarket } = props;\n  const [selectedOrderBooks, setSelectedOrderBooks] = useState(null);\n\n  useEffect(() => {\n    const books = orderBooks.find((market) => market.pairName === selectedMarket);\n    setSelectedOrderBooks(books);\n  });\n  let spreadValue = BigNumber(selectedOrderBooks?.asks[0][0]).minus(BigNumber(selectedOrderBooks?.bids[0][0])).toFixed(5);\n  return (\n    <CardWrapper className=\"h-100\">\n      <h5>{props.t(\"Order Book\")}</h5>\n      <Table borderless className=\"text-center mb-0\">\n        <thead>\n          <tr>\n            <th className=\"pb-0\">{props.t(\"Price\")}</th>\n            <th className=\"pb-0\">{props.t(\"Size\")}</th>\n          </tr>\n        </thead>\n        {\n          selectedOrderBooks && <tbody>\n            {\n              selectedOrderBooks.asks.slice(0, 5).reverse().map((asks, index) =>\n                <tr key={index}>\n                  <td className=\"pt-2 pb-0\">{asks[0]}</td>\n                  <td className=\"pt-2 pb-0 text-danger\">{asks[1]}</td>\n                </tr>\n              )\n            }\n            <tr>\n              <td colSpan=\"2\" className=\"pt-2 pb-0\">\n                <Alert color=\"secondary\" className=\"py-0 mb-0\">{props.t(\"Spread\")} [{spreadValue}]</Alert>\n              </td>\n            </tr>\n            {\n              selectedOrderBooks.bids.slice(0, 5).map((bids, index) =>\n                <tr key={index}>\n                  <td className=\"pt-2 pb-0\">{bids[0]}</td>\n                  <td className=\"pt-2 pb-0 text-success\">{bids[1]}</td>\n                </tr>\n              )\n            }\n          </tbody>\n        }\n      </Table>\n    </CardWrapper>\n  );\n};\n\nexport default withTranslation()(OrderBooks); \n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}