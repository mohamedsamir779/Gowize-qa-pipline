{"ast":null,"code":"import _objectWithoutProperties from\"/home/ubuntu/king/portal/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";const _excluded=[\"isOpen\",\"toggleOpen\"];import{useState,useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Button,Col,Form,Label,Row}from\"reactstrap\";import{fetchWallets,toggleCurrentModal}from\"../../../store/actions\";import CustomModal from\"../../Common/CustomModal\";import QRCode from\"qrcode.react\";import WalletsListSelect from\"components/Common/WalletsListSelect\";import NetworksListSelect from\"components/Common/NetworksListSelect\";import{withTranslation}from\"react-i18next\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function CryptoDeposit(_ref){let{isOpen,toggleOpen}=_ref,props=_objectWithoutProperties(_ref,_excluded);const wallets=useSelector(state=>{var _state$crypto$wallets;return(_state$crypto$wallets=state.crypto.wallets)===null||_state$crypto$wallets===void 0?void 0:_state$crypto$wallets.wallets;});const[activeStep,setActiveStep]=useState(0);const[networkAddress,setNetworkAddress]=useState(null);const[networkName,setNetworkName]=useState(null);const[selectedWallet,setSelectedWallet]=useState(null);const dispatch=useDispatch();function toggleTab(tab){if(activeStep!==tab){setActiveStep(tab);}}const loadWallets=()=>{dispatch(fetchWallets({limit:100,page:1}));};useEffect(()=>{loadWallets();},[]);const steps=[{header:\"Select Method\",content:/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"my-2\",children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(Row,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{className:\"mb-2\",children:props.t(\"Coin\")}),/*#__PURE__*/_jsx(WalletsListSelect,{className:\"h-50\",onChange:e=>{setSelectedWallet(e.value);setNetworkAddress(null);},wllates:wallets.filter(x=>x.isCrypto)})]}),/*#__PURE__*/_jsxs(Col,{children:[/*#__PURE__*/_jsx(Label,{className:\"mb-2\",children:props.t(\"Network\")}),/*#__PURE__*/_jsx(NetworksListSelect,{className:\"h-50\",noOptionsMessage:_ref2=>{let{inputValue}=_ref2;return!inputValue&&\"Select a coin first\";},onChange:e=>{setNetworkAddress(e.value.address);setNetworkName(e.value.chainId.name);},networks:selectedWallet?selectedWallet===null||selectedWallet===void 0?void 0:selectedWallet.networks:[]})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:props.t(\"Address\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"fw-bold text-muted my-2\",style:{wordWrap:\"break-word\"},children:[networkAddress?networkAddress:props.t(\"Select wallet\"),/*#__PURE__*/_jsx(\"i\",{className:\"mdi mdi-file-document-multiple-outline ms-2\",onClick:()=>{navigator.clipboard.writeText(networkAddress);}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 mb-3\",children:props.t(\"Scan the code on the withdrawl page of the trading platform APP or wallet APP\")})]}),networkAddress&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-3\",children:/*#__PURE__*/_jsx(QRCode,{size:250,value:networkAddress,renderAs:\"canvas\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ms-2\",children:[/*#__PURE__*/_jsx(\"p\",{children:props.t(\"Send only \".concat(selectedWallet===null||selectedWallet===void 0?void 0:selectedWallet.asset,\" to this deposit address.\"))}),/*#__PURE__*/_jsx(\"p\",{children:props.t(\"Ensure the network is \".concat(networkName,\".\"))}),/*#__PURE__*/_jsx(\"p\",{children:props.t(\"Do not send NFT to this address. Learn how to deposit NFTs\")})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-4\",children:[/*#__PURE__*/_jsx(Button,{className:\"btn btn-primary mx-2 btn-sm w-lg\",onClick:()=>{dispatch(toggleCurrentModal(\"selectDepositMethodModal\"));},children:props.t(\"Back\")}),/*#__PURE__*/_jsx(Button,{className:\"btn btn-success waves-effect waves-light w-lg btn-sm\",onClick:()=>toggleOpen(),children:props.t(\"Continue\")})]})]})})})}];// { header: \"Copy Address\", content: <>No design</> }]\nreturn/*#__PURE__*/_jsx(CustomModal,{steps:steps,isOpen:isOpen,toggleOpen:toggleOpen,activeStep:activeStep,toggleTab:toggleTab});}export default withTranslation()(CryptoDeposit);","map":{"version":3,"names":["useState","useEffect","useDispatch","useSelector","Button","Col","Form","Label","Row","fetchWallets","toggleCurrentModal","CustomModal","QRCode","WalletsListSelect","NetworksListSelect","withTranslation","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CryptoDeposit","_ref","isOpen","toggleOpen","props","_objectWithoutProperties","_excluded","wallets","state","_state$crypto$wallets","crypto","activeStep","setActiveStep","networkAddress","setNetworkAddress","networkName","setNetworkName","selectedWallet","setSelectedWallet","dispatch","toggleTab","tab","loadWallets","limit","page","steps","header","content","children","className","t","onChange","e","value","wllates","filter","x","isCrypto","noOptionsMessage","_ref2","inputValue","address","chainId","name","networks","style","wordWrap","onClick","navigator","clipboard","writeText","size","renderAs","concat","asset"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/Deposit/Crypto/CryptoDeposit.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  Button,\n  Col,\n  Form,\n  Label,\n  Row\n} from \"reactstrap\";\nimport { fetchWallets, toggleCurrentModal } from \"../../../store/actions\";\nimport CustomModal from \"../../Common/CustomModal\";\nimport QRCode from \"qrcode.react\";\nimport WalletsListSelect from \"components/Common/WalletsListSelect\";\nimport NetworksListSelect from \"components/Common/NetworksListSelect\";\n\nimport { withTranslation } from \"react-i18next\";\n\nfunction CryptoDeposit({ isOpen, toggleOpen, ...props }) {\n  const wallets = useSelector((state) => state.crypto.wallets?.wallets);\n\n  const [activeStep, setActiveStep] = useState(0);\n  const [networkAddress, setNetworkAddress] = useState(null);\n  const [networkName, setNetworkName] = useState(null);\n  const [selectedWallet, setSelectedWallet] = useState(null);\n  const dispatch = useDispatch();\n  function toggleTab(tab) {\n    if (activeStep !== tab) {\n      setActiveStep(tab);\n    }\n  }\n  const loadWallets = () => {\n    dispatch(fetchWallets({\n      limit: 100,\n      page: 1\n    }));\n  };\n\n  useEffect(() => {\n    loadWallets();\n  }, []);\n\n  const steps = [\n    {\n      header: \"Select Method\",\n      content: (\n        <>\n          <div className=\"my-2\">\n            <Form>\n              <Row className=\"mb-3\">\n                <Col>\n                  <Label className=\"mb-2\">{props.t(\"Coin\")}</Label>\n                  <WalletsListSelect\n                    className=\"h-50\"\n                    onChange={(e) => {\n                      setSelectedWallet(e.value);\n                      setNetworkAddress(null);\n                    }}\n                    wllates={wallets.filter(x => x.isCrypto)}\n                  >\n                  </WalletsListSelect>\n                </Col>\n                <Col>\n                  <Label className=\"mb-2\">{props.t(\"Network\")}</Label>\n                  <NetworksListSelect\n                    className=\"h-50\"\n                    noOptionsMessage={({ inputValue }) => !inputValue && \"Select a coin first\"}\n                    onChange={(e) => {\n                      setNetworkAddress(e.value.address);\n                      setNetworkName(e.value.chainId.name);\n                    }}\n                    networks={selectedWallet ? selectedWallet?.networks : []}\n                  >\n                  </NetworksListSelect>\n                </Col>\n              </Row>\n              <h6>{props.t(\"Address\")}</h6>\n              <div className=\"text-center\">\n                <p\n                  className=\"fw-bold text-muted my-2\"\n                  style={{ wordWrap: \"break-word\" }}\n                >\n                  {networkAddress ? networkAddress : props.t(\"Select wallet\")}\n                  <i\n                    className=\"mdi mdi-file-document-multiple-outline ms-2\"\n                    onClick={() => {\n                      navigator.clipboard.writeText(networkAddress);\n                    }}\n                  ></i>\n                </p>\n                <p className=\"mt-2 mb-3\">\n                  {props.t(\"Scan the code on the withdrawl page of the trading platform APP or wallet APP\")}\n                </p>\n              </div>\n              {networkAddress &&\n                <>\n                  <div className=\"text-center mb-3\">\n                    <QRCode size={250} value={networkAddress} renderAs=\"canvas\" />\n                  </div>\n                  <div className=\"ms-2\">\n                    <p>{props.t(`Send only ${selectedWallet?.asset} to this deposit address.`)}</p>\n                    <p>{props.t(`Ensure the network is ${networkName}.`)}</p>\n                    <p>\n                      {props.t(\"Do not send NFT to this address. Learn how to deposit NFTs\")}\n                    </p>\n                  </div>\n                </>}\n\n              <div className=\"text-center mt-4\">\n                <Button\n                  className=\"btn btn-primary mx-2 btn-sm w-lg\"\n                  onClick={() => { dispatch(toggleCurrentModal(\"selectDepositMethodModal\")) }}\n                >\n                  {props.t(\"Back\")}\n                </Button>\n                <Button\n                  className=\"btn btn-success waves-effect waves-light w-lg btn-sm\"\n                  onClick={() => toggleOpen()}\n                >\n                  {props.t(\"Continue\")}\n                </Button>\n              </div>\n            </Form>\n          </div>\n        </>\n      ),\n    },\n  ];\n  // { header: \"Copy Address\", content: <>No design</> }]\n  return (\n    <CustomModal\n      steps={steps}\n      isOpen={isOpen}\n      toggleOpen={toggleOpen}\n      activeStep={activeStep}\n      toggleTab={toggleTab}\n    ></CustomModal>\n  );\n}\nexport default withTranslation()(CryptoDeposit); \n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}