{"ast":null,"code":"import React,{useEffect}from\"react\";import{Button,Col,Input,InputGroup,InputGroupText,Label,Row}from\"reactstrap\";import Select from\"react-select\";import config from\"config\";import QRCode from\"qrcode.react\";import FeatherIcon from\"feather-icons-react\";import{useDispatch}from\"react-redux\";import{showSuccessNotification}from\"store/actions\";import{AvForm,AvInput}from\"availity-reactstrap-validation\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CompanyCrypto(_ref){let{t,setIsFirstStepValid,setPaymentPayload}=_ref;const options=config.COMPANY_WALLETS.map(wallet=>{return{label:wallet.name,value:wallet};});const[coin,setCoin]=React.useState(null);const[network,setNetwork]=React.useState(null);const[walletAddress,setWalletAddress]=React.useState(null);const[transactionHash,setTransactionHash]=React.useState(null);const dispatch=useDispatch();useEffect(()=>{return()=>{setCoin(null);setNetwork(null);};},[]);useEffect(()=>{if(walletAddress&&transactionHash){setIsFirstStepValid(true);setPaymentPayload({walletAddress,transactionHash,coin:coin.name,network:network.name});}else{setIsFirstStepValid(false);setPaymentPayload({});}},[walletAddress,transactionHash]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:t(\"Note the following Details\")}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{md:12,className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Coin\")}),/*#__PURE__*/_jsx(Select,{name:\"coin\",onChange:e=>setCoin(e.value),required:true,placeholder:\"Select Coin\",options:options})]}),coin&&/*#__PURE__*/_jsxs(Col,{md:12,children:[/*#__PURE__*/_jsx(Label,{children:t(\"Network\")}),/*#__PURE__*/_jsx(Select,{name:\"network\",onChange:e=>setNetwork(e.value),required:true,placeholder:\"Select Network\",options:coin===null||coin===void 0?void 0:coin.networks.map(network=>{return{label:network.name,value:network};})})]}),network&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Col,{md:12,className:\"my-3\",children:/*#__PURE__*/_jsxs(InputGroup,{children:[/*#__PURE__*/_jsx(InputGroupText,{children:\"Address\"}),/*#__PURE__*/_jsx(Input,{type:\"Address\",name:\"address\",value:network.address,disabled:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>{navigator.clipboard.writeText(network.address);dispatch(showSuccessNotification(\"Copied to clipboard\"));},className:\"cursor-pointer d-flex justify-content-center align-items-center\",style:{padding:10},children:/*#__PURE__*/_jsx(FeatherIcon,{icon:\"copy\"})})]})}),/*#__PURE__*/_jsx(Col,{md:12,children:/*#__PURE__*/_jsx(\"div\",{className:\"my-3 d-flex justify-content-center\",children:/*#__PURE__*/_jsx(QRCode,{value:network.address,size:256,bgColor:\"#FFFFFF\",fgColor:\"#000000\",level:\"L\",includeMargin:false,renderAs:\"svg\"})})})]}),network&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(AvForm,{children:[/*#__PURE__*/_jsxs(Col,{md:12,className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Your Wallet Address\")}),/*#__PURE__*/_jsx(AvInput,{type:\"text\",name:\"walletAddress\",onChange:e=>setWalletAddress(e.target.value),label:t(\"Wallet Address\"),placeholder:t(\"Enter Wallet Address\"),required:true})]}),/*#__PURE__*/_jsxs(Col,{md:12,className:\"my-3\",children:[/*#__PURE__*/_jsx(Label,{children:t(\"Transaction Hash\")}),/*#__PURE__*/_jsx(AvInput,{type:\"text\",name:\"transactionHash\",onChange:e=>setTransactionHash(e.target.value),label:t(\"Transaction Hash\"),placeholder:t(\"Enter Transaction Hash\"),required:true})]})]})})]})]});}","map":{"version":3,"names":["React","useEffect","Button","Col","Input","InputGroup","InputGroupText","Label","Row","Select","config","QRCode","FeatherIcon","useDispatch","showSuccessNotification","AvForm","AvInput","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CompanyCrypto","_ref","t","setIsFirstStepValid","setPaymentPayload","options","COMPANY_WALLETS","map","wallet","label","name","value","coin","setCoin","useState","network","setNetwork","walletAddress","setWalletAddress","transactionHash","setTransactionHash","dispatch","children","className","md","onChange","e","required","placeholder","networks","type","address","disabled","onClick","navigator","clipboard","writeText","style","padding","icon","size","bgColor","fgColor","level","includeMargin","renderAs","target"],"sources":["/home/ubuntu/king/portal/client-portal-starter/src/components/Deposit/Methods/Crypto.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  Button,\n  Col,\n  Input,\n  InputGroup,\n  InputGroupText,\n  Label,\n  Row\n} from \"reactstrap\";\nimport Select from \"react-select\";\nimport config from \"config\";\nimport QRCode from \"qrcode.react\";\nimport FeatherIcon from \"feather-icons-react\";\nimport { useDispatch } from \"react-redux\";\nimport { showSuccessNotification } from \"store/actions\";\nimport { AvForm, AvInput } from \"availity-reactstrap-validation\";\n\nexport default function CompanyCrypto({ t, setIsFirstStepValid, setPaymentPayload }) {\n  const options = config.COMPANY_WALLETS.map((wallet) => {\n    return {\n      label: wallet.name,\n      value: wallet\n    };\n  });\n  const [coin, setCoin] = React.useState(null);\n  const [network, setNetwork] = React.useState(null);\n  const [walletAddress, setWalletAddress] = React.useState(null);\n  const [transactionHash, setTransactionHash] = React.useState(null);\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    return () => {\n      setCoin(null);\n      setNetwork(null);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (walletAddress && transactionHash) {\n      setIsFirstStepValid(true);\n      setPaymentPayload({\n        walletAddress,\n        transactionHash,\n        coin: coin.name,\n        network: network.name\n      });\n    } else {\n      setIsFirstStepValid(false);\n      setPaymentPayload({});\n    }\n  }, [walletAddress, transactionHash]);\n\n  return (\n    <>\n      <p className=\"text-muted\">{t(\"Note the following Details\")}</p>\n      <Row>\n        <Col md={12} className=\"my-3\">\n          <Label>{t(\"Coin\")}</Label>\n          <Select\n            name=\"coin\"\n            onChange={(e) => setCoin(e.value)}\n            required\n            placeholder=\"Select Coin\"\n            options={options}\n          >\n          </Select>\n        </Col>\n        {\n          coin && (\n            <Col md={12}>\n              <Label>{t(\"Network\")}</Label>\n              <Select\n                name=\"network\"\n                onChange={(e) => setNetwork(e.value)}\n                required\n                placeholder=\"Select Network\"\n                options={coin?.networks.map((network) => {\n                  return {\n                    label: network.name,\n                    value: network\n                  };\n                })}\n              >\n              </Select>\n            </Col>\n          )  \n        }\n        {\n          network && (\n            <>\n              <Col md={12} className=\"my-3\">\n                <InputGroup>\n                  <InputGroupText>\n                    Address\n                  </InputGroupText>\n                  <Input\n                    type=\"Address\"\n                    name=\"address\"\n                    value={network.address}\n                    disabled\n                  />\n                  <br />\n                  <div onClick={()=>{\n                    navigator.clipboard.writeText(network.address);\n                    dispatch(showSuccessNotification(\"Copied to clipboard\"));\n                  }} className=\"cursor-pointer d-flex justify-content-center align-items-center\" style={{\n                    padding: 10\n                  }}\n                  >\n                    <FeatherIcon icon=\"copy\" />\n                  </div>\n                </InputGroup>\n              </Col>\n              <Col md={12} >\n                <div className=\"my-3 d-flex justify-content-center\">\n                  <QRCode\n                    value={network.address}\n                    size={256}\n                    bgColor=\"#FFFFFF\"\n                    fgColor=\"#000000\"\n                    level=\"L\"\n                    includeMargin={false}\n                    renderAs=\"svg\"\n                  />\n                </div>\n                \n              </Col>\n            </>\n          )\n        }\n        {\n          network && (\n            <>\n              <AvForm>\n                <Col md={12} className=\"my-3\">\n                  <Label>{t(\"Your Wallet Address\")}</Label>\n                  <AvInput\n                    type=\"text\"\n                    name=\"walletAddress\"\n                    onChange={(e) => setWalletAddress(e.target.value)}\n                    label={t(\"Wallet Address\")}\n                    placeholder={t(\"Enter Wallet Address\")}\n                    required\n                  />\n                </Col>\n                <Col md={12} className=\"my-3\">\n                  <Label>{t(\"Transaction Hash\")}</Label>\n                  <AvInput\n                    type=\"text\"\n                    name=\"transactionHash\"\n                    onChange={(e) => setTransactionHash(e.target.value)}\n                    label={t(\"Transaction Hash\")}\n                    placeholder={t(\"Enter Transaction Hash\")}\n                    required\n                  />\n                </Col>\n              </AvForm>\n            </>\n          )\n        }\n      </Row>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}