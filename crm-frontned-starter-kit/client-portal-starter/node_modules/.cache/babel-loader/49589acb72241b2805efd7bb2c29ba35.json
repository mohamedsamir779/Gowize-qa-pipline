{"ast":null,"code":"import _objectSpread from\"/home/ubuntu/Gowize-qa-pipline/client-portal-starter/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/* eslint-disable no-empty-pattern */import React,{useEffect}from\"react\";import MetaTags from\"react-meta-tags\";import{Row,Col,Alert,Container,Form,FormGroup,Label,Button,Spinner,Card}from\"reactstrap\";import{withTranslation}from\"react-i18next\";import{apiError}from\"../../store/actions\";//redux\nimport{useSelector,useDispatch}from\"react-redux\";import{Link,useHistory,useLocation,withRouter}from\"react-router-dom\";import*as content from\"content\";import{Formik,Field as FormikField,Form as FormikForm}from\"formik\";import{CustomInput}from\"../../components/Common/CustomInput\";import*as Yup from\"yup\";import{resetPasswordStart}from\"store/general/auth/resetPassword/actions\";import LanguageDropdown from\"components/CommonForBoth/TopbarDropdown/LanguageDropdown\";// eslint-disable-next-line no-useless-escape\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const passwordRegExp=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z!@#$%^&*()_,.?\":{}|<>\\d]{8,20}$/;const validationSchema=Yup.object().shape({password:Yup.string(\"\").min(8,\"Password must contain atleast 8 characters\").max(20,\"Password should not be more than 20 characters long\").matches(passwordRegExp,\"Atleast one lower case, upper case and number required\").required(\"Enter your password\")});const ResetPassword=props=>{const dispatch=useDispatch();const location=useLocation();const history=useHistory();const{loading,error,success,message}=useSelector(state=>({loading:state.resetPasswordReducer.loading,error:state.resetPasswordReducer.error,message:state.resetPasswordReducer.message,success:state.resetPasswordReducer.success}));const token=new URLSearchParams(location.search).get(\"token\")||\"\";useEffect(()=>{dispatch(apiError(\"\"));},[dispatch]);useEffect(()=>{if(success){console.log(\"success\");history.push(\"/login\");}},[success]);console.log(\"success\",success);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(MetaTags,{children:/*#__PURE__*/_jsxs(\"title\",{children:[props.t(\"Register\"),\" | \",props.t(\"Go Wize Markets\")]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-page\",children:/*#__PURE__*/_jsx(Container,{fluid:true,className:\"p-0\",children:/*#__PURE__*/_jsx(Row,{className:\"g-0\",children:/*#__PURE__*/_jsxs(Col,{lg:3,md:5,className:\"mx-auto\",style:{margin:\"5rem auto\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:\"absolute\",display:\"block\",top:-20,right:0,zIndex:999},children:/*#__PURE__*/_jsx(LanguageDropdown,{})}),/*#__PURE__*/_jsx(Card,{className:\"d-flex  p-sm-5 p-4  card-shadow\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column h-100\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 mb-md-2 text-center\",children:/*#__PURE__*/_jsxs(Link,{to:\"/dashboard\",className:\"d-block auth-logo\",children:[/*#__PURE__*/_jsx(\"img\",{src:content.mainLogo,alt:\"\",height:\"28\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"logo-txt\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"auth-content my-auto\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center mb-4 mb-md-3\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:props.t(\"Reset Password\")})}),/*#__PURE__*/_jsx(Formik,{initialValues:{password:\"\"},validationSchema:validationSchema,onSubmit:values=>{dispatch(resetPasswordStart(_objectSpread(_objectSpread({},values),{},{token})));},children:_ref=>{let{}=_ref;return/*#__PURE__*/_jsxs(Form,{tag:FormikForm,children:[/*#__PURE__*/_jsxs(FormGroup,{row:true,children:[/*#__PURE__*/_jsx(Col,{xs:12,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Label,{for:\"password\",children:props.t(\"New Password\")}),/*#__PURE__*/_jsx(FormikField,{component:CustomInput,name:\"password\",className:\"mb-2\",type:\"password\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-muted mb-0\",children:[props.t(\"Remember your Password?\"),\"  \",/*#__PURE__*/_jsxs(\"a\",{href:\"login\",className:\"text-primary fw-semibold\",children:[\" \",props.t(\"Sign In\"),\" \"]}),\" \"]})})]}),error&&error?/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:message}):null,/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:12,className:\"text-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\",children:loading?/*#__PURE__*/_jsx(Spinner,{className:\"ms-2 text-center\",color:\"primary\"}):/*#__PURE__*/_jsx(Button,{className:\"text-center\",color:\"primary\",type:\"submit\",children:props.t(\"Reset Password\")})})})})]});}})]})]})})})]})})})})]});};export default withRouter(withTranslation()(ResetPassword));","map":{"version":3,"names":["React","useEffect","MetaTags","Row","Col","Alert","Container","Form","FormGroup","Label","Button","Spinner","Card","withTranslation","apiError","useSelector","useDispatch","Link","useHistory","useLocation","withRouter","content","Formik","Field","FormikField","FormikForm","CustomInput","Yup","resetPasswordStart","LanguageDropdown","jsxs","_jsxs","jsx","_jsx","passwordRegExp","validationSchema","object","shape","password","string","min","max","matches","required","ResetPassword","props","dispatch","location","history","loading","error","success","message","state","resetPasswordReducer","token","URLSearchParams","search","get","console","log","push","Fragment","children","t","className","fluid","lg","md","style","margin","position","display","top","right","zIndex","to","src","mainLogo","alt","height","initialValues","onSubmit","values","_objectSpread","_ref","tag","row","xs","for","component","name","type","href","color"],"sources":["/home/ubuntu/Gowize-qa-pipline/client-portal-starter/src/pages/Authentication/ResetPassword.js"],"sourcesContent":["/* eslint-disable no-empty-pattern */\nimport React, { useEffect } from \"react\";\nimport MetaTags from \"react-meta-tags\";\nimport {\n  Row, Col, Alert, Container, Form, FormGroup, Label, Button, Spinner, Card\n} from \"reactstrap\";\nimport { withTranslation } from \"react-i18next\";\n\nimport {  apiError } from \"../../store/actions\";\n\n//redux\nimport {\n  useSelector, useDispatch,\n} from \"react-redux\";\n\nimport { \n  Link, \n  useHistory, \n  useLocation, \n  withRouter,\n} from \"react-router-dom\";\n\nimport * as content from \"content\";\nimport {\n  Formik, Field as FormikField, Form as FormikForm \n} from \"formik\";\nimport { CustomInput } from \"../../components/Common/CustomInput\";\nimport * as Yup from \"yup\";\nimport { resetPasswordStart } from \"store/general/auth/resetPassword/actions\";\nimport LanguageDropdown from \"components/CommonForBoth/TopbarDropdown/LanguageDropdown\";\n\n// eslint-disable-next-line no-useless-escape\nconst passwordRegExp = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z!@#$%^&*()_,.?\":{}|<>\\d]{8,20}$/;\n\nconst validationSchema = Yup.object().shape({\n  password: Yup.string(\"\")\n    .min(8, \"Password must contain atleast 8 characters\")\n    .max(20, \"Password should not be more than 20 characters long\")\n    .matches(\n      passwordRegExp,\n      \"Atleast one lower case, upper case and number required\")\n    .required(\"Enter your password\"),\n});\n\nconst ResetPassword = props => {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const history = useHistory();\n  const { loading, error, success, message } = useSelector(state => ({\n    loading: state.resetPasswordReducer.loading,\n    error: state.resetPasswordReducer.error,\n    message: state.resetPasswordReducer.message,\n    success: state.resetPasswordReducer.success,\n  }));\n  const token = new URLSearchParams(location.search).get(\"token\") || \"\";\n\n  useEffect(() => {\n    dispatch(apiError(\"\"));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (success) {\n      console.log(\"success\");\n      history.push(\"/login\");\n    }\n  }, [success]);\n\n  console.log(\"success\", success);\n\n\n  return (\n    <React.Fragment>\n      <MetaTags>\n        <title>{props.t(\"Register\")} | {props.t(\"Go Wize Markets\")}</title>\n      </MetaTags>\n      <div className=\"auth-page\">\n        <Container fluid className=\"p-0\">\n          <Row className=\"g-0\">\n            <Col lg={3} md={5} className=\"mx-auto\" style={{ margin: \"5rem auto\" }}>\n              <div style={{\n                position: \"absolute\",\n                display: \"block\",\n                top: -20,\n                right: 0,\n                zIndex: 999,\n              }}>\n                <LanguageDropdown />\n              </div>\n              <Card className=\"d-flex  p-sm-5 p-4  card-shadow\">\n                <div className=\"w-100\">\n                  <div className=\"d-flex flex-column h-100\">\n                    <div className=\"mb-4 mb-md-2 text-center\">\n                      <Link to=\"/dashboard\" className=\"d-block auth-logo\">\n                        <img src={content.mainLogo} alt=\"\" height=\"28\" /> <span className=\"logo-txt\"></span>\n                      </Link>\n                    </div>\n                    <div className=\"auth-content my-auto\">\n                      <div className=\"text-center mb-4 mb-md-3\">\n                        <h5 className=\"mb-0\">{props.t(\"Reset Password\")}</h5>\n                      </div>\n\n                      <Formik\n                        initialValues={{\n                          password: \"\",\n                        }}\n                        validationSchema={validationSchema}\n                        onSubmit={(values) => {\n                          dispatch(resetPasswordStart({\n                            ...values, \n                            token,\n                          }));\n                        }}>\n                        {({  }) => (\n                          <Form tag={FormikForm}>\n                            <FormGroup row>\n                              <Col xs={12}>\n                                <div className=\"mb-3\">\n                                  <Label for=\"password\">{props.t(\"New Password\")}</Label>\n                                  <FormikField\n                                    component={CustomInput}\n                                    name=\"password\"\n                                    className={\"mb-2\"}\n                                    type={\"password\"}\n                                  >\n                                  </FormikField>\n                                </div>\n                              </Col>\n                              <div className=\"mb-4 text-center\">\n                                <p className=\"text-muted mb-0\">{props.t(\"Remember your Password?\")}  <a href=\"login\"\n                                  className=\"text-primary fw-semibold\"> {props.t(\"Sign In\")} </a> </p>\n                              </div>\n                            </FormGroup>\n                            { error && error ? (\n                              <Alert color=\"danger\">{message}</Alert>\n                            ) : null}\n                            <Row>\n                              <Col xs={12} className=\"text-right\">\n                                <span className=\"\">\n                                  {loading ? <Spinner className=\"ms-2 text-center\" color=\"primary\" /> : <Button className=\"text-center\" color=\"primary\" type=\"submit\">{props.t(\"Reset Password\")}</Button>}\n                                </span>\n                              </Col>\n                            </Row>\n                          </Form>\n                        )}\n                      </Formik>\n                    </div>\n                  </div>\n                </div>\n              </Card>\n            </Col>\n          </Row>\n        </Container>\n      </div>\n    </React.Fragment>\n  );\n};\n\nexport default withRouter(withTranslation()(ResetPassword));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}