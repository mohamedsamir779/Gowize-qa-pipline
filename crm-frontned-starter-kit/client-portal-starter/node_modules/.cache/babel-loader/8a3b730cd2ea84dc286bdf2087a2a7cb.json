{"ast":null,"code":"var WritableStream = require('stream').Writable;\nvar util = require('util');\nvar Blob = require('blob');\nvar URL = global.URL || global.webkitURL || global.mozURL;\nfunction BlobStream() {\n  if (!(this instanceof BlobStream)) return new BlobStream();\n  WritableStream.call(this);\n  this._chunks = [];\n  this._blob = null;\n  this.length = 0;\n}\nutil.inherits(BlobStream, WritableStream);\nBlobStream.prototype._write = function (chunk, encoding, callback) {\n  // convert chunks to Uint8Arrays (e.g. Buffer when array fallback is being used)\n  if (!(chunk instanceof Uint8Array)) chunk = new Uint8Array(chunk);\n  this.length += chunk.length;\n  this._chunks.push(chunk);\n  callback();\n};\nBlobStream.prototype.toBlob = function (type) {\n  type = type || 'application/octet-stream';\n\n  // cache the blob if needed\n  if (!this._blob) {\n    this._blob = new Blob(this._chunks, {\n      type: type\n    });\n    this._chunks = []; // free memory\n  }\n\n  // if the cached blob's type doesn't match the requested type, make a new blob\n  if (this._blob.type !== type) this._blob = new Blob([this._blob], {\n    type: type\n  });\n  return this._blob;\n};\nBlobStream.prototype.toBlobURL = function (type) {\n  return URL.createObjectURL(this.toBlob(type));\n};\nmodule.exports = BlobStream;","map":{"version":3,"names":["WritableStream","require","Writable","util","Blob","URL","global","webkitURL","mozURL","BlobStream","call","_chunks","_blob","length","inherits","prototype","_write","chunk","encoding","callback","Uint8Array","push","toBlob","type","toBlobURL","createObjectURL","module","exports"],"sources":["/home/ubuntu/king/portal/client-portal-starter/node_modules/blob-stream/index.js"],"sourcesContent":["var WritableStream = require('stream').Writable;\nvar util = require('util');\nvar Blob = require('blob');\nvar URL = global.URL || global.webkitURL || global.mozURL;\n\nfunction BlobStream() {\n  if (!(this instanceof BlobStream))\n    return new BlobStream;\n    \n  WritableStream.call(this);\n  this._chunks = [];\n  this._blob = null;\n  this.length = 0;\n}\n\nutil.inherits(BlobStream, WritableStream);\n\nBlobStream.prototype._write = function(chunk, encoding, callback) {\n  // convert chunks to Uint8Arrays (e.g. Buffer when array fallback is being used)\n  if (!(chunk instanceof Uint8Array))\n    chunk = new Uint8Array(chunk);\n    \n  this.length += chunk.length;\n  this._chunks.push(chunk);\n  callback();\n};\n\nBlobStream.prototype.toBlob = function(type) {\n  type = type || 'application/octet-stream';\n  \n  // cache the blob if needed\n  if (!this._blob) {\n    this._blob = new Blob(this._chunks, {\n      type: type\n    });\n    \n    this._chunks = []; // free memory\n  }\n  \n  // if the cached blob's type doesn't match the requested type, make a new blob\n  if (this._blob.type !== type)\n    this._blob = new Blob([this._blob], { type: type });\n  \n  return this._blob;\n};\n\nBlobStream.prototype.toBlobURL = function(type) {\n  return URL.createObjectURL(this.toBlob(type));\n};\n\nmodule.exports = BlobStream;\n"],"mappings":"AAAA,IAAIA,cAAc,GAAGC,OAAO,CAAC,QAAQ,CAAC,CAACC,QAAQ;AAC/C,IAAIC,IAAI,GAAGF,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAIG,IAAI,GAAGH,OAAO,CAAC,MAAM,CAAC;AAC1B,IAAII,GAAG,GAAGC,MAAM,CAACD,GAAG,IAAIC,MAAM,CAACC,SAAS,IAAID,MAAM,CAACE,MAAM;AAEzD,SAASC,UAAUA,CAAA,EAAG;EACpB,IAAI,EAAE,IAAI,YAAYA,UAAU,CAAC,EAC/B,OAAO,IAAIA,UAAU,CAAD,CAAC;EAEvBT,cAAc,CAACU,IAAI,CAAC,IAAI,CAAC;EACzB,IAAI,CAACC,OAAO,GAAG,EAAE;EACjB,IAAI,CAACC,KAAK,GAAG,IAAI;EACjB,IAAI,CAACC,MAAM,GAAG,CAAC;AACjB;AAEAV,IAAI,CAACW,QAAQ,CAACL,UAAU,EAAET,cAAc,CAAC;AAEzCS,UAAU,CAACM,SAAS,CAACC,MAAM,GAAG,UAASC,KAAK,EAAEC,QAAQ,EAAEC,QAAQ,EAAE;EAChE;EACA,IAAI,EAAEF,KAAK,YAAYG,UAAU,CAAC,EAChCH,KAAK,GAAG,IAAIG,UAAU,CAACH,KAAK,CAAC;EAE/B,IAAI,CAACJ,MAAM,IAAII,KAAK,CAACJ,MAAM;EAC3B,IAAI,CAACF,OAAO,CAACU,IAAI,CAACJ,KAAK,CAAC;EACxBE,QAAQ,CAAC,CAAC;AACZ,CAAC;AAEDV,UAAU,CAACM,SAAS,CAACO,MAAM,GAAG,UAASC,IAAI,EAAE;EAC3CA,IAAI,GAAGA,IAAI,IAAI,0BAA0B;;EAEzC;EACA,IAAI,CAAC,IAAI,CAACX,KAAK,EAAE;IACf,IAAI,CAACA,KAAK,GAAG,IAAIR,IAAI,CAAC,IAAI,CAACO,OAAO,EAAE;MAClCY,IAAI,EAAEA;IACR,CAAC,CAAC;IAEF,IAAI,CAACZ,OAAO,GAAG,EAAE,CAAC,CAAC;EACrB;;EAEA;EACA,IAAI,IAAI,CAACC,KAAK,CAACW,IAAI,KAAKA,IAAI,EAC1B,IAAI,CAACX,KAAK,GAAG,IAAIR,IAAI,CAAC,CAAC,IAAI,CAACQ,KAAK,CAAC,EAAE;IAAEW,IAAI,EAAEA;EAAK,CAAC,CAAC;EAErD,OAAO,IAAI,CAACX,KAAK;AACnB,CAAC;AAEDH,UAAU,CAACM,SAAS,CAACS,SAAS,GAAG,UAASD,IAAI,EAAE;EAC9C,OAAOlB,GAAG,CAACoB,eAAe,CAAC,IAAI,CAACH,MAAM,CAACC,IAAI,CAAC,CAAC;AAC/C,CAAC;AAEDG,MAAM,CAACC,OAAO,GAAGlB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"script"}